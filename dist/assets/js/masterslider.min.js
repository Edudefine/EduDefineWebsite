/*! 
 * Master Slider – Responsive Touch Swipe Slider
 * Copyright © 2015 All Rights Reserved. 
 *
 * @author Averta [www.averta.net]
 * @version 2.14.6
 * @date May 2015
 */
window.averta={},function($){function getVendorPrefix(){if("result"in arguments.callee)return arguments.callee.result;var regex=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,someScript=document.getElementsByTagName("script")[0];for(var prop in someScript.style)if(regex.test(prop))return arguments.callee.result=prop.match(regex)[0];return arguments.callee.result="WebkitOpacity"in someScript.style?"Webkit":"KhtmlOpacity"in someScript.style?"Khtml":""}function checkStyleValue(prop){var b=document.body||document.documentElement,s=b.style,p=prop;if("string"==typeof s[p])return!0;v=["Moz","Webkit","Khtml","O","ms"],p=p.charAt(0).toUpperCase()+p.substr(1);for(var i=0;i<v.length;i++)if("string"==typeof s[v[i]+p])return!0;return!1}function supportsTransitions(){return checkStyleValue("transition")}function supportsTransforms(){return checkStyleValue("transform")}function supports3DTransforms(){if(!supportsTransforms())return!1;var has3d,el=document.createElement("i"),transforms={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform",transform:"transform"};el.style.display="block",document.body.insertBefore(el,null);for(var t in transforms)void 0!==el.style[t]&&(el.style[t]="translate3d(1px,1px,1px)",has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]));return document.body.removeChild(el),null!=has3d&&has3d.length>0&&"none"!==has3d}window["package"]=function(name){window[name]||(window[name]={})};var extend=function(target,object){for(var key in object)target[key]=object[key]};Function.prototype.extend=function(superclass){"function"==typeof superclass.prototype.constructor?(extend(this.prototype,superclass.prototype),this.prototype.constructor=this):(this.prototype.extend(superclass),this.prototype.constructor=this)};var trans={Moz:"-moz-",Webkit:"-webkit-",Khtml:"-khtml-",O:"-o-",ms:"-ms-",Icab:"-icab-"};window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),window._touch="ontouchstart"in document,$(document).ready(function(){window._jcsspfx=getVendorPrefix(),window._csspfx=trans[window._jcsspfx],window._cssanim=supportsTransitions(),window._css3d=supports3DTransforms(),window._css2d=supportsTransforms()}),window.parseQueryString=function(url){var queryString={};return url.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function($0,$1,$2,$3){queryString[$1]=$3}),queryString};var fps60=50/3;if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,fps60)}}()),window.getComputedStyle||(window.getComputedStyle=function(el){return this.el=el,this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;return"float"==prop&&(prop="styleFloat"),re.test(prop)&&(prop=prop.replace(re,function(){return arguments[2].toUpperCase()})),el.currentStyle[prop]?el.currentStyle[prop]:null},el.currentStyle}),Array.prototype.indexOf||(Array.prototype.indexOf=function(elt){var len=this.length>>>0,from=Number(arguments[1])||0;for(from=0>from?Math.ceil(from):Math.floor(from),0>from&&(from+=len);len>from;from++)if(from in this&&this[from]===elt)return from;return-1}),window.isMSIE=function(version){if(!$.browser.msie)return!1;if(!version)return!0;var ieVer=$.browser.version.slice(0,$.browser.version.indexOf("."));return"string"==typeof version?eval(-1!==version.indexOf("<")||-1!==version.indexOf(">")?ieVer+version:version+"=="+ieVer):version==ieVer},$.removeDataAttrs=function($target,exclude){var i,attrName,dataAttrsToDelete=[],dataAttrs=$target[0].attributes,dataAttrsLen=dataAttrs.length;for(exclude=exclude||[],i=0;dataAttrsLen>i;i++)attrName=dataAttrs[i].name,"data-"===attrName.substring(0,5)&&-1===exclude.indexOf(attrName)&&dataAttrsToDelete.push(dataAttrs[i].name);$.each(dataAttrsToDelete,function(index,attrName){$target.removeAttr(attrName)})},jQuery){$.jqLoadFix=function(){if(this.complete){var that=this;setTimeout(function(){$(that).load()},1)}},jQuery.uaMatch=jQuery.uaMatch||function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0);var isIE11=!!navigator.userAgent.match(/Trident\/7\./);isIE11&&(browser.msie="true",delete browser.mozilla),jQuery.browser=browser,$.fn.preloadImg=function(src,_event){return this.each(function(){var $this=$(this),self=this,img=new Image;img.onload=function(event){null==event&&(event={}),$this.attr("src",src),event.width=img.width,event.height=img.height,$this.data("width",img.width),$this.data("height",img.height),setTimeout(function(){_event.call(self,event)},50),img=null},img.src=src}),this}}}(jQuery),function(){"use strict";averta.EventDispatcher=function(){this.listeners={}},averta.EventDispatcher.extend=function(_proto){var instance=new averta.EventDispatcher;for(var key in instance)"constructor"!=key&&(_proto[key]=averta.EventDispatcher.prototype[key])},averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener:function(event,listener,ref){this.listeners[event]||(this.listeners[event]=[]),this.listeners[event].push({listener:listener,ref:ref})},removeEventListener:function(event,listener,ref){if(this.listeners[event]){for(var i=0;i<this.listeners[event].length;++i)listener===this.listeners[event][i].listener&&ref===this.listeners[event][i].ref&&this.listeners[event].splice(i--,1);0===this.listeners[event].length&&(this.listeners[event]=null)}},dispatchEvent:function(event){if(event.target=this,this.listeners[event.type])for(var i=0,l=this.listeners[event.type].length;l>i;++i)this.listeners[event.type][i].listener.call(this.listeners[event.type][i].ref,event)}}}(),function($){"use strict";var isTouch="ontouchstart"in document,isPointer=window.navigator.pointerEnabled,isMSPoiner=!isPointer&&window.navigator.msPointerEnabled,usePointer=isPointer||isMSPoiner,ev_start=(isPointer?"pointerdown ":"")+(isMSPoiner?"MSPointerDown ":"")+(isTouch?"touchstart ":"")+"mousedown",ev_move=(isPointer?"pointermove ":"")+(isMSPoiner?"MSPointerMove ":"")+(isTouch?"touchmove ":"")+"mousemove",ev_end=(isPointer?"pointerup ":"")+(isMSPoiner?"MSPointerUp ":"")+(isTouch?"touchend ":"")+"mouseup",ev_cancel=(isPointer?"pointercancel ":"")+(isMSPoiner?"MSPointerCancel ":"")+"touchcancel";averta.TouchSwipe=function($element){this.$element=$element,this.enabled=!0,$element.bind(ev_start,{target:this},this.__touchStart),$element[0].swipe=this,this.onSwipe=null,this.swipeType="horizontal",this.noSwipeSelector="input, textarea, button, .no-swipe, .ms-no-swipe",this.lastStatus={}};var p=averta.TouchSwipe.prototype;p.getDirection=function(new_x,new_y){switch(this.swipeType){case"horizontal":return new_x<=this.start_x?"left":"right";case"vertical":return new_y<=this.start_y?"up":"down";case"all":return Math.abs(new_x-this.start_x)>Math.abs(new_y-this.start_y)?new_x<=this.start_x?"left":"right":new_y<=this.start_y?"up":"down"}},p.priventDefultEvent=function(new_x,new_y){var dx=Math.abs(new_x-this.start_x),dy=Math.abs(new_y-this.start_y),horiz=dx>dy;return"horizontal"===this.swipeType&&horiz||"vertical"===this.swipeType&&!horiz},p.createStatusObject=function(evt){var temp_x,temp_y,status_data={};return temp_x=this.lastStatus.distanceX||0,temp_y=this.lastStatus.distanceY||0,status_data.distanceX=evt.pageX-this.start_x,status_data.distanceY=evt.pageY-this.start_y,status_data.moveX=status_data.distanceX-temp_x,status_data.moveY=status_data.distanceY-temp_y,status_data.distance=parseInt(Math.sqrt(Math.pow(status_data.distanceX,2)+Math.pow(status_data.distanceY,2))),status_data.duration=(new Date).getTime()-this.start_time,status_data.direction=this.getDirection(evt.pageX,evt.pageY),status_data},p.__reset=function(event,jqevt){this.reset=!1,this.lastStatus={},this.start_time=(new Date).getTime(),this.start_x=isTouch?event.touches[0].pageX:usePointer?event.pageX:jqevt.pageX,this.start_y=isTouch?event.touches[0].pageY:usePointer?event.pageY:jqevt.pageY},p.__touchStart=function(event){var swipe=event.data.target,jqevt=event;if(swipe.enabled&&!($(event.target).closest(swipe.noSwipeSelector,swipe.$element).length>0)){if(event=event.originalEvent,usePointer&&$(this).css("-ms-touch-action","horizontal"===swipe.swipeType?"pan-y":"pan-x"),!swipe.onSwipe)return void $.error("Swipe listener is undefined");if(!swipe.touchStarted){swipe.start_x=isTouch?event.touches[0].pageX:usePointer?event.pageX:jqevt.pageX,swipe.start_y=isTouch?event.touches[0].pageY:usePointer?event.pageY:jqevt.pageY,swipe.start_time=(new Date).getTime(),$(document).bind(ev_end,{target:swipe},swipe.__touchEnd).bind(ev_move,{target:swipe},swipe.__touchMove).bind(ev_cancel,{target:swipe},swipe.__touchCancel);var evt=isTouch?event.touches[0]:usePointer?event:jqevt,status=swipe.createStatusObject(evt);status.phase="start",swipe.onSwipe.call(null,status),isTouch||jqevt.preventDefault(),swipe.lastStatus=status,swipe.touchStarted=!0}}},p.__touchMove=function(event){var swipe=event.data.target,jqevt=event;if(event=event.originalEvent,swipe.touchStarted){clearTimeout(swipe.timo),swipe.timo=setTimeout(function(){swipe.__reset(event,jqevt)},60);var evt=isTouch?event.touches[0]:usePointer?event:jqevt,status=swipe.createStatusObject(evt);swipe.priventDefultEvent(evt.pageX,evt.pageY)&&jqevt.preventDefault(),status.phase="move",swipe.lastStatus=status,swipe.onSwipe.call(null,status)}},p.__touchEnd=function(event){var swipe=event.data.target,jqevt=event;event=event.originalEvent,clearTimeout(swipe.timo);var status=(isTouch?event.touches[0]:usePointer?event:jqevt,swipe.lastStatus);isTouch||jqevt.preventDefault(),status.phase="end",swipe.touchStarted=!1,swipe.priventEvt=null,$(document).unbind(ev_end,swipe.__touchEnd).unbind(ev_move,swipe.__touchMove).unbind(ev_cancel,swipe.__touchCancel),status.speed=status.distance/status.duration,swipe.onSwipe.call(null,status)},p.__touchCancel=function(event){var swipe=event.data.target;swipe.__touchEnd(event)},p.enable=function(){this.enabled||(this.enabled=!0)},p.disable=function(){this.enabled&&(this.enabled=!1)}}(jQuery),function(){"use strict";averta.Ticker=function(){};var st=averta.Ticker,list=[],len=0,__stopped=!0;st.add=function(listener,ref){return list.push([listener,ref]),1===list.length&&st.start(),len=list.length},st.remove=function(listener,ref){for(var i=0,l=list.length;l>i;++i)list[i]&&list[i][0]===listener&&list[i][1]===ref&&list.splice(i,1);len=list.length,0===len&&st.stop()},st.start=function(){__stopped&&(__stopped=!1,__tick())},st.stop=function(){__stopped=!0};var __tick=function(){if(!st.__stopped){for(var item,i=0;i!==len;i++)item=list[i],item[0].call(item[1]);requestAnimationFrame(__tick)}}}(),function(){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),averta.Timer=function(delay,autoStart){this.delay=delay,this.currentCount=0,this.paused=!1,this.onTimer=null,this.refrence=null,autoStart&&this.start()},averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=!1,this.lastTime=Date.now(),averta.Ticker.add(this.update,this)},stop:function(){this.paused=!0,averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()},update:function(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&&this.onTimer.call(this.refrence,this.getTime()))},getTime:function(){return this.delay*this.currentCount}}}(),function(){"use strict";window.CSSTween=function(element,duration,delay,ease){this.$element=element,this.duration=duration||1e3,this.delay=delay||0,this.ease=ease||"linear"};var p=CSSTween.prototype;p.to=function(callback,target){return this.to_cb=callback,this.to_cb_target=target,this},p.from=function(callback,target){return this.fr_cb=callback,this.fr_cb_target=target,this},p.onComplete=function(callback,target){return this.oc_fb=callback,this.oc_fb_target=target,this},p.chain=function(csstween){return this.chained_tween=csstween,this},p.reset=function(){clearTimeout(this.start_to),clearTimeout(this.end_to)},p.start=function(){var element=this.$element[0];clearTimeout(this.start_to),clearTimeout(this.end_to),this.fresh=!0,this.fr_cb&&(element.style[window._jcsspfx+"TransitionDuration"]="0ms",this.fr_cb.call(this.fr_cb_target));var that=this;return this.onTransComplete=function(){that.fresh&&(that.reset(),element.style[window._jcsspfx+"TransitionDuration"]="",element.style[window._jcsspfx+"TransitionProperty"]="",element.style[window._jcsspfx+"TransitionTimingFunction"]="",element.style[window._jcsspfx+"TransitionDelay"]="",that.fresh=!1,that.chained_tween&&that.chained_tween.start(),that.oc_fb&&that.oc_fb.call(that.oc_fb_target))},this.start_to=setTimeout(function(){that.$element&&(element.style[window._jcsspfx+"TransitionDuration"]=that.duration+"ms",element.style[window._jcsspfx+"TransitionProperty"]=that.transProperty||"all",element.style[window._jcsspfx+"TransitionDelay"]=that.delay>0?that.delay+"ms":"",element.style[window._jcsspfx+"TransitionTimingFunction"]=that.ease,that.to_cb&&that.to_cb.call(that.to_cb_target),that.end_to=setTimeout(function(){that.onTransComplete()},that.duration+(that.delay||0)))},100),this}}(),function(){"use strict";function transPos(element,properties){if(void 0!==properties.x||void 0!==properties.y)if(_cssanim){var trans=window._jcsspfx+"Transform";void 0!==properties.x&&(properties[trans]=(properties[trans]||"")+" translateX("+properties.x+"px)",delete properties.x),void 0!==properties.y&&(properties[trans]=(properties[trans]||"")+" translateY("+properties.y+"px)",delete properties.y)}else{if(void 0!==properties.x){var posx="auto"!==element.css("right")?"right":"left";properties[posx]=properties.x+"px",delete properties.x}if(void 0!==properties.y){var posy="auto"!==element.css("bottom")?"bottom":"top";properties[posy]=properties.y+"px",delete properties.y}}return properties}var _cssanim=null;window.CTween={},CTween.setPos=function(element,pos){element.css(transPos(element,pos))},CTween.animate=function(element,duration,properties,options){if(null==_cssanim&&(_cssanim=window._cssanim),options=options||{},transPos(element,properties),_cssanim){var tween=new CSSTween(element,duration,options.delay,EaseDic[options.ease]);return options.transProperty&&(tween.transProperty=options.transProperty),tween.to(function(){element.css(properties)}),options.complete&&tween.onComplete(options.complete,options.target),tween.start(),tween.stop=tween.reset,tween}var onCl;return options.delay&&element.delay(options.delay),options.complete&&(onCl=function(){options.complete.call(options.target)}),element.stop(!0).animate(properties,duration,options.ease||"linear",onCl),element},CTween.fadeOut=function(target,duration,remove){var options={};remove===!0?options.complete=function(){target.remove()}:2===remove&&(options.complete=function(){target.css("display","none")}),CTween.animate(target,duration||1e3,{opacity:0},options)},CTween.fadeIn=function(target,duration,reset){reset!==!1&&target.css("opacity",0).css("display",""),CTween.animate(target,duration||1e3,{opacity:1})}}(),function(){window.EaseDic={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"}}(),function(){"use strict";window.MSAligner=function(type,$container,$img){this.$container=$container,this.$img=$img,this.type=type||"stretch",this.widthOnly=!1,this.heightOnly=!1};var p=MSAligner.prototype;p.init=function(w,h){switch(this.baseWidth=w,this.baseHeight=h,this.imgRatio=w/h,this.imgRatio2=h/w,this.type){case"tile":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$img.remove();break;case"center":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$container.css({backgroundPosition:"center center",backgroundRepeat:"no-repeat"}),this.$img.remove();break;case"stretch":this.$img.css({width:"100%",height:"100%"});break;case"fill":case"fit":this.needAlign=!0,this.align()}},p.align=function(){if(this.needAlign){var cont_w=this.$container.width(),cont_h=this.$container.height(),contRatio=cont_w/cont_h;"fill"==this.type?this.imgRatio<contRatio?(this.$img.width(cont_w),this.$img.height(cont_w*this.imgRatio2)):(this.$img.height(cont_h),this.$img.width(cont_h*this.imgRatio)):"fit"==this.type&&(this.imgRatio<contRatio?(this.$img.height(cont_h),this.$img.width(cont_h*this.imgRatio)):(this.$img.width(cont_w),this.$img.height(cont_w*this.imgRatio2))),this.setMargin()}},p.setMargin=function(){var cont_w=this.$container.width(),cont_h=this.$container.height();this.$img.css("margin-top",(cont_h-this.$img[0].offsetHeight)/2+"px"),this.$img.css("margin-left",(cont_w-this.$img[0].offsetWidth)/2+"px")}}(),function(){"use strict";var _options={bouncing:!0,snapping:!1,snapsize:null,friction:.05,outFriction:.05,outAcceleration:.09,minValidDist:.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},Controller=function(min,max,options){if(null===max||null===min)throw new Error("Max and Min values are required.");this.options=options||{};for(var key in _options)key in this.options||(this.options[key]=_options[key]);this._max_value=max,this._min_value=min,this.value=min,this.end_loc=min,this.current_snap=this.getSnapNum(min),this.__extrStep=0,this.__extraMove=0,this.__animID=-1},p=Controller.prototype;p.changeTo=function(value,animate,speed,snap_num,dispatch){if(this.stopped=!1,this._internalStop(),value=this._checkLimits(value),speed=Math.abs(speed||0),this.options.snapping&&(snap_num=snap_num||this.getSnapNum(value),dispatch!==!1&&this._callsnapChange(snap_num),this.current_snap=snap_num),animate){this.animating=!0;var self=this,active_id=++self.__animID,amplitude=value-self.value,timeStep=0,targetPosition=value,animFrict=1-self.options.friction,timeconst=animFrict+(speed-20)*animFrict*1.3/self.options.maxSpeed,tick=function(){if(active_id===self.__animID){var dis=value-self.value;if(!(Math.abs(dis)>self.options.minValidDist&&self.animating))return self.animating&&(self.value=value,self._callrenderer()),self.animating=!1,active_id!==self.__animID&&(self.__animID=-1),void self._callonComplete("anim");window.requestAnimationFrame(tick),self.value=targetPosition-amplitude*Math.exp(-++timeStep*timeconst),self._callrenderer()}};return void tick()}this.value=value,this._callrenderer()},p.drag=function(move){this.start_drag&&(this.drag_start_loc=this.value,this.start_drag=!1),this.animating=!1,this._deceleration=!1,this.value-=move,!this.options.endless&&(this.value>this._max_value||this.value<0)?this.options.bouncing?(this.__isout=!0,this.value+=.6*move):this.value=this.value>this._max_value?this._max_value:0:!this.options.endless&&this.options.bouncing&&(this.__isout=!1),this._callrenderer()},p.push=function(speed){if(this.stopped=!1,this.options.snapping&&Math.abs(speed)<=this.options.snappingMinSpeed)return void this.cancel();if(this.__speed=speed,this.__startSpeed=speed,this.end_loc=this._calculateEnd(),this.options.snapping){var snap_loc=this.getSnapNum(this.value),end_snap=this.getSnapNum(this.end_loc);if(this.options.paging)return snap_loc=this.getSnapNum(this.drag_start_loc),this.__isout=!1,void(speed>0?this.gotoSnap(snap_loc+1,!0,speed):this.gotoSnap(snap_loc-1,!0,speed));if(snap_loc===end_snap)return void this.cancel();this._callsnapChange(end_snap),this.current_snap=end_snap}this.animating=!1,this.__needsSnap=this.options.endless||this.end_loc>this._min_value&&this.end_loc<this._max_value,this.options.snapping&&this.__needsSnap&&(this.__extraMove=this._calculateExtraMove(this.end_loc)),this._startDecelaration()},p.bounce=function(speed){this.animating||(this.stopped=!1,this.animating=!1,this.__speed=speed,this.__startSpeed=speed,this.end_loc=this._calculateEnd(),this._startDecelaration())},p.stop=function(){this.stopped=!0,this._internalStop()},p.cancel=function(){this.start_drag=!0,this.__isout?(this.__speed=4e-4,this._startDecelaration()):this.options.snapping&&this.gotoSnap(this.getSnapNum(this.value),!0)},p.renderCallback=function(listener,ref){this.__renderHook={fun:listener,ref:ref}},p.snappingCallback=function(listener,ref){this.__snapHook={fun:listener,ref:ref}},p.snapCompleteCallback=function(listener,ref){this.__compHook={fun:listener,ref:ref}},p.getSnapNum=function(value){return Math.floor((value+this.options.snapsize/2)/this.options.snapsize)},p.nextSnap=function(){this._internalStop();var curr_snap=this.getSnapNum(this.value);!this.options.endless&&(curr_snap+1)*this.options.snapsize>this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(curr_snap+1,!0)},p.prevSnap=function(){this._internalStop();var curr_snap=this.getSnapNum(this.value);!this.options.endless&&(curr_snap-1)*this.options.snapsize<this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(curr_snap-1,!0)},p.gotoSnap=function(snap_num,animate,speed){this.changeTo(snap_num*this.options.snapsize,animate,speed,snap_num)},p.destroy=function(){this._internalStop(),this.__renderHook=null,this.__snapHook=null,this.__compHook=null},p._internalStop=function(){this.start_drag=!0,this.animating=!1,this._deceleration=!1,this.__extrStep=0},p._calculateExtraMove=function(value){var m=value%this.options.snapsize;return m<this.options.snapsize/2?-m:this.options.snapsize-m},p._calculateEnd=function(step){for(var temp_speed=this.__speed,temp_value=this.value,i=0;Math.abs(temp_speed)>this.options.minValidDist;)temp_value+=temp_speed,temp_speed*=this.options.friction,i++;return step?i:temp_value},p._checkLimits=function(value){return this.options.endless?value:value<this._min_value?this._min_value:value>this._max_value?this._max_value:value},p._callrenderer=function(){this.__renderHook&&this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)},p._callsnapChange=function(targetSnap){this.__snapHook&&targetSnap!==this.current_snap&&this.__snapHook.fun.call(this.__snapHook.ref,this,targetSnap,targetSnap-this.current_snap)},p._callonComplete=function(type){this.__compHook&&!this.stopped&&this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,type)},p._computeDeceleration=function(){if(this.options.snapping&&this.__needsSnap){var xtr_move=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove;this.value+=this.__speed+xtr_move-this.__extrStep,this.__extrStep=xtr_move}else this.value+=this.__speed;if(this.__speed*=this.options.friction,this.options.endless||this.options.bouncing||(this.value<=this._min_value?(this.value=this._min_value,this.__speed=0):this.value>=this._max_value&&(this.value=this._max_value,this.__speed=0)),this._callrenderer(),!this.options.endless&&this.options.bouncing){var out_value=0;this.value<this._min_value?out_value=this._min_value-this.value:this.value>this._max_value&&(out_value=this._max_value-this.value),this.__isout=Math.abs(out_value)>=this.options.minValidDist,this.__isout&&(this.__speed*out_value<=0?this.__speed+=out_value*this.options.outFriction:this.__speed=out_value*this.options.outAcceleration)}},p._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;var self=this,tick=function(){self._deceleration&&(self._computeDeceleration(),Math.abs(self.__speed)>self.options.minValidDist||self.__isout?window.requestAnimationFrame(tick):(self._deceleration=!1,self.__isout=!1,self.value=self.__needsSnap&&self.options.snapping&&!self.options.paging?self._checkLimits(self.end_loc+self.__extraMove):Math.round(self.value),self._callrenderer(),self._callonComplete("decel")))};tick()}},window.Controller=Controller}(),function(window,document,$){window.MSLayerController=function(slide){this.slide=slide,this.slider=slide.slider,this.layers=[],this.layersCount=0,this.preloadCount=0,this.$layers=$("<div></div>").addClass("ms-slide-layers"),this.$staticLayers=$("<div></div>").addClass("ms-static-layers"),this.$fixedLayers=$("<div></div>").addClass("ms-fixed-layers"),this.$animLayers=$("<div></div>").addClass("ms-anim-layers")};var p=MSLayerController.prototype;p.addLayer=function(layer){switch(layer.slide=this.slide,layer.controller=this,layer.$element.data("position")){case"static":this.hasStaticLayer=!0,layer.$element.appendTo(this.$staticLayers);break;case"fixed":this.hasFixedLayer=!0,layer.$element.appendTo(this.$fixedLayers);break;default:layer.$element.appendTo(this.$animLayers)}layer.create(),this.layers.push(layer),this.layersCount++,layer.parallax&&(this.hasParallaxLayer=!0),layer.needPreload&&this.preloadCount++},p.create=function(){this.slide.$element.append(this.$layers),this.$layers.append(this.$animLayers),this.hasStaticLayer&&this.$layers.append(this.$staticLayers),"center"==this.slider.options.layersMode&&(this.$layers.css("max-width",this.slider.options.width+"px"),this.hasFixedLayer&&this.$fixedLayers.css("max-width",this.slider.options.width+"px"))},p.loadLayers=function(callback){if(this._onReadyCallback=callback,0===this.preloadCount)return void this._onlayersReady();for(var i=0;i!==this.layersCount;++i)this.layers[i].needPreload&&this.layers[i].loadImage()},p.prepareToShow=function(){this.hasParallaxLayer&&this._enableParallaxEffect(),this.hasFixedLayer&&this.$fixedLayers.prependTo(this.slide.view.$element)},p.showLayers=function(){this.layersHideTween&&this.layersHideTween.stop(!0),this.fixedLayersHideTween&&this.fixedLayersHideTween.stop(!0),this._resetLayers(),this.$animLayers.css("opacity","").css("display",""),this.hasFixedLayer&&this.$fixedLayers.css("opacity","").css("display",""),this.ready&&(this._initLayers(),this._locateLayers(),this._startLayers())},p.hideLayers=function(){if(this.slide.selected||this.slider.options.instantStartLayers){var that=this;that.layersHideTween=CTween.animate(this.$animLayers,500,{opacity:0},{complete:function(){that._resetLayers()}}),this.hasFixedLayer&&(this.fixedLayersHideTween=CTween.animate(this.$fixedLayers,500,{opacity:0},{complete:function(){that.$fixedLayers.detach()}})),this.hasParallaxLayer&&this._disableParallaxEffect()}},p.animHideLayers=function(){if(this.ready)for(var i=0;i!==this.layersCount;++i)this.layers[i].hide()},p.setSize=function(width,height,hard){if(this.ready&&(this.slide.selected||this.hasStaticLayer)&&(hard&&this._initLayers(!0),this._locateLayers(!this.slide.selected)),this.slider.options.autoHeight&&this.updateHeight(),"center"==this.slider.options.layersMode){var left=Math.max(0,(width-this.slider.options.width)/2)+"px";this.$layers[0].style.left=left,this.$fixedLayers[0].style.left=left}},p.updateHeight=function(){var h=this.slide.getHeight()+"px";this.$layers[0].style.height=h,this.$fixedLayers[0].style.height=h},p._onlayersReady=function(){this.ready=!0,this.hasStaticLayer&&!this.slide.isSleeping&&this._initLayers(!1,!0),this._onReadyCallback.call(this.slide)},p.onSlideSleep=function(){},p.onSlideWakeup=function(){this.hasStaticLayer&&this.ready&&this._initLayers(!1,!0)},p.destroy=function(){this.slide.selected&&this.hasParallaxLayer&&this._disableParallaxEffect();for(var i=0;i<this.layersCount;++i)this.layers[i].$element.stop(!0).remove();this.$layers.remove(),this.$staticLayers.remove(),this.$fixedLayers.remove(),this.$animLayers.remove()},p._startLayers=function(){for(var i=0;i!==this.layersCount;++i)this.layers[i].start()},p._initLayers=function(force,onlyStatics){if(!(this.init&&!force||this.slider.init_safemode)){this.init=onlyStatics!==!0;var i=0;if(onlyStatics&&!this.staticsInit)for(this.staticsInit=!0;i!==this.layersCount;++i)this.layers[i].staticLayer&&this.layers[i].init();else if(this.staticsInit&&!force)for(;i!==this.layersCount;++i)this.layers[i].staticLayer||this.layers[i].init();else for(;i!==this.layersCount;++i)this.layers[i].init()}},p._locateLayers=function(onlyStatics){var i=0;if(onlyStatics)for(;i!==this.layersCount;++i)this.layers[i].staticLayer&&this.layers[i].locate();else for(;i!==this.layersCount;++i)this.layers[i].locate()},p._resetLayers=function(){this.$animLayers.css("display","none").css("opacity",1);for(var i=0;i!==this.layersCount;++i)this.layers[i].reset()},p._applyParallax=function(x,y,fast){for(var i=0;i!==this.layersCount;++i)null!=this.layers[i].parallax&&this.layers[i].moveParallax(x,y,fast)},p._enableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.addEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)},p._disableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.removeEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)},p._resetParalax=function(e){var that=e.data.that;that._applyParallax(0,0)},p._mouseParallaxMove=function(e){var that=e.data.that,os=that.slide.$element.offset(),slider=that.slider;if("mouse:y-only"!==slider.options.parallaxMode)var x=e.pageX-os.left-that.slide.__width/2;else var x=0;if("mouse:x-only"!==slider.options.parallaxMode)var y=e.pageY-os.top-that.slide.__height/2;else var y=0;that._applyParallax(-x,-y)},p._swipeParallaxMove=function(){var value=this.slide.position-this.slide.view.__contPos;"v"===this.slider.options.dir?this._applyParallax(0,value,!0):this._applyParallax(value,0,!0)}}(window,document,jQuery),function($){window.MSLayerEffects={};var installed,_fade={opacity:0};MSLayerEffects.setup=function(){if(!installed){installed=!0;var st=MSLayerEffects,transform_css=window._jcsspfx+"Transform",transform_orig_css=window._jcsspfx+"TransformOrigin",o=$.browser.opera;_2d=window._css2d&&window._cssanim&&!o,st.defaultValues={left:0,top:0,opacity:isMSIE("<9")?1:"",right:0,bottom:0},st.defaultValues[transform_css]="",st.rf=1,st.presetEffParams={random:"30|300","long":300,"short":30,"false":!1,"true":!0,tl:"top left",bl:"bottom left",tr:"top right",br:"bottom right",rt:"top right",lb:"bottom left",lt:"top left",rb:"bottom right",t:"top",b:"bottom",r:"right",l:"left",c:"center"},st.fade=function(){return _fade},st.left=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateX("+-dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.left=-dist*st.rf+"px",r},st.right=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateX("+dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};
return r.left=dist*st.rf+"px",r},st.top=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateY("+-dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.top=-dist*st.rf+"px",r},st.bottom=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateY("+dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.top=dist*st.rf+"px",r},st.from=_2d?function(leftdis,topdis,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateX("+leftdis*st.rf+"px) translateY("+topdis*st.rf+"px)",r}:function(leftdis,topdis,fade){var r=fade===!1?{}:{opacity:0};return r.top=topdis*st.rf+"px",r.left=leftdis*st.rf+"px",r},st.rotate=_2d?function(deg,orig){var r={opacity:0};return r[transform_css]=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotateleft=_2d?function(deg,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.left(dist,fade)},st.rotateright=_2d?function(deg,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.right(dist,fade)},st.rotatetop=_2d?function(deg,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.top(dist,fade)},st.rotatebottom=_2d?function(deg,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.bottom(dist,fade)},st.rotatefrom=_2d?function(deg,leftdis,topdis,orig,fade){var r=st.from(leftdis,topdis,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,leftdis,topdis,orig,fade){return st.from(leftdis,topdis,fade)},st.skewleft=_2d?function(deg,dist,fade){var r=st.left(dist,fade);return r[transform_css]+=" skewX("+deg+"deg)",r}:function(deg,dist,fade){return st.left(dist,fade)},st.skewright=_2d?function(deg,dist,fade){var r=st.right(dist,fade);return r[transform_css]+=" skewX("+-deg+"deg)",r}:function(deg,dist,fade){return st.right(dist,fade)},st.skewtop=_2d?function(deg,dist,fade){var r=st.top(dist,fade);return r[transform_css]+=" skewY("+deg+"deg)",r}:function(deg,dist,fade){return st.top(dist,fade)},st.skewbottom=_2d?function(deg,dist,fade){var r=st.bottom(dist,fade);return r[transform_css]+=" skewY("+-deg+"deg)",r}:function(deg,dist,fade){return st.bottom(dist,fade)},st.scale=_2d?function(x,y,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,orig,fade){return fade===!1?{}:{opacity:0}},st.scaleleft=_2d?function(x,y,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.left(dist,fade)},st.scaleright=_2d?function(x,y,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.right(dist,fade)},st.scaletop=_2d?function(x,y,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.top(dist,fade)},st.scalebottom=_2d?function(x,y,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.bottom(dist,fade)},st.scalefrom=_2d?function(x,y,leftdis,topdis,orig,fade){var r=st.from(leftdis,topdis,fade);return r[transform_css]+=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,leftdis,topdis,orig,fade){return st.from(leftdis,topdis,fade)},st.rotatescale=_2d?function(deg,x,y,orig,fade){var r=st.scale(x,y,orig,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,x,y,orig,fade){return st.scale(x,y,orig,fade)},st.front=window._css3d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+dist+"px ) rotate(0.001deg)",r}:function(){return _fade},st.back=window._css3d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+-dist+"px ) rotate(0.001deg)",r}:function(){return _fade},st.rotatefront=window._css3d?function(deg,dist,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+dist+"px ) rotate("+(deg||.001)+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotateback=window._css3d?function(deg,dist,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+-dist+"px ) rotate("+(deg||.001)+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotate3dleft=window._css3d?function(x,y,z,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.left(dist,fade)},st.rotate3dright=window._css3d?function(x,y,z,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.right(dist,fade)},st.rotate3dtop=window._css3d?function(x,y,z,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.top(dist,fade)},st.rotate3dbottom=window._css3d?function(x,y,z,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.bottom(dist,fade)},st.rotate3dfront=window._css3d?function(x,y,z,dist,orig,fade){var r=st.front(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.front(dist,fade)},st.rotate3dback=window._css3d?function(x,y,z,dist,orig,fade){var r=st.back(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.back(dist,fade)},st.t=window._css3d?function(fade,tx,ty,tz,r,rx,ry,rz,scx,scy,skx,sky,ox,oy,oz){var _r=fade===!1?{}:{opacity:0},transform="perspective(2000px) ";"n"!==tx&&(transform+="translateX("+tx*st.rf+"px) "),"n"!==ty&&(transform+="translateY("+ty*st.rf+"px) "),"n"!==tz&&(transform+="translateZ("+tz*st.rf+"px) "),"n"!==r&&(transform+="rotate("+r+"deg) "),"n"!==rx&&(transform+="rotateX("+rx+"deg) "),"n"!==ry&&(transform+="rotateY("+ry+"deg) "),"n"!==rz&&(transform+="rotateZ("+rz+"deg) "),"n"!==skx&&(transform+="skewX("+skx+"deg) "),"n"!==sky&&(transform+="skewY("+sky+"deg) "),"n"!==scx&&(transform+="scaleX("+scx+") "),"n"!==scy&&(transform+="scaleY("+scy+")"),_r[transform_css]=transform;var trans_origin="";return trans_origin+="n"!==ox?ox+"% ":"50% ",trans_origin+="n"!==oy?oy+"% ":"50% ",trans_origin+="n"!==oz?oz+"px":"",_r[transform_orig_css]=trans_origin,_r}:function(fade,tx,ty,tz,r){var r=fade===!1?{}:{opacity:0};return"n"!==tx&&(r.left=tx*st.rf+"px"),"n"!==ty&&(r.top=ty*st.rf+"px"),r}}}}(jQuery),function($){window.MSLayerElement=function(){this.start_anim={name:"fade",duration:1e3,ease:"linear",delay:0},this.end_anim={duration:1e3,ease:"linear"},this.type="text",this.resizable=!0,this.minWidth=-1,this.isVisible=!0,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","font-size","line-height","width","left","right","top","bottom"],this.baseStyle={}};var p=MSLayerElement.prototype;p.setStartAnim=function(anim){$.extend(this.start_anim,anim),$.extend(this.start_anim,this._parseEff(this.start_anim.name)),this.$element.css("visibility","hidden")},p.setEndAnim=function(anim){$.extend(this.end_anim,anim)},p.create=function(){if(this.$element.css("display","none"),this.resizable=this.$element.data("resize")!==!1,this.fixed=this.$element.data("fixed")===!0,void 0!==this.$element.data("widthlimit")&&(this.minWidth=this.$element.data("widthlimit")),this.end_anim.name||(this.end_anim.name=this.start_anim.name),this.end_anim.time&&(this.autoHide=!0),this.staticLayer="static"===this.$element.data("position"),this.fixedLayer="fixed"===this.$element.data("position"),this.layersCont=this.controller.$layers,this.staticLayer&&this.$element.css("display","").css("visibility",""),void 0!==this.$element.data("action")){var slideController=this.slide.slider.slideController;this.$element.on("click",function(event){slideController.runAction($(this).data("action")),event.preventDefault()}).addClass("ms-action-layer")}$.extend(this.end_anim,this._parseEff(this.end_anim.name)),this.slider=this.slide.slider;var layerOrigin=this.layerOrigin=this.$element.data("origin");if(layerOrigin){var vOrigin=layerOrigin.charAt(0),hOrigin=layerOrigin.charAt(1),offsetX=this.$element.data("offset-x"),offsetY=this.$element.data("offset-y");switch(void 0===offsetY&&(offsetY=0),vOrigin){case"t":this.$element[0].style.top=offsetY+"px";break;case"b":this.$element[0].style.bottom=offsetY+"px";break;case"m":this.$element[0].style.top=offsetY+"px",this.middleAlign=!0}switch(void 0===offsetX&&(offsetX=0),hOrigin){case"l":this.$element[0].style.left=offsetX+"px";break;case"r":this.$element[0].style.right=offsetX+"px";break;case"c":this.$element[0].style.left=offsetX+"px",this.centerAlign=!0}}this.parallax=this.$element.data("parallax"),null!=this.parallax&&(this.parallax/=100,this.$parallaxElement=$("<div></div>").addClass("ms-parallax-layer"),this.link?(this.link.wrap(this.$parallaxElement),this.$parallaxElement=this.link.parent()):(this.$element.wrap(this.$parallaxElement),this.$parallaxElement=this.$element.parent()),this._lastParaX=0,this._lastParaY=0,this._paraX=0,this._paraY=0,this.alignedToBot=this.layerOrigin&&-1!==this.layerOrigin.indexOf("b"),this.alignedToBot&&this.$parallaxElement.css("bottom",0),this.parallaxRender=window._css3d?this._parallaxCSS3DRenderer:window._css2d?this._parallaxCSS2DRenderer:this._parallax2DRenderer,"swipe"!==this.slider.options.parallaxMode&&averta.Ticker.add(this.parallaxRender,this)),$.removeDataAttrs(this.$element,["data-src"])},p.init=function(){this.initialized=!0;var value;this.$element.css("visibility","");for(var i=0,l=this.__cssConfig.length;l>i;i++){var key=this.__cssConfig[i];"text"===this.type&&"width"===key?value=this.$element[0].style.width:(value=this.$element.css(key),"width"!==key&&"height"!==key||"0px"!==value||(value=this.$element.data(key)+"px")),"auto"!=value&&""!=value&&"normal"!=value&&(this.baseStyle[key]=parseInt(value))}this.middleAlign&&(this.baseHeight=this.$element.outerHeight(!1)),this.centerAlign&&(this.baseWidth=this.$element.outerWidth(!1))},p.locate=function(){if(this.slide.ready){var factor,isPosition,width=parseFloat(this.layersCont.css("width")),height=parseFloat(this.layersCont.css("height"));!this.staticLayer&&"none"===this.$element.css("display")&&this.isVisible&&this.$element.css("display","").css("visibility","hidden"),factor=this.resizeFactor=width/this.slide.slider.options.width;for(var key in this.baseStyle)isPosition="top"===key||"left"===key||"bottom"===key||"right"===key,factor=this.fixed&&isPosition?1:this.resizeFactor,(this.resizable||isPosition)&&("top"===key&&this.middleAlign?(this.$element[0].style.top="0px",this.baseHeight=this.$element.outerHeight(!1),this.$element[0].style.top=this.baseStyle.top*factor+(height-this.baseHeight)/2+"px"):"left"===key&&this.centerAlign?(this.$element[0].style.left="0px",this.baseWidth=this.$element.outerWidth(!1),this.$element[0].style.left=this.baseStyle.left*factor+(width-this.baseWidth)/2+"px"):this.$element.css(key,this.baseStyle[key]*factor+"px"));this.visible(this.minWidth<width)}},p.start=function(){if(!this.isShowing&&!this.staticLayer){this.isShowing=!0;var key,base;MSLayerEffects.rf=this.resizeFactor;var effect_css=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),start_css_eff={};for(key in effect_css)this._checkPosKey(key,effect_css)||(null!=MSLayerEffects.defaultValues[key]&&(start_css_eff[key]=MSLayerEffects.defaultValues[key]),key in this.baseStyle&&(base=this.baseStyle[key],this.middleAlign&&"top"===key&&(base+=(parseInt(this.layersCont.height())-this.$element.outerHeight(!1))/2),this.centerAlign&&"left"===key&&(base+=(parseInt(this.layersCont.width())-this.$element.outerWidth(!1))/2),effect_css[key]=base+parseFloat(effect_css[key])+"px",start_css_eff[key]=base+"px"),this.$element.css(key,effect_css[key]));var that=this;clearTimeout(this.to),this.to=setTimeout(function(){that.$element.css("visibility",""),that._playAnimation(that.start_anim,start_css_eff)},that.start_anim.delay||.01),this.clTo=setTimeout(function(){that.show_cl=!0},(this.start_anim.delay||.01)+this.start_anim.duration),this.autoHide&&(clearTimeout(this.hto),this.hto=setTimeout(function(){that.hide()},that.end_anim.time))}},p.hide=function(){if(!this.staticLayer){this.isShowing=!1;var effect_css=MSLayerEffects[this.end_anim.eff_name].apply(null,this._parseEffParams(this.end_anim.eff_params));for(key in effect_css)this._checkPosKey(key,effect_css)||(key===window._jcsspfx+"TransformOrigin"&&this.$element.css(key,effect_css[key]),key in this.baseStyle&&(effect_css[key]=this.baseStyle[key]+parseFloat(effect_css[key])+"px"));this._playAnimation(this.end_anim,effect_css),clearTimeout(this.to),clearTimeout(this.hto),clearTimeout(this.clTo)}},p.reset=function(){this.staticLayer||(this.isShowing=!1,this.$element[0].style.display="none",this.$element.css("opacity",""),this.$element[0].style.transitionDuration="",this.show_tween&&this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto))},p.destroy=function(){this.reset(),this.$element.remove()},p.visible=function(value){this.isVisible!=value&&(this.isVisible=value,this.$element.css("display",value?"":"none"))},p.moveParallax=function(x,y,fast){this._paraX=x,this._paraY=y,fast&&(this._lastParaX=x,this._lastParaY=y,this.parallaxRender())},p._playAnimation=function(animation,css){var options={};animation.ease&&(options.ease=animation.ease),options.transProperty=window._csspfx+"transform,opacity",this.show_tween=CTween.animate(this.$element,animation.duration,css,options)},p._randomParam=function(value){var min=Number(value.slice(0,value.indexOf("|"))),max=Number(value.slice(value.indexOf("|")+1));return min+Math.random()*(max-min)},p._parseEff=function(eff_name){var eff_params=[];if(-1!==eff_name.indexOf("(")){var value,temp=eff_name.slice(0,eff_name.indexOf("(")).toLowerCase();eff_params=eff_name.slice(eff_name.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),eff_name=temp;for(var i=0,l=eff_params.length;l>i;++i)value=eff_params[i],value in MSLayerEffects.presetEffParams&&(value=MSLayerEffects.presetEffParams[value]),eff_params[i]=value}return{eff_name:eff_name,eff_params:eff_params}},p._parseEffParams=function(params){for(var eff_params=[],i=0,l=params.length;l>i;++i){var value=params[i];"string"==typeof value&&-1!==value.indexOf("|")&&(value=this._randomParam(value)),eff_params[i]=value}return eff_params},p._checkPosKey=function(key,style){return"left"===key&&!(key in this.baseStyle)&&"right"in this.baseStyle?(style.right=-parseInt(style.left)+"px",delete style.left,!0):"top"===key&&!(key in this.baseStyle)&&"bottom"in this.baseStyle?(style.bottom=-parseInt(style.top)+"px",delete style.top,!0):!1},p._parallaxCalc=function(){var x_def=this._paraX-this._lastParaX,y_def=this._paraY-this._lastParaY;this._lastParaX+=x_def/12,this._lastParaY+=y_def/12,Math.abs(x_def)<.019&&(this._lastParaX=this._paraX),Math.abs(y_def)<.019&&(this._lastParaY=this._paraY)},p._parallaxCSS3DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px) translateZ(0)"},p._parallaxCSS2DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px)"},p._parallax2DRenderer=function(){this._parallaxCalc(),this.alignedToBot?this.$parallaxElement[0].style.bottom=this._lastParaY*this.parallax+"px":this.$parallaxElement[0].style.top=this._lastParaY*this.parallax+"px",this.$parallaxElement[0].style.left=this._lastParaX*this.parallax+"px"}}(jQuery),function($){window.MSImageLayerElement=function(){MSLayerElement.call(this),this.needPreload=!0,this.__cssConfig=["width","height","margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.type="image"},MSImageLayerElement.extend(MSLayerElement);var p=MSImageLayerElement.prototype,_super=MSLayerElement.prototype;p.create=function(){if(this.link){var p=this.$element.parent();p.append(this.link),this.link.append(this.$element),this.link.removeClass("ms-layer"),this.$element.addClass("ms-layer"),p=null}if(_super.create.call(this),void 0!=this.$element.data("src"))this.img_src=this.$element.data("src"),this.$element.removeAttr("data-src");else{var that=this;this.$element.on("load",function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()}).each($.jqLoadFix)}$.browser.msie&&this.$element.on("dragstart",function(event){event.preventDefault()})},p.loadImage=function(){var that=this;this.$element.preloadImg(this.img_src,function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()})}}(jQuery),function($){window.MSVideoLayerElement=function(){MSLayerElement.call(this),this.__cssConfig.push("height"),this.type="video"},MSVideoLayerElement.extend(MSLayerElement);var p=MSVideoLayerElement.prototype,_super=MSLayerElement.prototype;p.__playVideo=function(){this.img&&CTween.fadeOut(this.img,500,2),CTween.fadeOut(this.video_btn,500,2),this.video_frame.attr("src","about:blank").css("display","block"),-1==this.video_url.indexOf("?")&&(this.video_url+="?"),this.video_frame.attr("src",this.video_url+"&autoplay=1")},p.start=function(){_super.start.call(this),this.$element.data("autoplay")&&this.__playVideo()},p.reset=function(){return _super.reset.call(this),(this.needPreload||this.$element.data("btn"))&&(this.video_btn.css("opacity",1).css("display","block"),this.video_frame.attr("src","about:blank").css("display","none")),this.needPreload?void this.img.css("opacity",1).css("display","block"):void this.video_frame.attr("src",this.video_url)},p.create=function(){_super.create.call(this),this.video_frame=this.$element.find("iframe").css({width:"100%",height:"100%"}),this.video_url=this.video_frame.attr("src");var has_img=0!=this.$element.has("img").length;if(has_img||this.$element.data("btn")){this.video_frame.attr("src","about:blank").css("display","none");var that=this;if(this.video_btn=$("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(function(){that.__playVideo()}),has_img){if(this.needPreload=!0,this.img=this.$element.find("img:first").addClass("ms-video-img"),void 0!==this.img.data("src"))this.img_src=this.img.data("src"),this.img.removeAttr("data-src");else{var that=this;this.img.attr("src",this.img_src).on("load",function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()}).each($.jqLoadFix)}$.browser.msie&&this.img.on("dragstart",function(event){event.preventDefault()})}}},p.loadImage=function(){var that=this;this.img.preloadImg(this.img_src,function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()})}}(jQuery),function($){"use strict";window.MSHotspotLayer=function(){MSLayerElement.call(this),this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.ease="Expo",this.hide_start=!0,this.type="hotspot"},MSHotspotLayer.extend(MSLayerElement);var p=MSHotspotLayer.prototype,_super=MSLayerElement.prototype;p._showTT=function(){this.show_cl&&(clearTimeout(this.hto),this._tween&&this._tween.stop(!0),this.hide_start&&(this.align=this._orgAlign,this._locateTT(),this.tt.css({display:"block"}),this._tween=CTween.animate(this.tt,900,this.to,{ease:"easeOut"+this.ease}),this.hide_start=!1))},p._hideTT=function(){if(this.show_cl){this._tween&&this._tween.stop(!0);var that=this;clearTimeout(this.hto),this.hto=setTimeout(function(){that.hide_start=!0,that._tween=CTween.animate(that.tt,900,that.from,{ease:"easeOut"+that.ease,complete:function(){that.tt.css("display","none")}})},200)}},p._updateClassName=function(name){this._lastClass&&this.tt.removeClass(this._lastClass),this.tt.addClass(name),this._lastClass=name},p._alignPolicy=function(){{var w=(this.tt.outerHeight(!1),Math.max(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")))),ww=window.innerWidth;window.innerHeight}switch(this.align){case"top":if(this.base_t<0)return"bottom";break;case"right":if(this.base_l+w>ww||this.base_t<0)return"bottom";break;case"left":if(this.base_l<0||this.base_t<0)return"bottom"}return null},p._locateTT=function(){var os=this.$element.offset(),os2=this.slide.slider.$element.offset(),dist=50,space=15;this.pos_x=os.left-os2.left-this.slide.slider.$element.scrollLeft(),this.pos_y=os.top-os2.top-this.slide.slider.$element.scrollTop(),this.from={opacity:0},this.to={opacity:1},this._updateClassName("ms-tooltip-"+this.align),this.tt_arrow.css("margin-left","");var arrow_w=15,arrow_h=15;switch(this.align){case"top":var w=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y-this.tt.outerHeight(!1)-arrow_h-space,this.base_l=this.pos_x-w/2,this.base_l+w>window.innerWidth&&(this.tt_arrow.css("margin-left",-arrow_w/2+this.base_l+w-window.innerWidth+"px"),this.base_l=window.innerWidth-w),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-arrow_w/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY(-"+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t-dist+"px",this.to.top=this.base_t+"px");break;case"bottom":var w=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y+arrow_h+space,this.base_l=this.pos_x-w/2,this.base_l+w>window.innerWidth&&(this.tt_arrow.css("margin-left",-arrow_w/2+this.base_l+w-window.innerWidth+"px"),this.base_l=window.innerWidth-w),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-arrow_w/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY("+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t+dist+"px",this.to.top=this.base_t+"px");break;case"right":this.base_l=this.pos_x+arrow_w+space,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX("+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l+dist+"px",this.to.left=this.base_l+"px");break;case"left":this.base_l=this.pos_x-arrow_w-this.tt.outerWidth(!1)-space,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX(-"+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l-dist+"px",this.to.left=this.base_l+"px")}var policyAlign=this._alignPolicy();return null!==policyAlign?(this.align=policyAlign,void this._locateTT()):(this.tt.css("top",parseInt(this.base_t)+"px").css("left",parseInt(this.base_l)+"px"),void this.tt.css(this.from))},p.start=function(){_super.start.call(this),this.tt.appendTo(this.slide.slider.$element),this.tt.css("display","none")},p.reset=function(){_super.reset.call(this),this.tt.detach()},p.create=function(){var that=this;this._orgAlign=this.align=void 0!==this.$element.data("align")?this.$element.data("align"):"top",this.data=this.$element.html(),this.$element.html("").on("mouseenter",function(){that._showTT()}).on("mouseleave",function(){that._hideTT()}),this.point=$('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element);var link=this.$element.data("link"),target=this.$element.data("target");link&&this.point.on("click",function(){window.open(link,target||"_self")}),this.tt=$("<div></div>").addClass("ms-tooltip").css("display","hidden").css("opacity",0),void 0!==this.$element.data("width")&&this.tt.css("width",this.$element.data("width")).css("max-width",this.$element.data("width")),this.tt_arrow=$("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt),this._updateClassName("ms-tooltip-"+this.align),this.ttcont=$("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt),this.$element.data("stay-hover")===!0&&this.tt.on("mouseenter",function(){that.hide_start||(clearTimeout(that.hto),that._tween.stop(!0),that._showTT())}).on("mouseleave",function(){that._hideTT()}),_super.create.call(this)}}(jQuery),function(){window.MSButtonLayer=function(){MSLayerElement.call(this),this.type="button"},MSButtonLayer.extend(MSLayerElement);var p=MSButtonLayer.prototype,_super=MSLayerElement.prototype,positionKies=["top","left","bottom","right"];p.create=function(){_super.create.call(this),this.$element.wrap('<div class="ms-btn-container"></div>').css("position","relative"),this.$container=this.$element.parent()},p.locate=function(){_super.locate.call(this);for(var key,tempValue,i=0;4>i;i++)key=positionKies[i],key in this.baseStyle&&(tempValue=this.$element.css(key),this.$element.css(key,""),this.$container.css(key,tempValue));this.$container.width(this.$element.outerWidth(!0)).height(this.$element.outerHeight(!0))}}(jQuery),window.MSSliderEvent=function(type){this.type=type},MSSliderEvent.CHANGE_START="ms_changestart",MSSliderEvent.CHANGE_END="ms_changeend",MSSliderEvent.WAITING="ms_waiting",MSSliderEvent.AUTOPLAY_CHANGE="ms_autoplaychange",MSSliderEvent.VIDEO_PLAY="ms_videoPlay",MSSliderEvent.VIDEO_CLOSE="ms_videoclose",MSSliderEvent.INIT="ms_init",MSSliderEvent.HARD_UPDATE="ms_hard_update",MSSliderEvent.RESIZE="ms_resize",MSSliderEvent.RESERVED_SPACE_CHANGE="ms_rsc",MSSliderEvent.DESTROY="ms_destroy",function(window,document,$){"use strict";window.MSSlide=function(){this.$element=null,this.$loading=$("<div></div>").addClass("ms-slide-loading"),this.view=null,this.index=-1,this.__width=0,this.__height=0,this.fillMode="fill",this.selected=!1,this.pselected=!1,this.autoAppend=!0,this.isSleeping=!0,this.moz=$.browser.mozilla};var p=MSSlide.prototype;p.onSwipeStart=function(){this.link&&(this.linkdis=!0),this.video&&(this.videodis=!0)},p.onSwipeMove=function(e){var move=Math.max(Math.abs(e.data.distanceX),Math.abs(e.data.distanceY));this.swipeMoved=move>4},p.onSwipeCancel=function(){return this.swipeMoved?void(this.swipeMoved=!1):(this.link&&(this.linkdis=!1),void(this.video&&(this.videodis=!1)))},p.setupLayerController=function(){this.hasLayers=!0,this.layerController=new MSLayerController(this)},p.assetsLoaded=function(){this.ready=!0,this.slider.api._startTimer(),(this.selected||this.pselected&&this.slider.options.instantStartLayers)&&(this.hasLayers&&this.layerController.showLayers(),this.vinit&&(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0))),this.isSleeping||this.setupBG(),CTween.fadeOut(this.$loading,300,!0),(0===this.slider.options.preload||"all"===this.slider.options.preload)&&this.index<this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():"all"===this.slider.options.preload&&this.index===this.view.slideList.length-1&&this.slider._removeLoading()},p.setBG=function(img){this.hasBG=!0;var that=this;this.$imgcont=$("<div></div>").addClass("ms-slide-bgcont"),this.$element.append(this.$loading).append(this.$imgcont),this.$bg_img=$(img).css("visibility","hidden"),this.$imgcont.append(this.$bg_img),this.bgAligner=new MSAligner(that.fillMode,that.$imgcont,that.$bg_img),this.bgAligner.widthOnly=this.slider.options.autoHeight,that.slider.options.autoHeight&&(that.pselected||that.selected)&&that.slider.setHeight(that.slider.options.height),void 0!==this.$bg_img.data("src")?(this.bg_src=this.$bg_img.data("src"),this.$bg_img.removeAttr("data-src")):this.$bg_img.one("load",function(event){that._onBGLoad(event)}).each($.jqLoadFix)},p.setupBG=function(){!this.initBG&&this.bgLoaded&&(this.initBG=!0,this.$bg_img.css("visibility",""),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&&this.$imgcont.height(this.bgHeight*this.ratio),this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&&(this.pselected||this.selected)&&this.slider.setHeight(this.getHeight()))},p.loadImages=function(){if(!this.ls){if(this.ls=!0,this.bgvideo&&this.bgvideo.load(),this.hasBG&&this.bg_src){var that=this;this.$bg_img.preloadImg(this.bg_src,function(event){that._onBGLoad(event)})}this.hasLayers&&this.layerController.loadLayers(this._onLayersLoad),this.hasBG||this.hasLayers||this.assetsLoaded()}},p._onLayersLoad=function(){this.layersLoaded=!0,(!this.hasBG||this.bgLoaded)&&this.assetsLoaded()},p._onBGLoad=function(event){this.bgNatrualWidth=event.width,this.bgNatrualHeight=event.height,this.bgLoaded=!0,$.browser.msie&&this.$bg_img.on("dragstart",function(event){event.preventDefault()}),(!this.hasLayers||this.layerController.ready)&&this.assetsLoaded()},p.setBGVideo=function($video){if($video[0].play){if(window._mobile)return void $video.remove();this.bgvideo=$video[0];var that=this;$video.addClass("ms-slide-bgvideo"),$video.data("loop")!==!1&&this.bgvideo.addEventListener("ended",function(){that.bgvideo.play()}),$video.data("mute")!==!1&&(this.bgvideo.muted=!0),$video.data("autopause")===!0&&(this.autoPauseBgVid=!0),this.bgvideo_fillmode=$video.data("fill-mode")||"fill","none"!==this.bgvideo_fillmode&&(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,$video),this.bgvideo.addEventListener("loadedmetadata",function(){that.vinit||(that.vinit=!0,that.video_aspect=that.bgVideoAligner.baseHeight/that.bgVideoAligner.baseWidth,that.bgVideoAligner.init(that.bgvideo.videoWidth,that.bgvideo.videoHeight),that._alignBGVideo(),CTween.fadeIn($(that.bgvideo),200),that.selected&&that.bgvideo.play())})),$video.css("opacity",0),this.$bgvideocont=$("<div></div>").addClass("ms-slide-bgvideocont").append($video),this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}},p._alignBGVideo=function(){this.bgvideo_fillmode&&"none"!==this.bgvideo_fillmode&&this.bgVideoAligner.align()},p.setSize=function(width,height,hard){this.__width=width,this.slider.options.autoHeight&&(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,height=Math.floor(this.ratio*this.bgHeight),this.$imgcont.height(height)):(this.ratio=width/this.slider.options.width,height=this.slider.options.height*this.ratio)),this.__height=height,this.$element.width(width).height(height),this.hasBG&&this.bgLoaded&&this.bgAligner.align(),this._alignBGVideo(),this.hasLayers&&this.layerController.setSize(width,height,hard)
},p.getHeight=function(){return this.hasBG&&this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)},p.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css("display",""),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css("display","block").attr("src",this.video+"&autoplay=1"),this.view.$element.addClass("ms-def-cursor"),this.view.swipeControl&&this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))},p.__closeVideo=function(){if(this.vplayed){this.vplayed=!1,this.roc&&this.slider.api.resume();var that=this;CTween.fadeIn(this.vpbtn,500),CTween.animate(this.vcbtn,500,{opacity:0},{complete:function(){that.vcbtn.css("display","none")}}),CTween.animate(this.vframe,500,{opacity:0},{complete:function(){that.vframe.attr("src","about:blank").css("display","none")}}),this.view.swipeControl&&this.view.swipeControl.enable(),this.view.$element.removeClass("ms-def-cursor"),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}},p.create=function(){var that=this;this.hasLayers&&this.layerController.create(),this.link&&this.link.addClass("ms-slide-link").html("").click(function(e){that.linkdis&&e.preventDefault()}),this.video&&(-1===this.video.indexOf("?")&&(this.video+="?"),this.vframe=$("<iframe></iframe>").addClass("ms-slide-video").css({width:"100%",height:"100%",display:"none"}).attr("src","about:blank").attr("allowfullscreen","true").appendTo(this.$element),this.vpbtn=$("<div></div>").addClass("ms-slide-vpbtn").click(function(){that.__playVideo()}).appendTo(this.$element),this.vcbtn=$("<div></div>").addClass("ms-slide-vcbtn").click(function(){that.__closeVideo()}).appendTo(this.$element).css("display","none"),window._touch&&this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent())),!this.slider.options.autoHeight&&this.hasBG&&(this.$imgcont.css("height","100%"),("center"===this.fillMode||"stretch"===this.fillMode)&&(this.fillMode="fill")),this.slider.options.autoHeight&&this.$element.addClass("ms-slide-auto-height"),this.sleep(!0)},p.destroy=function(){this.hasLayers&&(this.layerController.destroy(),this.layerController=null),this.$element.remove(),this.$element=null},p.prepareToSelect=function(){this.pselected||this.selected||(this.pselected=!0,(this.link||this.video)&&(this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this),this.linkdis=!1,this.swipeMoved=!1),this.loadImages(),this.hasLayers&&this.layerController.prepareToShow(),this.ready&&(this.bgvideo&&this.bgvideo.play(),this.hasLayers&&this.slider.options.instantStartLayers&&this.layerController.showLayers()),this.moz&&this.$element.css("margin-top",""))},p.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass("ms-sl-selected"),this.hasLayers&&(this.slider.options.autoHeight&&this.layerController.updateHeight(),this.slider.options.instantStartLayers||this.layerController.showLayers()),this.ready&&this.bgvideo&&this.bgvideo.play(),this.videoAutoPlay&&(this.videodis=!1,this.vpbtn.trigger("click")))},p.unselect=function(){this.pselected=!1,this.moz&&this.$element.css("margin-top","0.1px"),(this.link||this.video)&&(this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.bgvideo&&(this.bgvideo.pause(),!this.autoPauseBgVid&&this.vinit&&(this.bgvideo.currentTime=0)),this.hasLayers&&this.layerController.hideLayers(),this.selected&&(this.selected=!1,this.$element.removeClass("ms-sl-selected"),this.video&&this.vplayed&&(this.__closeVideo(),this.roc=!1))},p.sleep=function(force){(!this.isSleeping||force)&&(this.isSleeping=!0,this.autoAppend&&this.$element.detach(),this.hasLayers&&this.layerController.onSlideSleep())},p.wakeup=function(){this.isSleeping&&(this.isSleeping=!1,this.autoAppend&&this.view.$slideCont.append(this.$element),this.moz&&this.$element.css("margin-top","0.1px"),this.setupBG(),this.hasBG&&this.bgAligner.align(),this.hasLayers&&this.layerController.onSlideWakeup())}}(window,document,jQuery),function($){"use strict";var SliderViewList={};window.MSSlideController=function(slider){this._delayProgress=0,this._timer=new averta.Timer(100),this._timer.onTimer=this.onTimer,this._timer.refrence=this,this.currentSlide=null,this.slider=slider,this.so=slider.options,averta.EventDispatcher.call(this)},MSSlideController.registerView=function(name,_class){if(name in SliderViewList)throw new Error(name+", is already registered.");SliderViewList[name]=_class},MSSlideController.SliderControlList={},MSSlideController.registerControl=function(name,_class){if(name in MSSlideController.SliderControlList)throw new Error(name+", is already registered.");MSSlideController.SliderControlList[name]=_class};var p=MSSlideController.prototype;p.setupView=function(){var that=this;this.resize_listener=function(){that.__resize()};var viewOptions={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin};this.so.viewOptions&&$.extend(viewOptions,this.so.viewOptions),this.so.autoHeight&&(this.so.heightLimit=!1);var viewClass=SliderViewList[this.slider.options.view]||MSBasicView;if(!viewClass._3dreq||window._css3d&&!$.browser.msie||(viewClass=viewClass._fallback||MSBasicView),this.view=new viewClass(viewOptions),this.so.overPause){var that=this;this.slider.$element.mouseenter(function(){that.is_over=!0,that._stopTimer()}).mouseleave(function(){that.is_over=!1,that._startTimer()})}},p.onChangeStart=function(){this.change_started=!0,this.currentSlide&&this.currentSlide.unselect(),this.currentSlide=this.view.currentSlide,this.currentSlide.prepareToSelect(),this.so.endPause&&this.currentSlide.index===this.slider.slides.length-1&&(this.pause(),this.skipTimer()),this.so.autoHeight&&this.slider.setHeight(this.currentSlide.getHeight()),this.so.deepLink&&this.__updateWindowHash(),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))},p.onChangeEnd=function(){if(this.change_started=!1,this._startTimer(),this.currentSlide.select(),this.so.preload>1){var loc,i,slide,l=this.so.preload-1;for(i=1;l>=i;++i){if(loc=this.view.index+i,loc>=this.view.slideList.length){if(!this.so.loop){i=l;continue}loc-=this.view.slideList.length}slide=this.view.slideList[loc],slide&&slide.loadImages()}for(l>this.view.slideList.length/2&&(l=Math.floor(this.view.slideList.length/2)),i=1;l>=i;++i){if(loc=this.view.index-i,0>loc){if(!this.so.loop){i=l;continue}loc=this.view.slideList.length+loc}slide=this.view.slideList[loc],slide&&slide.loadImages()}}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))},p.onSwipeStart=function(){this.skipTimer()},p.skipTimer=function(){this._timer.reset(),this._delayProgress=0,this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},p.onTimer=function(){if(this._timer.getTime()>=1e3*this.view.currentSlide.delay&&(this.skipTimer(),this.view.next(),this.hideCalled=!1),this._delayProgress=this._timer.getTime()/(10*this.view.currentSlide.delay),this.so.hideLayers&&!this.hideCalled&&1e3*this.view.currentSlide.delay-this._timer.getTime()<=300){var currentSlide=this.view.currentSlide;currentSlide.hasLayers&&currentSlide.layerController.animHideLayers(),this.hideCalled=!0}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},p._stopTimer=function(){this._timer&&this._timer.stop()},p._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()},p.__appendSlides=function(){var slide,loc,i=0,l=this.view.slideList.length-1;for(i;l>i;++i)slide=this.view.slideList[i],slide.detached||(slide.$element.detach(),slide.detached=!0);for(this.view.appendSlide(this.view.slideList[this.view.index]),l=3,i=1;l>=i;++i){if(loc=this.view.index+i,loc>=this.view.slideList.length){if(!this.so.loop){i=l;continue}loc-=this.view.slideList.length}slide=this.view.slideList[loc],slide.detached=!1,this.view.appendSlide(slide)}for(l>this.view.slideList.length/2&&(l=Math.floor(this.view.slideList.length/2)),i=1;l>=i;++i){if(loc=this.view.index-i,0>loc){if(!this.so.loop){i=l;continue}loc=this.view.slideList.length+loc}slide=this.view.slideList[loc],slide.detached=!1,this.view.appendSlide(slide)}},p.__resize=function(hard){this.created&&(this.width=this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,hard),this.view.setSize(this.width,this.currentSlide.getHeight(),hard)):this.view.setSize(this.width,Math.max(this.so.minHeight,this.so.heightLimit?Math.min(this.height,this.so.height):this.height),hard),this.slider.$controlsCont&&this.so.centerControls&&this.so.fullwidth&&this.view.$element.css("left",Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)+"px"),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))},p.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))},p.__updateWindowHash=function(){var hash=window.location.hash,dl=this.so.deepLink,dlt=this.so.deepLinkType,eq="path"===dlt?"/":"=",sep="path"===dlt?"/":"&",sliderHash=dl+eq+(this.view.index+1),regTest=new RegExp(dl+eq+"[0-9]+","g");window.location.hash=""===hash?sep+sliderHash:regTest.test(hash)?hash.replace(regTest,sliderHash):hash+sep+sliderHash},p.__curentSlideInHash=function(){var hash=window.location.hash,dl=this.so.deepLink,dlt=this.so.deepLinkType,eq="path"===dlt?"/":"=",regTest=new RegExp(dl+eq+"[0-9]+","g");if(regTest.test(hash)){var index=Number(hash.match(regTest)[0].match(/[0-9]+/g).pop());if(!isNaN(index))return index-1}return-1},p.__onHashChanged=function(){var index=this.__curentSlideInHash();-1!==index&&this.gotoSlide(index)},p.setup=function(){this.created=!0,this.paused=!this.so.autoplay,this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this),this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this),this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.currentSlide=this.view.slideList[this.so.start-1],this.__resize();var slideInHash=this.__curentSlideInHash(),startSlide=-1!==slideInHash?slideInHash:this.so.start-1;if(this.view.create(startSlide),0===this.so.preload&&this.view.slideList[0].loadImages(),this.scroller=this.view.controller,this.so.wheel){var that=this,last_time=(new Date).getTime();this.wheellistener=function(event){var e=window.event||event.orginalEvent||event;e.preventDefault();var current_time=(new Date).getTime();if(!(400>current_time-last_time)){last_time=current_time;var delta=Math.abs(e.detail||e.wheelDelta);$.browser.mozilla&&(delta*=100);var scrollThreshold=15;return e.detail<0||e.wheelDelta>0?delta>=scrollThreshold&&that.previous(!0):delta>=scrollThreshold&&that.next(!0),!1}},$.browser.mozilla?this.slider.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.bind("mousewheel",this.wheellistener)}0===this.slider.$element[0].clientWidth&&(this.slider.init_safemode=!0),this.__resize();var that=this;this.so.deepLink&&$(window).on("hashchange",function(){that.__onHashChanged()})},p.index=function(){return this.view.index},p.count=function(){return this.view.slidesCount},p.next=function(checkLoop){this.skipTimer(),this.view.next(checkLoop)},p.previous=function(checkLoop){this.skipTimer(),this.view.previous(checkLoop)},p.gotoSlide=function(index){index=Math.min(index,this.count()-1),this.skipTimer(),this.view.gotoSlide(index)},p.destroy=function(reset){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.DESTROY)),this.slider.destroy(reset)},p._destroy=function(){this._timer.reset(),this._timer=null,$(window).unbind("resize",this.resize_listener),this.view.destroy(),this.view=null,this.so.wheel&&($.browser.mozilla?this.slider.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),this.so=null},p.runAction=function(action){var actionParams=[];if(-1!==action.indexOf("(")){var temp=action.slice(0,action.indexOf("("));actionParams=action.slice(action.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),action=temp}action in this?this[action].apply(this,actionParams):console},p.update=function(hard){this.slider.init_safemode&&hard&&(this.slider.init_safemode=!1),this.__resize(hard),hard&&this.dispatchEvent(new MSSliderEvent(MSSliderEvent.HARD_UPDATE))},p.locate=function(){this.__resize()},p.resume=function(){this.paused&&(this.paused=!1,this._startTimer())},p.pause=function(){this.paused||(this.paused=!0,this._stopTimer())},p.currentTime=function(){return this._delayProgress},averta.EventDispatcher.extend(p)}(jQuery),function($){"use strict";var LayerTypes={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer,button:MSButtonLayer};window.MasterSlider=function(){this.options={autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:"fill",start:1,view:"basic",width:300,height:150,inView:15,critMargin:1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,minHeight:-1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:"center",hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:"h",preload:0,wheel:!1,layout:"boxed",autofillTarget:null,fullscreenMargin:0,instantStartLayers:!1,parallaxMode:"mouse",rtl:!1,deepLink:null,deepLinkType:"path",disablePlugins:[]},this.slides=[],this.activePlugins=[],this.$element=null,this.lastMargin=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0,this._holdOn=0;var that=this;this.resize_listener=function(){that._resize()},$(window).bind("resize",this.resize_listener)},MasterSlider.author="Averta Ltd. (www.averta.net)",MasterSlider.version="2.14.6",MasterSlider.releaseDate="May 2015",MasterSlider._plugins=[];var MS=MasterSlider;MS.registerPlugin=function(plugin){-1===MS._plugins.indexOf(plugin)&&MS._plugins.push(plugin)};var p=MasterSlider.prototype;p.__setupSlides=function(){var new_slide,that=this,ind=0;this.$element.children(".ms-slide").each(function(){var $slide_ele=$(this);new_slide=new MSSlide,new_slide.$element=$slide_ele,new_slide.slider=that,new_slide.delay=void 0!==$slide_ele.data("delay")?$slide_ele.data("delay"):3,new_slide.fillMode=void 0!==$slide_ele.data("fill-mode")?$slide_ele.data("fill-mode"):that.options.fillMode,new_slide.index=ind++;var slide_img=$slide_ele.children("img:not(.ms-layer)");slide_img.length>0&&new_slide.setBG(slide_img[0]);var slide_video=$slide_ele.children("video");if(slide_video.length>0&&new_slide.setBGVideo(slide_video),that.controls)for(var i=0,l=that.controls.length;l>i;++i)that.controls[i].slideAction(new_slide);$slide_ele.children("a").each(function(){var $this=$(this);"video"===this.getAttribute("data-type")?(new_slide.video=this.getAttribute("href"),new_slide.videoAutoPlay=$this.data("autoplay"),$this.remove()):$this.hasClass("ms-layer")||(new_slide.link=$(this))});that.__createSlideLayers(new_slide,$slide_ele.find(".ms-layer")),that.slides.push(new_slide),that.slideController.view.addSlide(new_slide)})},p.__createSlideLayers=function(slide,layers){0!=layers.length&&(slide.setupLayerController(),layers.each(function(index,domEle){var $parent_ele,$layer_element=$(this);"A"===domEle.nodeName&&"image"===$layer_element.find(">img").data("type")&&($parent_ele=$(this),$layer_element=$parent_ele.find("img"));var layer=new(LayerTypes[$layer_element.data("type")||"text"]);layer.$element=$layer_element,layer.link=$parent_ele;var eff_parameters={},end_eff_parameters={};void 0!==$layer_element.data("effect")&&(eff_parameters.name=$layer_element.data("effect")),void 0!==$layer_element.data("ease")&&(eff_parameters.ease=$layer_element.data("ease")),void 0!==$layer_element.data("duration")&&(eff_parameters.duration=$layer_element.data("duration")),void 0!==$layer_element.data("delay")&&(eff_parameters.delay=$layer_element.data("delay")),$layer_element.data("hide-effect")&&(end_eff_parameters.name=$layer_element.data("hide-effect")),$layer_element.data("hide-ease")&&(end_eff_parameters.ease=$layer_element.data("hide-ease")),void 0!==$layer_element.data("hide-duration")&&(end_eff_parameters.duration=$layer_element.data("hide-duration")),void 0!==$layer_element.data("hide-time")&&(end_eff_parameters.time=$layer_element.data("hide-time")),layer.setStartAnim(eff_parameters),layer.setEndAnim(end_eff_parameters),slide.layerController.addLayer(layer)}))},p._removeLoading=function(){$(window).unbind("resize",this.resize_listener),this.$element.removeClass("before-init").css("visibility","visible").css("height","").css("opacity",0),CTween.fadeIn(this.$element),this.$loading.remove(),this.slideController&&this.slideController.__resize()},p._resize=function(){if(this.$loading){var h=this.$loading[0].clientWidth/this.aspect;h=this.options.heightLimit?Math.min(h,this.options.height):h,this.$loading.height(h),this.$element.height(h)}},p._shuffleSlides=function(){for(var r,slides=this.$element.children(".ms-slide"),i=0,l=slides.length;l>i;++i)r=Math.floor(Math.random()*(l-1)),i!=r&&(this.$element[0].insertBefore(slides[i],slides[r]),slides=this.$element.children(".ms-slide"))},p._setupSliderLayout=function(){this._updateSideMargins(),this.lastMargin=this.leftSpace;var lo=this.options.layout;"boxed"!==lo&&"partialview"!==lo&&(this.options.fullwidth=!0),("fullscreen"===lo||"autofill"===lo)&&(this.options.fullheight=!0,"autofill"===lo&&(this.$autofillTarget=$(this.options.autofillTarget),0===this.$autofillTarget.length&&(this.$autofillTarget=this.$element.parent()))),"partialview"===lo&&this.$element.addClass("ms-layout-partialview"),("fullscreen"===lo||"fullwidth"===lo||"autofill"===lo)&&($(window).bind("resize",{that:this},this._updateLayout),this._updateLayout()),$(window).bind("resize",this.slideController.resize_listener)},p._updateLayout=function(event){var that=event?event.data.that:this,lo=that.options.layout,$element=that.$element,$win=$(window);if("fullscreen"===lo)document.body.style.overflow="hidden",$element.height($win.height()-that.options.fullscreenMargin-that.topSpace-that.bottomSpace),document.body.style.overflow="";else if("autofill"===lo)return void $element.height(that.$autofillTarget.height()-that.options.fullscreenMargin-that.topSpace-that.bottomSpace).width(that.$autofillTarget.width()-that.leftSpace-that.rightSpace);$element.width($win.width()-that.leftSpace-that.rightSpace);var margin=-$element.offset().left+that.leftSpace+that.lastMargin;$element.css("margin-left",margin),that.lastMargin=margin},p._init=function(){if(!(this._holdOn>0)&&this._docReady){if(this.initialized=!0,"all"!==this.options.preload&&this._removeLoading(),this.options.shuffle&&this._shuffleSlides(),MSLayerEffects.setup(),this.slideController.setupView(),this.view=this.slideController.view,this.$controlsCont=$("<div></div>").addClass("ms-inner-controls-cont"),this.options.centerControls&&this.$controlsCont.css("max-width",this.options.width+"px"),this.$controlsCont.prepend(this.view.$element),this.$msContainer=$("<div></div>").addClass("ms-container").prependTo(this.$element).append(this.$controlsCont),this.controls)for(var i=0,l=this.controls.length;l>i;++i)this.controls[i].setup();if(this._setupSliderLayout(),this.__setupSlides(),this.slideController.setup(),this.controls)for(i=0,l=this.controls.length;l>i;++i)this.controls[i].create();if(this.options.autoHeight&&this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()),this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse){var $view=this.view.$element;$view.mousedown(function(){$view.removeClass("ms-grab-cursor"),$view.addClass("ms-grabbing-cursor"),$.browser.msie&&window.ms_grabbing_curosr&&($view[0].style.cursor="url("+window.ms_grabbing_curosr+"), move")}).addClass("ms-grab-cursor"),$(document).mouseup(function(){$view.removeClass("ms-grabbing-cursor"),$view.addClass("ms-grab-cursor"),$.browser.msie&&window.ms_grab_curosr&&($view[0].style.cursor="url("+window.ms_grab_curosr+"), move")})}this.slideController.__dispatchInit()}},p.setHeight=function(value){this.options.smoothHeight?(this.htween&&(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,500,{height:value},{ease:"easeOutQuart"})):this.slideController.view.$element.height(value)},p.reserveSpace=function(side,space){var sideSpace=side+"Space",pos=this[sideSpace];return this[sideSpace]+=space,this._updateSideMargins(),pos},p._updateSideMargins=function(){this.$element.css("margin",this.topSpace+"px "+this.rightSpace+"px "+this.bottomSpace+"px "+this.leftSpace+"px")},p._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0,this._updateSideMargins(),this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))},p.control=function(control,options){if(control in MSSlideController.SliderControlList){this.controls||(this.controls=[]);var ins=new MSSlideController.SliderControlList[control](options);return ins.slider=this,this.controls.push(ins),this}},p.holdOn=function(){this._holdOn++},p.release=function(){this._holdOn--,this._init()},p.setup=function(target,options){if(this.$element="string"==typeof target?$("#"+target):target.eq(0),this.setupMarkup=this.$element.html(),0!==this.$element.length){this.$element.addClass("master-slider").addClass("before-init"),$.browser.msie?this.$element.addClass("ms-ie").addClass("ms-ie"+$.browser.version.slice(0,$.browser.version.indexOf("."))):$.browser.webkit?this.$element.addClass("ms-wk"):$.browser.mozilla&&this.$element.addClass("ms-moz");var ua=navigator.userAgent.toLowerCase(),isAndroid=ua.indexOf("android")>-1;isAndroid&&this.$element.addClass("ms-android");var that=this;$.extend(this.options,options),this.aspect=this.options.width/this.options.height,this.$loading=$("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append($("<div></div>").addClass("ms-loading")),this.$loading.parent().css("position","relative"),this.options.autofill&&(this.options.fullwidth=!0,this.options.fullheight=!0),this.options.fullheight&&this.$element.addClass("ms-fullheight"),this._resize(),this.slideController=new MSSlideController(this),this.api=this.slideController;for(var i=0,l=MS._plugins.length;i!==l;i++){var plugin=MS._plugins[i];-1===this.options.disablePlugins.indexOf(plugin.name)&&this.activePlugins.push(new plugin(this))}return $(document).ready(function(){that._docReady=!0,that._init()}),this}},p.destroy=function(insertMarkup){for(var i=0,l=this.activePlugins.length;i!==l;i++)this.activePlugins[i].destroy();if(this.controls)for(i=0,l=this.controls.length;i!==l;i++)this.controls[i].destroy();this.slideController&&this.slideController._destroy(),this.$loading&&this.$loading.remove(),insertMarkup?this.$element.html(this.setupMarkup).css("visibility","hidden"):this.$element.remove();var lo=this.options.layout;("fullscreen"===lo||"fullwidth"===lo)&&$(window).unbind("resize",this._updateLayout),this.view=null,this.slides=null,this.options=null,this.slideController=null,this.api=null,this.resize_listener=null,this.activePlugins=null}}(jQuery),function($,window,document,undefined){function MasterSliderPlugin(element,options){this.element=element,this.$element=$(element),this.settings=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}var pluginName="masterslider",defaults={controls:{}};$.extend(MasterSliderPlugin.prototype,{init:function(){var self=this;this._slider=new MasterSlider;for(var control in this.settings.controls)this._slider.control(control,this.settings.controls[control]);this._slider.setup(this.$element,this.settings);var _superDispatch=this._slider.api.dispatchEvent;this._slider.api.dispatchEvent=function(event){self.$element.trigger(event.type),_superDispatch.call(this,event)}},api:function(){return this._slider.api},slider:function(){return this._slider}}),$.fn[pluginName]=function(options){var args=arguments,plugin="plugin_"+pluginName;if(options===undefined||"object"==typeof options)return this.each(function(){$.data(this,plugin)||$.data(this,plugin,new MasterSliderPlugin(this,options))});if("string"==typeof options&&"_"!==options[0]&&"init"!==options){var returns;return this.each(function(){var instance=$.data(this,plugin);instance instanceof MasterSliderPlugin&&"function"==typeof instance[options]&&(returns=instance[options].apply(instance,Array.prototype.slice.call(args,1))),instance instanceof MasterSliderPlugin&&"function"==typeof instance._slider.api[options]&&(returns=instance._slider.api[options].apply(instance._slider.api,Array.prototype.slice.call(args,1))),"destroy"===options&&$.data(this,plugin,null)}),returns!==undefined?returns:this}}}(jQuery,window,document),window.MSViewEvents=function(type,data){this.type=type,this.data=data},MSViewEvents.SWIPE_START="swipeStart",MSViewEvents.SWIPE_END="swipeEnd",MSViewEvents.SWIPE_MOVE="swipeMove",MSViewEvents.SWIPE_CANCEL="swipeCancel",MSViewEvents.SCROLL="scroll",MSViewEvents.CHANGE_START="slideChangeStart",MSViewEvents.CHANGE_END="slideChangeEnd",function($){"use strict";window.MSBasicView=function(options){this.options={loop:!1,dir:"h",autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1},$.extend(this.options,options),this.dir=this.options.dir,this.loop=this.options.loop,this.spacing=this.options.spacing,this.__width=0,this.__height=0,this.__cssProb="h"===this.dir?"left":"top",this.__offset="h"===this.dir?"offsetLeft":"offsetTop",this.__dimension="h"===this.dir?"__width":"__height",this.__translate_end=window._css3d?" translateZ(0px)":"",this.$slideCont=$("<div></div>").addClass("ms-slide-container"),this.$element=$("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont),this.currentSlide=null,this.index=-1,this.slidesCount=0,this.slides=[],this.slideList=[],this.viewSlidesList=[],this.css3=window._cssanim,this.start_buffer=0,this.firstslide_snap=0,this.slideChanged=!1,this.controller=new Controller(0,0,{snapping:!0,snapsize:100,paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-.5*this.options.speed)/100,endless:this.loop}),this.controller.renderCallback("h"===this.dir?this._horizUpdate:this._vertiUpdate,this),this.controller.snappingCallback(this.__snapUpdate,this),this.controller.snapCompleteCallback(this.__snapCompelet,this),averta.EventDispatcher.call(this)};var p=MSBasicView.prototype;p.__snapCompelet=function(){this.slideChanged&&(this.slideChanged=!1,this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},p.__snapUpdate=function(controller,snap,change){if(this.loop){var target_index=this.index+change;this.updateLoop(target_index),target_index>=this.slidesCount&&(target_index-=this.slidesCount),0>target_index&&(target_index=this.slidesCount+target_index),this.index=target_index}else{if(0>snap||snap>=this.slidesCount)return;this.index=snap}this._checkCritMargins(),$.browser.mozilla&&(this.slideList[this.index].$element[0].style.marginTop="0.1px",this.currentSlide&&(this.currentSlide.$element[0].style.marginTop=""));var new_slide=this.slideList[this.index];new_slide!==this.currentSlide&&(this.currentSlide=new_slide,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.slideChanged=!0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))},p._checkCritMargins=function(){if(!this.normalMode){var hlf=Math.floor(this.options.viewNum/2),inView=this.viewSlidesList.indexOf(this.slideList[this.index]),size=this[this.__dimension]+this.spacing,cm=this.options.critMargin;return this.loop?void((cm>=inView||inView>=this.viewSlidesList.length-cm)&&(size*=inView-hlf,this.__locateSlides(!1,size+this.start_buffer),this.start_buffer+=size)):void((cm>inView&&this.index>=cm||inView>=this.viewSlidesList.length-cm&&this.index<this.slidesCount-cm)&&this.__locateSlides(!1))}},p._vertiUpdate=function(controller,value){return this.__contPos=value,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateY("+-value+"px)"+this.__translate_end):void(this.$slideCont[0].style.top=-value+"px")},p._horizUpdate=function(controller,value){return this.__contPos=value,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateX("+-value+"px)"+this.__translate_end):void(this.$slideCont[0].style.left=-value+"px")},p.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var temp=this.viewSlidesList.slice();this.viewSlidesList=[];var l,i=0,hlf=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-hlf+i]);else{for(i=0;i!==hlf&&this.index-i!==-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==hlf&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,l=temp.length;i!==l;i++)-1===this.viewSlidesList.indexOf(temp[i])&&temp[i].sleep();temp=null,this.currentSlide&&this.__updateSlidesZindex()},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*(this[this.__dimension]+this.spacing);slide=this.viewSlidesList[i],slide.wakeup(),slide.position=pos,slide.$element[0].style[this.__cssProb]=pos+"px"}move!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},p.__createLoopList=function(){var return_arr=[],i=0,count=this.slidesCount/2,before_count=this.slidesCount%2===0?count-1:Math.floor(count),after_count=this.slidesCount%2===0?count:Math.floor(count);for(this.currentSlideLoc=before_count,i=1;before_count>=i;++i)return_arr.unshift(this.slideList[this.index-i<0?this.slidesCount-i+this.index:this.index-i]);for(return_arr.push(this.slideList[this.index]),i=1;after_count>=i;++i)return_arr.push(this.slideList[this.index+i>=this.slidesCount?this.index+i-this.slidesCount:this.index+i]);return return_arr},p.__getSteps=function(index,target){var right=index>target?this.slidesCount-index+target:target-index,left=Math.abs(this.slidesCount-right);return left>right?right:-left},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];if(this.slides.push(first_slide),this.normalMode){var pos=last_slide.$element[0][this.__offset]+this.spacing+this[this.__dimension];first_slide.$element[0].style[this.__cssProb]=pos+"px",first_slide.position=pos}},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];if(this.slides.unshift(last_slide),this.normalMode){var pos=first_slide.$element[0][this.__offset]-this.spacing-this[this.__dimension];last_slide.$element[0].style[this.__cssProb]=pos+"px",last_slide.position=pos}},p.__updateSlidesZindex=function(){{var slide,l=this.viewSlidesList.length;Math.floor(l/2)}if(this.loop)for(var loc=this.viewSlidesList.indexOf(this.currentSlide),i=0;i!==l;i++)slide=this.viewSlidesList[i],this.viewSlidesList[i].$element.css("z-index",loc>=i?i+1:l-i);
else{for(var beforeNum=this.currentSlide.index-this.viewSlidesList[0].index,i=0;i!==l;i++)this.viewSlidesList[i].$element.css("z-index",beforeNum>=i?i+1:l-i);this.currentSlide.$element.css("z-index",l)}},p.addSlide=function(slide){slide.view=this,this.slides.push(slide),this.slideList.push(slide),this.slidesCount++},p.appendSlide=function(slide){this.$slideCont.append(slide.$element)},p.updateLoop=function(index){if(this.loop)for(var steps=this.__getSteps(this.index,index),i=0,l=Math.abs(steps);l>i;++i)0>steps?this.__pushStart():this.__pushEnd()},p.gotoSlide=function(index,fast){this.updateLoop(index),this.index=index;var target_slide=this.slideList[index];this._checkCritMargins(),this.controller.changeTo(target_slide.position,!fast,null,null,!1),target_slide!==this.currentSlide&&(this.slideChanged=!0,this.currentSlide=target_slide,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),fast&&this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},p.next=function(checkLoop){return checkLoop&&!this.loop&&this.index+1>=this.slidesCount?void this.controller.bounce(10):void this.gotoSlide(this.index+1>=this.slidesCount?0:this.index+1)},p.previous=function(checkLoop){return checkLoop&&!this.loop&&this.index-1<0?void this.controller.bounce(-10):void this.gotoSlide(this.index-1<0?this.slidesCount-1:this.index-1)},p.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.dir?"horizontal":"vertical";var that=this;this.swipeControl.onSwipe="h"===this.dir?function(status){that.horizSwipeMove(status)}:function(status){that.vertSwipeMove(status)}},p.vertSwipeMove=function(status){var phase=status.phase;if("start"===phase)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,status));else if("move"===phase&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+status.moveY)<this.cont_size/2))this.controller.drag(status.moveY),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,status));else if("end"===phase||"cancel"===phase){var speed=status.distanceY/status.duration*50/3;Math.abs(speed)>.1?(this.controller.push(-speed),speed>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,status))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,status)))}},p.horizSwipeMove=function(status){var phase=status.phase;if("start"===phase)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,status));else if("move"===phase&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+status.moveX)<this.cont_size/2))this.controller.drag(status.moveX),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,status));else if("end"===phase||"cancel"===phase){var speed=status.distanceX/status.duration*50/3;Math.abs(speed)>.1?(this.controller.push(-speed),speed>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,status))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,status)))}},p.setSize=function(width,height,hard){if(this.lastWidth!==width||height!==this.lastHeight||hard){this.$element.width(width).height(height);for(var i=0;i<this.slidesCount;++i)this.slides[i].setSize(width,height,hard);this.__width=width,this.__height=height,this.__created&&(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=width,this.lastHeight=height)}},p.create=function(index){this.__created=!0,this.index=Math.min(index||0,this.slidesCount-1),this.lastSnap=this.index,this.loop&&(this.slides=this.__createLoopList()),this.normalMode=this.slidesCount<=this.options.viewNum;for(var i=0;i<this.slidesCount;++i)this.slides[i].create();this.__locateSlides(),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing)),this.gotoSlide(this.index,!0),this.options.swipe&&(window._touch||this.options.mouseSwipe)&&this.setupSwipe()},p.destroy=function(){if(this.__created){for(var i=0;i<this.slidesCount;++i)this.slides[i].destroy();this.slides=null,this.slideList=null,this.$element.remove(),this.controller.destroy(),this.controller=null}},averta.EventDispatcher.extend(p),MSSlideController.registerView("basic",MSBasicView)}(jQuery),function(){"use strict";window.MSWaveView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-wave-view"),this.$slideCont.css(window._csspfx+"transform-style","preserve-3d"),this.autoUpdateZIndex=!0},MSWaveView.extend(MSBasicView),MSWaveView._3dreq=!0,MSWaveView._fallback=MSBasicView;var p=MSWaveView.prototype,_super=MSBasicView.prototype;p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);for(var slide,distance,cont_scroll=-value,i=0;i<this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlidesHoriz(slide,distance)},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);for(var slide,distance,cont_scroll=-value,i=0;i<this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlidesVertic(slide,distance)},p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.$element.css(window._csspfx+"transform","translateZ("+3*-value+"px) rotateY(0.01deg)")},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView("wave",MSWaveView)}(jQuery),function(){window.MSFadeBasicView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view")},MSFadeBasicView.extend(MSWaveView);{var p=MSFadeBasicView.prototype;MSFadeBasicView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(.6*distance/this.__width);value=1-Math.min(value,.6),slide.$element.css("opacity",value)},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView("fadeBasic",MSFadeBasicView),MSWaveView._fallback=MSFadeBasicView}(),function(){window.MSFadeWaveView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view")},MSFadeWaveView.extend(MSWaveView),MSFadeWaveView._3dreq=!0,MSFadeWaveView._fallback=MSFadeBasicView;{var p=MSFadeWaveView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=Math.min(value,100),slide.$element.css("opacity",1-value/300),slide.$element[0].style[window._jcsspfx+"Transform"]="scale("+(1-value/800)+") rotateY(0.01deg) "},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView("fadeWave",MSFadeWaveView)}(),function(){"use strict";window.MSFlowView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-flow-view")},MSFlowView.extend(MSWaveView),MSFlowView._3dreq=!0,MSFlowView._fallback=MSFadeBasicView;{var p=MSFlowView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width),rvalue=Math.min(.3*value,30)*(0>distance?-1:1),zvalue=1.2*value;slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-zvalue+"px) rotateY("+rvalue+"deg) "},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width),rvalue=Math.min(.3*value,30)*(0>distance?-1:1),zvalue=1.2*value;slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-zvalue+"px) rotateX("+-rvalue+"deg) "},MSSlideController.registerView("flow",MSFlowView)}(jQuery),function(){window.MSFadeFlowView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view")},MSFadeFlowView.extend(MSWaveView),MSFadeFlowView._3dreq=!0;{var p=MSFadeFlowView.prototype;MSWaveView.prototype}p.__calculate=function(distance){var value=Math.min(Math.abs(100*distance/this.__width),100),rvalue=Math.min(.5*value,50)*(0>distance?-1:1);return{value:value,rvalue:rvalue}},p.__updateSlidesHoriz=function(slide,distance){var clc=this.__calculate(distance);slide.$element.css("opacity",1-clc.value/300),slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-clc.value+"px) rotateY("+clc.rvalue+"deg) "},p.__updateSlidesVertic=function(slide,distance){var clc=this.__calculate(distance);slide.$element.css("opacity",1-clc.value/300),slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-clc.value+"px) rotateX("+-clc.rvalue+"deg) "},MSSlideController.registerView("fadeFlow",MSFadeFlowView)}(),function($){"use strict";window.MSMaskView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-mask-view")},MSMaskView.extend(MSBasicView);var p=MSMaskView.prototype,_super=MSBasicView.prototype;p.addSlide=function(slide){slide.view=this,slide.$frame=$("<div></div>").addClass("ms-mask-frame").append(slide.$element),slide.$element[0].style.position="relative",slide.autoAppend=!1,this.slides.push(slide),this.slideList.push(slide),this.slidesCount++},p.setSize=function(width,height){for(var slider=this.slides[0].slider,i=0;i<this.slidesCount;++i)this.slides[i].$frame[0].style.width=width+"px",slider.options.autoHeight||(this.slides[i].$frame[0].style.height=height+"px");_super.setSize.call(this,width,height)},p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(value-this.slideList[i].position)+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.left=value-this.slideList[i].position+"px"},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(value-this.slideList[i].position)+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.top=value-this.slideList[i].position+"px"},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];if(this.slides.push(first_slide),this.normalMode){var pos=last_slide.$frame[0][this.__offset]+this.spacing+this[this.__dimension];first_slide.$frame[0].style[this.__cssProb]=pos+"px",first_slide.position=pos}},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];if(this.slides.unshift(last_slide),this.normalMode){var pos=first_slide.$frame[0][this.__offset]-this.spacing-this[this.__dimension];last_slide.$frame[0].style[this.__cssProb]=pos+"px",last_slide.position=pos}},p.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var temp=this.viewSlidesList.slice();this.viewSlidesList=[];var l,i=0,hlf=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-hlf+i]);else{for(i=0;i!==hlf&&this.index-i!==-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==hlf&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,l=temp.length;i!==l;i++)-1===this.viewSlidesList.indexOf(temp[i])&&(temp[i].sleep(),temp[i].$frame.detach());temp=null},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*(this[this.__dimension]+this.spacing);if(slide=this.viewSlidesList[i],this.$slideCont.append(slide.$frame),slide.wakeup(!1),slide.position=pos,slide.selected&&slide.bgvideo)try{slide.bgvideo.play()}catch(e){}slide.$frame[0].style[this.__cssProb]=pos+"px"}move!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},MSSlideController.registerView("mask",MSMaskView)}(jQuery),function(){"use strict";window.MSParallaxMaskView=function(options){MSMaskView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-parallax-mask-view")},MSParallaxMaskView.extend(MSMaskView),MSParallaxMaskView.parallaxAmount=.5;var p=MSParallaxMaskView.prototype,_super=MSBasicView.prototype;p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.left=(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px"},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.top=(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px"},MSSlideController.registerView("parallaxMask",MSParallaxMaskView)}(jQuery),function(){"use strict";window.MSFadeView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-fade-view"),this.controller.renderCallback(this.__update,this)},MSFadeView.extend(MSBasicView);var p=MSFadeView.prototype,_super=MSBasicView.prototype;p.__update=function(controller,value){for(var slide,distance,cont_scroll=-value,i=0;i<this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlides(slide,distance)},p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]);0>=1-value?slide.$element.fadeTo(0,0).css("visibility","hidden"):slide.$element.fadeTo(0,1-value).css("visibility","")},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*this[this.__dimension];slide=this.viewSlidesList[i],slide.wakeup(),slide.position=pos}move!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];this.slides.push(first_slide),first_slide.position=last_slide.position+this[this.__dimension]},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];this.slides.unshift(last_slide),last_slide.position=first_slide.position-this[this.__dimension]},p.create=function(index){_super.create.call(this,index),this.spacing=0,this.controller.options.minValidDist=10},MSSlideController.registerView("fade",MSFadeView)}(jQuery),function(){"use strict";window.MSScaleView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-scale-view"),this.controller.renderCallback(this.__update,this)},MSScaleView.extend(MSFadeView);var p=MSScaleView.prototype,_super=MSFadeView.prototype;p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]),element=slide.$element[0];0>=1-value?(element.style.opacity=0,element.style.visibility="hidden",element.style[window._jcsspfx+"Transform"]=""):(element.style.opacity=1-value,element.style.visibility="",element.style[window._jcsspfx+"Transform"]="perspective(2000px) translateZ("+value*(0>distance?-.5:.5)*300+"px)")},p.create=function(index){_super.create.call(this,index),this.controller.options.minValidDist=.03},MSSlideController.registerView("scale",MSScaleView)}(jQuery),function(){"use strict";window.MSStackView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-stack-view"),this.controller.renderCallback(this.__update,this),this.autoUpdateZIndex=!0},MSStackView.extend(MSFadeView),MSStackView._3dreq=!0,MSStackView._fallback=MSFadeView;var p=MSStackView.prototype,_super=MSFadeView.prototype;p.__updateSlidesZindex=function(){for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++)slide=this.viewSlidesList[i],this.viewSlidesList[i].$element.css("z-index",l-i)},p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]),element=slide.$element[0];0>=1-value?(element.style.opacity=1,element.style.visibility="hidden",element.style[window._jcsspfx+"Transform"]=""):(element.style.visibility="",element.style[window._jcsspfx+"Transform"]=0>distance?"perspective(2000px) translateZ("+-300*value+"px)":this.__translate+"("+-value*this[this.__dimension]+"px)")},p.create=function(index){_super.create.call(this,index),this.controller.options.minValidDist=.03,this.__translate="h"===this.dir?"translateX":"translateY"},MSSlideController.registerView("stack",MSStackView)}(jQuery),function(){"use strict";var perspective=2e3;window.MSFocusView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-focus-view"),this.options.centerSpace=this.options.centerSpace||1},MSFocusView.extend(MSWaveView),MSFocusView._3dreq=!0,MSFocusView._fallback=MSFadeBasicView;{var p=MSFocusView.prototype;MSWaveView.prototype}p.__calcview=function(z,w){var a=w/2*z/(z+perspective);return a*(z+perspective)/perspective},p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=15*-Math.min(value,100),slide.$element.css(window._csspfx+"transform","translateZ("+(value+1)+"px) rotateY(0.01deg) translateX("+(0>distance?1:-1)*-this.__calcview(value,this.__width)*this.options.centerSpace+"px)")},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=15*-Math.min(value,100),slide.$element.css(window._csspfx+"transform","translateZ("+(value+1)+"px) rotateY(0.01deg) translateY("+(0>distance?1:-1)*-this.__calcview(value,this.__width)*this.options.centerSpace+"px)")},MSSlideController.registerView("focus",MSFocusView)}(),function(){window.MSPartialWaveView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view")},MSPartialWaveView.extend(MSWaveView),MSPartialWaveView._3dreq=!0,MSPartialWaveView._fallback=MSFadeBasicView;{var p=MSPartialWaveView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.hasBG&&slide.$bg_img.css("opacity",(100-Math.abs(120*distance/this.__width/3))/100),slide.$element.css(window._csspfx+"transform","translateZ("+3*-value+"px) rotateY(0.01deg) translateX("+.75*distance+"px)")},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.hasBG&&slide.$bg_img.css("opacity",(100-Math.abs(120*distance/this.__width/3))/100),slide.$element.css(window._csspfx+"transform","translateZ("+3*-value+"px) rotateY(0.01deg) translateY("+.75*distance+"px)")},MSSlideController.registerView("partialWave",MSPartialWaveView)}(),function($){"use strict";var BaseControl=function(){this.options={prefix:"ms-",autohide:!0,overVideo:!0,customClass:null}},p=BaseControl.prototype;p.slideAction=function(){},p.setup=function(){this.cont=this.options.insertTo?$(this.options.insertTo):this.slider.$controlsCont,this.options.overVideo||this._hideOnvideoStarts()},p.checkHideUnder=function(){this.options.hideUnder&&(this.needsRealign=!this.options.insetTo&&("left"===this.options.align||"right"===this.options.align)&&this.options.inset===!1,$(window).bind("resize",{that:this},this.onResize),this.onResize())},p.onResize=function(event){var that=event&&event.data.that||this,w=window.innerWidth;w<=that.options.hideUnder&&!that.detached?(that.hide(!0),that.detached=!0,that.onDetach()):w>=that.options.hideUnder&&that.detached&&(that.detached=!1,that.visible(),that.onAppend())},p.create=function(){this.options.autohide&&(this.hide(!0),this.slider.$controlsCont.mouseenter($.proxy(this._onMouseEnter,this)).mouseleave($.proxy(this._onMouseLeave,this)).mousedown($.proxy(this._onMouseDown,this)),this.$element&&this.$element.mouseenter($.proxy(this._onMouseEnter,this)).mouseleave($.proxy(this._onMouseLeave,this)).mousedown($.proxy(this._onMouseDown,this)),$(document).mouseup($.proxy(this._onMouseUp,this))),this.options.align&&this.$element.addClass("ms-align-"+this.options.align),this.options.customClass&&this.$element&&this.$element.addClass(this.options.customClass)},p._onMouseEnter=function(){this._disableAH||this.mdown||this.visible(),this.mleave=!1},p._onMouseLeave=function(){this.mdown||this.hide(),this.mleave=!0},p._onMouseDown=function(){this.mdown=!0},p._onMouseUp=function(){this.mdown&&this.mleave&&this.hide(),this.mdown=!1},p.onAppend=function(){this.needsRealign&&this.slider._realignControls()},p.onDetach=function(){this.needsRealign&&this.slider._realignControls()},p._hideOnvideoStarts=function(){var that=this;this.slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){that._disableAH=!0,that.hide()}),this.slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){that._disableAH=!1,that.visible()})},p.hide=function(fast){if(fast)this.$element.css("opacity",0),this.$element.css("display","none");else{clearTimeout(this.hideTo);var $element=this.$element;this.hideTo=setTimeout(function(){CTween.fadeOut($element,400,!1)},20)}this.$element.addClass("ms-ctrl-hide")},p.visible=function(){this.detached||(clearTimeout(this.hideTo),this.$element.css("display",""),CTween.fadeIn(this.$element,400,!1),this.$element.removeClass("ms-ctrl-hide"))},p.destroy=function(){this.options&&this.options.hideUnder&&$(window).unbind("resize",this.onResize)},window.BaseControl=BaseControl}(jQuery),function($){"use strict";var MSArrows=function(options){BaseControl.call(this),$.extend(this.options,options)};MSArrows.extend(BaseControl);var p=MSArrows.prototype,_super=BaseControl.prototype;p.setup=function(){var that=this;this.$next=$("<div></div>").addClass(this.options.prefix+"nav-next").bind("click",function(){that.slider.api.next(!0)}),this.$prev=$("<div></div>").addClass(this.options.prefix+"nav-prev").bind("click",function(){that.slider.api.previous(!0)}),_super.setup.call(this),this.cont.append(this.$next),this.cont.append(this.$prev),this.checkHideUnder()},p.hide=function(fast){return fast?(this.$prev.css("opacity",0).css("display","none"),void this.$next.css("opacity",0).css("display","none")):(CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1),this.$prev.addClass("ms-ctrl-hide"),void this.$next.addClass("ms-ctrl-hide"))},p.visible=function(){this.detached||(CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400),this.$prev.removeClass("ms-ctrl-hide").css("display",""),this.$next.removeClass("ms-ctrl-hide").css("display",""))},p.destroy=function(){_super.destroy(),this.$next.remove(),this.$prev.remove()},window.MSArrows=MSArrows,MSSlideController.registerControl("arrows",MSArrows)}(jQuery),function($){"use strict";var MSThumblist=function(options){BaseControl.call(this),this.options.dir="h",this.options.wheel="v"===options.dir,this.options.arrows=!1,this.options.speed=17,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.space=10,this.options.width=100,this.options.height=100,this.options.type="thumbs",this.options.hover=!1,$.extend(this.options,options),this.thumbs=[],this.index_count=0,this.__dimen="h"===this.options.dir?"width":"height",this.__alignsize="h"===this.options.dir?"height":"width",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.click_enable=!0};MSThumblist.extend(BaseControl);var p=MSThumblist.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$("<div></div>").addClass(this.options.prefix+"thumb-list"),"tabs"===this.options.type&&this.$element.addClass(this.options.prefix+"tabs"),this.$element.addClass("ms-dir-"+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$thumbscont=$("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element),this.options.arrows){var that=this;this.$fwd=$("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(function(){that.controller.push(-15)}),this.$bwd=$("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(function(){that.controller.push(15)})}if(!this.options.insetTo&&this.options.align){var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.detach().prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.width):this.$element.height(this.options.height)}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,this.options[this.__alignsize]+2*this.options.margin);this.$element.css(align,-pos-this.options[this.__alignsize]-this.options.margin)}},p.slideAction=function(slide){var thumb_ele=slide.$element.find(".ms-thumb"),that=this,thumb_frame=$("<div></div>").addClass("ms-thumb-frame").append(thumb_ele).append($('<div class="ms-thumb-ol"></div>')).bind(this.options.hover?"hover":"click",function(){that.changeSlide(thumb_frame)});if(this.options.align&&thumb_frame.width(this.options.width-("v"===this.options.dir&&"tabs"===this.options.type?12:0)).height(this.options.height).css("margin-"+("v"===this.options.dir?"bottom":"right"),this.options.space),thumb_frame[0].index=this.index_count++,this.$thumbscont.append(thumb_frame),this.options.fillMode&&thumb_ele.is("img")){var aligner=new window.MSAligner(this.options.fillMode,thumb_frame,thumb_ele);thumb_ele[0].aligner=aligner,thumb_ele.one("load",function(){var $this=$(this);$this[0].aligner.init($this.width(),$this.height()),$this[0].aligner.align()}).each($.jqLoadFix)}$.browser.msie&&thumb_ele.on("dragstart",function(event){event.preventDefault()}),this.thumbs.push(thumb_frame)},p.create=function(){_super.create.call(this),this.__translate_end=window._css3d?" translateZ(0px)":"",this.controller=new Controller(0,0,{snappingMinSpeed:2,friction:(100-.5*this.options.speed)/100}),this.controller.renderCallback("h"===this.options.dir?this._hMove:this._vMove,this);var that=this;this.resize_listener=function(){that.__resize()},$(window).bind("resize",this.resize_listener),this.thumbSize=this.thumbs[0][this.__jdimen](!0),this.setupSwipe(),this.__resize();var that=this;this.options.wheel&&(this.wheellistener=function(event){var e=window.event||event.orginalEvent||event,delta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return that.controller.push(10*-delta),!1},$.browser.mozilla?this.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.$element.bind("mousewheel",this.wheellistener)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.slider.api.addEventListener(MSSliderEvent.HARD_UPDATE,this.realignThumbs,this),this.cindex=this.slider.api.index(),this.select(this.thumbs[this.cindex])},p._hMove=function(controller,value){return this.__contPos=value,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateX("+-value+"px)"+this.__translate_end):void(this.$thumbscont[0].style.left=-value+"px")},p._vMove=function(controller,value){return this.__contPos=value,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateY("+-value+"px)"+this.__translate_end):void(this.$thumbscont[0].style.top=-value+"px")},p.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.options.dir?"horizontal":"vertical";var that=this;this.swipeControl.onSwipe="h"===this.options.dir?function(status){that.horizSwipeMove(status)}:function(status){that.vertSwipeMove(status)}},p.vertSwipeMove=function(status){if(!this.dTouch){var phase=status.phase;if("start"===phase)this.controller.stop();else if("move"===phase)this.controller.drag(status.moveY);else if("end"===phase||"cancel"===phase){var speed=Math.abs(status.distanceY/status.duration*50/3);speed>.1?this.controller.push(-status.distanceY/status.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},p.horizSwipeMove=function(status){if(!this.dTouch){var phase=status.phase;if("start"===phase)this.controller.stop(),this.click_enable=!1;else if("move"===phase)this.controller.drag(status.moveX);else if("end"===phase||"cancel"===phase){var speed=Math.abs(status.distanceX/status.duration*50/3);speed>.1?this.controller.push(-status.distanceX/status.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},p.update=function(){var nindex=this.slider.api.index();this.cindex!==nindex&&(null!=this.cindex&&this.unselect(this.thumbs[this.cindex]),this.cindex=nindex,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())},p.realignThumbs=function(){this.$element.find(".ms-thumb").each(function(index,thumb){thumb.aligner&&thumb.aligner.align()})},p.updateThumbscroll=function(){var pos=this.thumbSize*this.cindex;if(0/0==this.controller.value&&(this.controller.value=0),pos-this.controller.value<0)return void this.controller.gotoSnap(this.cindex,!0);if(pos+this.thumbSize-this.controller.value>this.$element[this.__dimen]()){var first_snap=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1;return void this.controller.gotoSnap(first_snap,!0)}},p.changeSlide=function(thumb){this.click_enable&&this.cindex!==thumb[0].index&&this.slider.api.gotoSlide(thumb[0].index)},p.unselect=function(ele){ele.removeClass("ms-thumb-frame-selected")},p.select=function(ele){ele.addClass("ms-thumb-frame-selected")},p.__resize=function(){var size=this.$element[this.__dimen]();if(this.ls!==size){this.ls=size,this.thumbSize=this.thumbs[0][this.__jdimen](!0);var len=this.slider.api.count()*this.thumbSize;this.$thumbscont[0].style[this.__dimen]=len+"px",size>=len?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=.5*(size-len)+"px",this.$thumbscont[0].style[window._jcsspfx+"Transform"]=""):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]="",this.controller._max_value=len-size,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll())}},p.destroy=function(){_super.destroy(),this.options.wheel&&($.browser.mozilla?this.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),$(window).unbind("resize",this.resize_listener),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},window.MSThumblist=MSThumblist,MSSlideController.registerControl("thumblist",MSThumblist)}(jQuery),function($){"use strict";
var MSBulltes=function(options){BaseControl.call(this),this.options.dir="h",this.options.inset=!0,this.options.margin=10,this.options.space=10,$.extend(this.options,options),this.bullets=[]};MSBulltes.extend(BaseControl);var p=MSBulltes.prototype,_super=BaseControl.prototype;p.setup=function(){if(_super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"bullets").addClass("ms-dir-"+this.options.dir).appendTo(this.cont),this.$bullet_cont=$("<div></div>").addClass("ms-bullets-count").appendTo(this.$element),!this.options.insetTo&&this.options.align){var align=this.options.align;this.options.inset&&this.$element.css(align,this.options.margin)}this.checkHideUnder()},p.create=function(){_super.create.call(this);var that=this;this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index();for(var i=0;i<this.slider.api.count();++i){var bullet=$("<div></div>").addClass("ms-bullet");bullet[0].index=i,bullet.on("click",function(){that.changeSlide(this.index)}),this.$bullet_cont.append(bullet),this.bullets.push(bullet),"h"===this.options.dir?bullet.css("margin",this.options.space/2):bullet.css("margin",this.options.space)}"h"===this.options.dir?this.$element.width(bullet.outerWidth(!0)*this.slider.api.count()):this.$element.css("margin-top",-this.$element.outerHeight(!0)/2),this.select(this.bullets[this.cindex])},p.update=function(){var nindex=this.slider.api.index();this.cindex!==nindex&&(null!=this.cindex&&this.unselect(this.bullets[this.cindex]),this.cindex=nindex,this.select(this.bullets[this.cindex]))},p.changeSlide=function(index){this.cindex!==index&&this.slider.api.gotoSlide(index)},p.unselect=function(ele){ele.removeClass("ms-bullet-selected")},p.select=function(ele){ele.addClass("ms-bullet-selected")},p.destroy=function(){_super.destroy(),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.$element.remove()},window.MSBulltes=MSBulltes,MSSlideController.registerControl("bullets",MSBulltes)}(jQuery),function($){"use strict";var MSScrollbar=function(options){BaseControl.call(this),this.options.dir="h",this.options.autohide=!0,this.options.width=4,this.options.color="#3D3D3D",this.options.margin=10,$.extend(this.options,options),this.__dimen="h"===this.options.dir?"width":"height",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.__translate_end=window._css3d?" translateZ(0px)":"",this.__translate_start="h"===this.options.dir?" translateX(":"translateY("};MSScrollbar.extend(BaseControl);var p=MSScrollbar.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$("<div></div>").addClass(this.options.prefix+"sbar").addClass("ms-dir-"+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=$("<div></div>").addClass(this.options.prefix+"bar").appendTo(this.$element),this.slider.options.loop&&(this.disable=!0,this.$element.remove()),"v"===this.options.dir?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css("v"===this.options.dir?{right:"auto",left:"auto"}:{top:"auto",bottom:"auto"});var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,2*this.options.margin+this.options.width);this.$element.css(align,-pos-this.options.margin-this.options.width)}},p.create=function(){if(!this.disable){this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),this.options.autohide&&this.$bar.css("opacity","0")}},p._resize=function(){this.vdimen=this.$element[this.__dimen](),this.bar_dimen=this.slider.api.view["__"+this.__dimen]*this.vdimen/this.scroller._max_value,this.$bar[this.__dimen](this.bar_dimen)},p._update=function(){var value=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value;if(this.lvalue!==value){if(this.lvalue=value,this.options.autohide){clearTimeout(this.hto),this.$bar.css("opacity","1");var that=this;this.hto=setTimeout(function(){that.$bar.css("opacity","0")},150)}return 0>value?void(this.$bar[0].style[this.__dimen]=this.bar_dimen+value+"px"):(value>this.vdimen-this.bar_dimen&&(this.$bar[0].style[this.__dimen]=this.vdimen-value+"px"),window._cssanim?void(this.$bar[0].style[window._jcsspfx+"Transform"]=this.__translate_start+value+"px)"+this.__translate_end):void(this.$bar[0].style[this.__pos]=value+"px"))}},p.destroy=function(){_super.destroy(),this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.$element.remove()},window.MSScrollbar=MSScrollbar,MSSlideController.registerControl("scrollbar",MSScrollbar)}(jQuery),function($){"use strict";var MSTimerbar=function(options){BaseControl.call(this),this.options.autohide=!1,this.options.width=4,this.options.color="#FFFFFF",this.options.inset=!0,this.options.margin=0,$.extend(this.options,options)};MSTimerbar.extend(BaseControl);var p=MSTimerbar.prototype,_super=BaseControl.prototype;p.setup=function(){if(_super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"timerbar"),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=$("<div></div>").addClass("ms-time-bar").appendTo(this.$element),"v"===this.options.dir?(this.$bar.width(this.options.width),this.$element.width(this.options.width)):(this.$bar.height(this.options.width),this.$element.height(this.options.width)),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,2*this.options.margin+this.options.width);this.$element.css(align,-pos-this.options.margin-this.options.width)}},p.create=function(){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this),this._update()},p._update=function(){this.$bar[0].style.width=this.slider.api._delayProgress+"%"},p.destroy=function(){_super.destroy(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove()},window.MSTimerbar=MSTimerbar,MSSlideController.registerControl("timebar",MSTimerbar)}(jQuery),function($){"use strict";var MSCircleTimer=function(options){BaseControl.call(this),this.options.color="#A2A2A2",this.options.stroke=10,this.options.radius=4,this.options.autohide=!1,$.extend(this.options,options)};MSCircleTimer.extend(BaseControl);var p=MSCircleTimer.prototype,_super=BaseControl.prototype;p.setup=function(){return _super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"ctimer").appendTo(this.cont),this.$canvas=$("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element),this.$bar=$("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element),this.$canvas[0].getContext?(this.ctx=this.$canvas[0].getContext("2d"),this.prog=0,this.__w=2*(this.options.radius+this.options.stroke/2),this.$canvas[0].width=this.__w,this.$canvas[0].height=this.__w,void this.checkHideUnder()):(this.destroy(),void(this.disable=!0))},p.create=function(){if(!this.disable){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this);var that=this;this.$element.click(function(){that.slider.api.paused?that.slider.api.resume():that.slider.api.pause()}),this._update()}},p._update=function(){var that=this;$(this).stop(!0).animate({prog:.01*this.slider.api._delayProgress},{duration:200,step:function(){that._draw()}})},p._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w),this.ctx.beginPath(),this.ctx.arc(.5*this.__w,.5*this.__w,this.options.radius,1.5*Math.PI,1.5*Math.PI+2*Math.PI*this.prog,!1),this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.stroke,this.ctx.stroke()},p.destroy=function(){_super.destroy(),this.disable||($(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove())},window.MSCircleTimer=MSCircleTimer,MSSlideController.registerControl("circletimer",MSCircleTimer)}(jQuery),function($){"use strict";window.MSLightbox=function(options){BaseControl.call(this,options),this.options.autohide=!1,$.extend(this.options,options),this.data_list=[]},MSLightbox.fadeDuratation=400,MSLightbox.extend(BaseControl);var p=MSLightbox.prototype,_super=BaseControl.prototype;p.setup=function(){_super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(this.cont),this.checkHideUnder()},p.slideAction=function(slide){$("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(slide.$element).append($(slide.$element.find(".ms-lightbox")))},p.create=function(){_super.create.call(this)},MSSlideController.registerControl("lightbox",MSLightbox)}(jQuery),function($){"use strict";window.MSSlideInfo=function(options){BaseControl.call(this,options),this.options.autohide=!1,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.size=100,this.options.dir="h",$.extend(this.options,options),this.data_list=[]},MSSlideInfo.fadeDuratation=400,MSSlideInfo.extend(BaseControl);var p=MSSlideInfo.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$("<div></div>").addClass(this.options.prefix+"slide-info").addClass("ms-dir-"+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),!this.options.insetTo&&this.options.align){var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.size):this.$element.css("min-height",this.options.size)}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,this.options.size+2*this.options.margin);this.$element.css(align,-pos-this.options.size-this.options.margin)}},p.slideAction=function(slide){var info_ele=$(slide.$element.find(".ms-info"));info_ele.detach(),this.data_list[slide.index]=info_ele},p.create=function(){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.switchEle(this.data_list[this.cindex])},p.update=function(){var nindex=this.slider.api.index();this.switchEle(this.data_list[nindex]),this.cindex=nindex},p.switchEle=function(ele){if(this.current_ele){this.current_ele[0].tween&&this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach(),this[0].tween=null,ele.css("position","relative")},target:this.current_ele}),ele.css("position","absolute")}this.__show(ele)},p.__show=function(ele){ele.appendTo(this.$element).css("opacity","0"),this.current_ele&&ele.height(Math.max(ele.height(),this.current_ele.height())),clearTimeout(this.tou),this.tou=setTimeout(function(){CTween.fadeIn(ele,MSSlideInfo.fadeDuratation),ele.css("height","")},MSSlideInfo.fadeDuratation),ele[0].tween&&ele[0].tween.stop(!0),this.current_ele=ele},p.destroy=function(){_super.destroy(),clearTimeout(this.tou),this.current_ele&&this.current_ele[0].tween&&this.current_ele[0].tween.stop("true"),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},MSSlideController.registerControl("slideinfo",MSSlideInfo)}(jQuery),function($){window.MSGallery=function(id,slider){this.id=id,this.slider=slider,this.telement=$("#"+id),this.botcont=$("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement),this.thumbcont=$("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont),this.playbtn=$("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont),this.thumbtoggle=$("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont),slider.control("thumblist",{insertTo:this.thumbcont,autohide:!1,dir:"h"}),slider.control("slidenum",{insertTo:this.botcont,autohide:!1}),slider.control("slideinfo",{insertTo:this.botcont,autohide:!1}),slider.control("timebar",{insertTo:this.botcont,autohide:!1}),slider.control("bullets",{insertTo:this.botcont,autohide:!1})};var p=MSGallery.prototype;p._init=function(){var that=this;this.slider.api.paused||this.playbtn.addClass("btn-pause"),this.playbtn.click(function(){that.slider.api.paused?(that.slider.api.resume(),that.playbtn.addClass("btn-pause")):(that.slider.api.pause(),that.playbtn.removeClass("btn-pause"))}),this.thumbtoggle.click(function(){that.vthumbs?(that.thumbtoggle.removeClass("btn-hide"),that.vthumbs=!1,that.thumbcont.addClass("hide-thumbs")):(that.thumbtoggle.addClass("btn-hide"),that.thumbcont.removeClass("hide-thumbs"),that.vthumbs=!0)})},p.setup=function(){var that=this;$(document).ready(function(){that._init()})}}(jQuery),function($){var getPhotosetURL=function(key,id,count){return"https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+key+"&photoset_id="+id+"&per_page="+count+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"},getUserPublicURL=function(key,id,count){return"https://api.flickr.com/services/rest/?&method=flickr.people.getPublicPhotos&api_key="+key+"&user_id="+id+"&per_page="+count+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"},getImageSource=function(fid,server,id,secret,size,data){return"_o"===size&&data?data.url_o:"https://farm"+fid+".staticflickr.com/"+server+"/"+id+"_"+secret+size+".jpg"};window.MSFlickrV2=function(slider,options){var _options={count:10,type:"photoset",thumbSize:"q",imgSize:"c"};if(this.slider=slider,this.slider.holdOn(),!options.key)return void this.errMsg("Flickr API Key required. Please add it in settings.");$.extend(_options,options),this.options=_options;var that=this;"photoset"===this.options.type?$.getJSON(getPhotosetURL(this.options.key,this.options.id,this.options.count),function(data){that._photosData(data)}):$.getJSON(getUserPublicURL(this.options.key,this.options.id,this.options.count),function(data){that.options.type="photos",that._photosData(data)}),""!==this.options.imgSize&&"-"!==this.options.imgSize&&(this.options.imgSize="_"+this.options.imgSize),this.options.thumbSize="_"+this.options.thumbSize,this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var p=MSFlickrV2.prototype;p._photosData=function(data){if("fail"===data.stat)return void this.errMsg("Flickr API ERROR#"+data.code+": "+data.message);{var that=this;this.options.author||this.options.desc}$.each(data[this.options.type].photo,function(i,item){var slide_cont=that.slideTemplate.replace(/{{[\w-]+}}/g,function(match){return match=match.replace(/{{|}}/g,""),shortCodes[match]?shortCodes[match](item,that):"{{"+match+"}}"});$(slide_cont).appendTo(that.slider.$element)}),that._initSlider()},p.errMsg=function(msg){this.slider.$element.css("display","block"),this.errEle||(this.errEle=$('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(msg)},p._initSlider=function(){this.slider.release()};var shortCodes={image:function(data,that){return getImageSource(data.farm,data.server,data.id,data.secret,that.options.imgSize,data)},thumb:function(data,that){return getImageSource(data.farm,data.server,data.id,data.secret,that.options.thumbSize)},title:function(data){return data.title},"owner-name":function(data){return data.ownername},"date-taken":function(data){return data.datetaken},views:function(data){return data.views},description:function(data){return data.description._content}}}(jQuery),function($){window.MSFacebookGallery=function(slider,options){var _options={count:10,type:"photostream",thumbSize:"320",imgSize:"orginal",https:!1};this.slider=slider,this.slider.holdOn(),$.extend(_options,options),this.options=_options,this.graph=this.options.https?"https://graph.facebook.com":"http://graph.facebook.com";var that=this;"photostream"===this.options.type?$.getJSON(this.graph+"/"+this.options.username+"/photos/uploaded/?fields=source,name,link,images,from&limit="+this.options.count,function(data){that._photosData(data)}):$.getJSON(this.graph+"/"+this.options.albumId+"/photos?fields=source,name,link,images,from&limit="+this.options.count,function(data){that._photosData(data)}),this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var p=MSFacebookGallery.prototype;p._photosData=function(content){if(content.error)return void this.errMsg("Facebook API ERROR#"+content.error.code+"("+content.error.type+"): "+content.error.message);for(var that=this,i=(this.options.author||this.options.desc,0),l=content.data.length;i!==l;i++){var slide_cont=that.slideTemplate.replace(/{{[\w-]+}}/g,function(match){return match=match.replace(/{{|}}/g,""),shortCodes[match]?shortCodes[match](content.data[i],that):"{{"+match+"}}"});$(slide_cont).appendTo(that.slider.$element)}that._initSlider()},p.errMsg=function(msg){this.slider.$element.css("display","block"),this.errEle||(this.errEle=$('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(msg)},p._initSlider=function(){this.slider.release()};var getImageSource=function(images,size){if("orginal"===size)return images[0].source;for(var i=0,l=images.length;i!==l;i++)if(-1!==images[i].source.indexOf(size+"x"+size))return images[i].source;return images[l-3].source},shortCodes={image:function(data,that){return getImageSource(data.images,that.options.imgSize)},thumb:function(data,that){return getImageSource(data.images,that.options.thumbSize)},name:function(data){return data.name},"owner-name":function(data){return data.from.name},link:function(data){return data.link}}}(jQuery),function($){"use strict";window.MSScrollParallax=function(slider,parallax,bgparallax,fade){this.fade=fade,this.slider=slider,this.parallax=parallax/100,this.bgparallax=bgparallax/100,slider.api.addEventListener(MSSliderEvent.INIT,this.init,this),slider.api.addEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.addEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this)},window.MSScrollParallax.setup=function(slider,parallax,bgparallax,fade){return window._mobile?void 0:(null==parallax&&(parallax=50),null==bgparallax&&(bgparallax=40),new MSScrollParallax(slider,parallax,bgparallax,fade))};var p=window.MSScrollParallax.prototype;p.init=function(){this.slider.$element.addClass("ms-scroll-parallax"),this.sliderOffset=this.slider.$element.offset().top,this.updateCurrentSlide();for(var slide,slides=this.slider.api.view.slideList,i=0,l=slides.length;i!==l;i++)slide=slides[i],slide.hasLayers&&(slide.layerController.$layers.wrap('<div class="ms-scroll-parallax-cont"></div>'),slide.$scrollParallaxCont=slide.layerController.$layers.parent());$(window).on("scroll",{that:this},this.moveParallax).trigger("scroll")},p.resetLayers=function(){if(this.lastSlide){var layers=this.lastSlide.$scrollParallaxCont;window._css2d?(layers&&(layers[0].style[window._jcsspfx+"Transform"]=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style[window._jcsspfx+"Transform"]="")):(layers&&(layers[0].style.top=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style.top="0px"))}},p.updateCurrentSlide=function(){this.lastSlide=this.currentSlide,this.currentSlide=this.slider.api.currentSlide,this.moveParallax({data:{that:this}})},p.moveParallax=function(e){var that=e.data.that,slider=that.slider,offset=that.sliderOffset,scrollTop=$(window).scrollTop(),layers=that.currentSlide.$scrollParallaxCont,out=offset-scrollTop;0>=out?(layers&&(window._css3d?layers[0].style[window._jcsspfx+"Transform"]="translateY("+-out*that.parallax+"px) translateZ(0.4px)":window._css2d?layers[0].style[window._jcsspfx+"Transform"]="translateY("+-out*that.parallax+"px)":layers[0].style.top=-out*that.parallax+"px"),that.updateSlidesBG(-out*that.bgparallax+"px",!0),layers&&that.fade&&layers.css("opacity",1-Math.min(1,-out/slider.api.height))):(layers&&(window._css2d?layers[0].style[window._jcsspfx+"Transform"]="":layers[0].style.top=""),that.updateSlidesBG("0px",!1),layers&&that.fade&&layers.css("opacity",1))},p.updateSlidesBG=function(pos,fixed){for(var slides=this.slider.api.view.slideList,position=!fixed||$.browser.msie||$.browser.opera?"":"fixed",i=0,l=slides.length;i!==l;i++)slides[i].hasBG&&(slides[i].$imgcont[0].style.position=position,slides[i].$imgcont[0].style.top=pos),slides[i].$bgvideocont&&(slides[i].$bgvideocont[0].style.position=position,slides[i].$bgvideocont[0].style.top=pos)},p.destory=function(){slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this),slider.api.removeEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this),$(window).off("scroll",this.moveParallax)}}(jQuery),function($,document,window){var PId=0;if(window.MasterSlider){var KeyboardNav=function(slider){this.slider=slider,this.PId=PId++,this.slider.options.keyboard&&slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};KeyboardNav.name="MSKeyboardNav";var p=KeyboardNav.prototype;p.init=function(){var api=this.slider.api;$(document).on("keydown.kbnav"+this.PId,function(event){var which=event.which;37===which||40===which?api.previous(!0):(38===which||39===which)&&api.next(!0)})},p.destroy=function(){$(document).off("keydown.kbnav"+this.PId),this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(KeyboardNav)}}(jQuery,document,window),function($,document,window){var PId=0,$window=$(window),$doc=$(document);if(window.MasterSlider){var StartOnAppear=function(slider){this.PId=PId++,this.slider=slider,this.$slider=slider.$element,this.slider.options.startOnAppear&&(slider.holdOn(),$doc.ready($.proxy(this.init,this)))};StartOnAppear.name="MSStartOnAppear";var p=StartOnAppear.prototype;p.init=function(){this.slider.api;$window.on("scroll.soa"+this.PId,$.proxy(this._onScroll,this)).trigger("scroll")},p._onScroll=function(){var vpBottom=$window.scrollTop()+$window.height(),top=this.$slider.offset().top;vpBottom>top&&($window.off("scroll.soa"+this.PId),this.slider.release())},p.destroy=function(){},MasterSlider.registerPlugin(StartOnAppear)}}(jQuery,document,window),function(document,window){var filterUnits={"hue-rotate":"deg",blur:"px"},initialValues={opacity:1,contrast:1,brightness:1,saturate:1,"hue-rotate":0,invert:0,sepia:0,blur:0,grayscale:0};if(window.MasterSlider){var Filters=function(slider){this.slider=slider,this.slider.options.filters&&slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};Filters.name="MSFilters";var p=Filters.prototype;p.init=function(){var api=this.slider.api,view=api.view;this.filters=this.slider.options.filters,this.slideList=view.slideList,this.slidesCount=view.slidesCount,this.dimension=view[view.__dimension],this.target="slide"===this.slider.options.filterTarget?"$element":"$bg_img",this.filterName=$.browser.webkit?"WebkitFilter":"filter";var superFun=view.controller.__renderHook.fun,superRef=view.controller.__renderHook.ref;view.controller.renderCallback(function(controller,value){superFun.call(superRef,controller,value),this.applyEffect(value)},this),this.applyEffect(view.controller.value)},p.applyEffect=function(value){for(var factor,slide,i=0;i<this.slidesCount;++i)slide=this.slideList[i],factor=Math.min(1,Math.abs(value-slide.position)/this.dimension),slide[this.target]&&($.browser.msie?null!=this.filters.opacity&&slide[this.target].opacity(1-this.filters.opacity*factor):slide[this.target][0].style[this.filterName]=this.generateStyle(factor))},p.generateStyle=function(factor){var unit,style="";for(var filter in this.filters)unit=filterUnits[filter]||"",style+=filter+"("+(initialValues[filter]+(this.filters[filter]-initialValues[filter])*factor)+") ";return style},p.destroy=function(){this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(Filters)}}(document,window,jQuery),function($,document,window){if(window.MasterSlider){var ScrollToAction=function(slider){this.slider=slider,slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};ScrollToAction.name="MSScrollToAction";var p=ScrollToAction.prototype;p.init=function(){var api=this.slider.api;api.scrollToEnd=_scrollToEnd,api.scrollTo=_scrollTo},p.destroy=function(){};var _scrollTo=function(target,duration){var target=(this.slider.$element,$(target).eq(0));0!==target.length&&(null==duration&&(duration=1.4),$("html, body").animate({scrollTop:target.offset().top},1e3*duration,"easeInOutQuad"))},_scrollToEnd=function(duration){var sliderEle=this.slider.$element;null==duration&&(duration=1.4),$("html, body").animate({scrollTop:sliderEle.offset().top+sliderEle.outerHeight(!1)},1e3*duration,"easeInOutQuad")};MasterSlider.registerPlugin(ScrollToAction)}}(jQuery,document,window);
//# sourceMappingURL=masterslider.min.js.map
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtYXN0ZXJzbGlkZXIubWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBcbiAqIE1hc3RlciBTbGlkZXIg4oCTIFJlc3BvbnNpdmUgVG91Y2ggU3dpcGUgU2xpZGVyXG4gKiBDb3B5cmlnaHQgwqkgMjAxNSBBbGwgUmlnaHRzIFJlc2VydmVkLiBcbiAqXG4gKiBAYXV0aG9yIEF2ZXJ0YSBbd3d3LmF2ZXJ0YS5uZXRdXG4gKiBAdmVyc2lvbiAyLjE0LjZcbiAqIEBkYXRlIE1heSAyMDE1XG4gKi9cbndpbmRvdy5hdmVydGE9e30sZnVuY3Rpb24oJCl7ZnVuY3Rpb24gZ2V0VmVuZG9yUHJlZml4KCl7aWYoXCJyZXN1bHRcImluIGFyZ3VtZW50cy5jYWxsZWUpcmV0dXJuIGFyZ3VtZW50cy5jYWxsZWUucmVzdWx0O3ZhciByZWdleD0vXihNb3p8V2Via2l0fEtodG1sfE98bXN8SWNhYikoPz1bQS1aXSkvLHNvbWVTY3JpcHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIilbMF07Zm9yKHZhciBwcm9wIGluIHNvbWVTY3JpcHQuc3R5bGUpaWYocmVnZXgudGVzdChwcm9wKSlyZXR1cm4gYXJndW1lbnRzLmNhbGxlZS5yZXN1bHQ9cHJvcC5tYXRjaChyZWdleClbMF07cmV0dXJuIGFyZ3VtZW50cy5jYWxsZWUucmVzdWx0PVwiV2Via2l0T3BhY2l0eVwiaW4gc29tZVNjcmlwdC5zdHlsZT9cIldlYmtpdFwiOlwiS2h0bWxPcGFjaXR5XCJpbiBzb21lU2NyaXB0LnN0eWxlP1wiS2h0bWxcIjpcIlwifWZ1bmN0aW9uIGNoZWNrU3R5bGVWYWx1ZShwcm9wKXt2YXIgYj1kb2N1bWVudC5ib2R5fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQscz1iLnN0eWxlLHA9cHJvcDtpZihcInN0cmluZ1wiPT10eXBlb2Ygc1twXSlyZXR1cm4hMDt2PVtcIk1velwiLFwiV2Via2l0XCIsXCJLaHRtbFwiLFwiT1wiLFwibXNcIl0scD1wLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Auc3Vic3RyKDEpO2Zvcih2YXIgaT0wO2k8di5sZW5ndGg7aSsrKWlmKFwic3RyaW5nXCI9PXR5cGVvZiBzW3ZbaV0rcF0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gc3VwcG9ydHNUcmFuc2l0aW9ucygpe3JldHVybiBjaGVja1N0eWxlVmFsdWUoXCJ0cmFuc2l0aW9uXCIpfWZ1bmN0aW9uIHN1cHBvcnRzVHJhbnNmb3Jtcygpe3JldHVybiBjaGVja1N0eWxlVmFsdWUoXCJ0cmFuc2Zvcm1cIil9ZnVuY3Rpb24gc3VwcG9ydHMzRFRyYW5zZm9ybXMoKXtpZighc3VwcG9ydHNUcmFuc2Zvcm1zKCkpcmV0dXJuITE7dmFyIGhhczNkLGVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpLHRyYW5zZm9ybXM9e1dlYmtpdFRyYW5zZm9ybTpcIi13ZWJraXQtdHJhbnNmb3JtXCIsT1RyYW5zZm9ybTpcIi1vLXRyYW5zZm9ybVwiLE1TVHJhbnNmb3JtOlwiLW1zLXRyYW5zZm9ybVwiLG1zVHJhbnNmb3JtOlwiLW1zLXRyYW5zZm9ybVwiLE1velRyYW5zZm9ybTpcIi1tb3otdHJhbnNmb3JtXCIsVHJhbnNmb3JtOlwidHJhbnNmb3JtXCIsdHJhbnNmb3JtOlwidHJhbnNmb3JtXCJ9O2VsLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGVsLG51bGwpO2Zvcih2YXIgdCBpbiB0cmFuc2Zvcm1zKXZvaWQgMCE9PWVsLnN0eWxlW3RdJiYoZWwuc3R5bGVbdF09XCJ0cmFuc2xhdGUzZCgxcHgsMXB4LDFweClcIixoYXMzZD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSh0cmFuc2Zvcm1zW3RdKSk7cmV0dXJuIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWwpLG51bGwhPWhhczNkJiZoYXMzZC5sZW5ndGg+MCYmXCJub25lXCIhPT1oYXMzZH13aW5kb3dbXCJwYWNrYWdlXCJdPWZ1bmN0aW9uKG5hbWUpe3dpbmRvd1tuYW1lXXx8KHdpbmRvd1tuYW1lXT17fSl9O3ZhciBleHRlbmQ9ZnVuY3Rpb24odGFyZ2V0LG9iamVjdCl7Zm9yKHZhciBrZXkgaW4gb2JqZWN0KXRhcmdldFtrZXldPW9iamVjdFtrZXldfTtGdW5jdGlvbi5wcm90b3R5cGUuZXh0ZW5kPWZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHN1cGVyY2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yPyhleHRlbmQodGhpcy5wcm90b3R5cGUsc3VwZXJjbGFzcy5wcm90b3R5cGUpLHRoaXMucHJvdG90eXBlLmNvbnN0cnVjdG9yPXRoaXMpOih0aGlzLnByb3RvdHlwZS5leHRlbmQoc3VwZXJjbGFzcyksdGhpcy5wcm90b3R5cGUuY29uc3RydWN0b3I9dGhpcyl9O3ZhciB0cmFucz17TW96OlwiLW1vei1cIixXZWJraXQ6XCItd2Via2l0LVwiLEtodG1sOlwiLWtodG1sLVwiLE86XCItby1cIixtczpcIi1tcy1cIixJY2FiOlwiLWljYWItXCJ9O3dpbmRvdy5fbW9iaWxlPS9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSx3aW5kb3cuX3RvdWNoPVwib250b3VjaHN0YXJ0XCJpbiBkb2N1bWVudCwkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe3dpbmRvdy5famNzc3BmeD1nZXRWZW5kb3JQcmVmaXgoKSx3aW5kb3cuX2Nzc3BmeD10cmFuc1t3aW5kb3cuX2pjc3NwZnhdLHdpbmRvdy5fY3NzYW5pbT1zdXBwb3J0c1RyYW5zaXRpb25zKCksd2luZG93Ll9jc3MzZD1zdXBwb3J0czNEVHJhbnNmb3JtcygpLHdpbmRvdy5fY3NzMmQ9c3VwcG9ydHNUcmFuc2Zvcm1zKCl9KSx3aW5kb3cucGFyc2VRdWVyeVN0cmluZz1mdW5jdGlvbih1cmwpe3ZhciBxdWVyeVN0cmluZz17fTtyZXR1cm4gdXJsLnJlcGxhY2UobmV3IFJlZ0V4cChcIihbXj89Jl0rKSg9KFteJl0qKSk/XCIsXCJnXCIpLGZ1bmN0aW9uKCQwLCQxLCQyLCQzKXtxdWVyeVN0cmluZ1skMV09JDN9KSxxdWVyeVN0cmluZ307dmFyIGZwczYwPTUwLzM7aWYod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oY2FsbGJhY2spe3dpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLGZwczYwKX19KCkpLHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlfHwod2luZG93LmdldENvbXB1dGVkU3R5bGU9ZnVuY3Rpb24oZWwpe3JldHVybiB0aGlzLmVsPWVsLHRoaXMuZ2V0UHJvcGVydHlWYWx1ZT1mdW5jdGlvbihwcm9wKXt2YXIgcmU9LyhcXC0oW2Etel0pezF9KS9nO3JldHVyblwiZmxvYXRcIj09cHJvcCYmKHByb3A9XCJzdHlsZUZsb2F0XCIpLHJlLnRlc3QocHJvcCkmJihwcm9wPXByb3AucmVwbGFjZShyZSxmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMl0udG9VcHBlckNhc2UoKX0pKSxlbC5jdXJyZW50U3R5bGVbcHJvcF0/ZWwuY3VycmVudFN0eWxlW3Byb3BdOm51bGx9LGVsLmN1cnJlbnRTdHlsZX0pLEFycmF5LnByb3RvdHlwZS5pbmRleE9mfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZWx0KXt2YXIgbGVuPXRoaXMubGVuZ3RoPj4+MCxmcm9tPU51bWJlcihhcmd1bWVudHNbMV0pfHwwO2Zvcihmcm9tPTA+ZnJvbT9NYXRoLmNlaWwoZnJvbSk6TWF0aC5mbG9vcihmcm9tKSwwPmZyb20mJihmcm9tKz1sZW4pO2xlbj5mcm9tO2Zyb20rKylpZihmcm9tIGluIHRoaXMmJnRoaXNbZnJvbV09PT1lbHQpcmV0dXJuIGZyb207cmV0dXJuLTF9KSx3aW5kb3cuaXNNU0lFPWZ1bmN0aW9uKHZlcnNpb24pe2lmKCEkLmJyb3dzZXIubXNpZSlyZXR1cm4hMTtpZighdmVyc2lvbilyZXR1cm4hMDt2YXIgaWVWZXI9JC5icm93c2VyLnZlcnNpb24uc2xpY2UoMCwkLmJyb3dzZXIudmVyc2lvbi5pbmRleE9mKFwiLlwiKSk7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHZlcnNpb24/ZXZhbCgtMSE9PXZlcnNpb24uaW5kZXhPZihcIjxcIil8fC0xIT09dmVyc2lvbi5pbmRleE9mKFwiPlwiKT9pZVZlcit2ZXJzaW9uOnZlcnNpb24rXCI9PVwiK2llVmVyKTp2ZXJzaW9uPT1pZVZlcn0sJC5yZW1vdmVEYXRhQXR0cnM9ZnVuY3Rpb24oJHRhcmdldCxleGNsdWRlKXt2YXIgaSxhdHRyTmFtZSxkYXRhQXR0cnNUb0RlbGV0ZT1bXSxkYXRhQXR0cnM9JHRhcmdldFswXS5hdHRyaWJ1dGVzLGRhdGFBdHRyc0xlbj1kYXRhQXR0cnMubGVuZ3RoO2ZvcihleGNsdWRlPWV4Y2x1ZGV8fFtdLGk9MDtkYXRhQXR0cnNMZW4+aTtpKyspYXR0ck5hbWU9ZGF0YUF0dHJzW2ldLm5hbWUsXCJkYXRhLVwiPT09YXR0ck5hbWUuc3Vic3RyaW5nKDAsNSkmJi0xPT09ZXhjbHVkZS5pbmRleE9mKGF0dHJOYW1lKSYmZGF0YUF0dHJzVG9EZWxldGUucHVzaChkYXRhQXR0cnNbaV0ubmFtZSk7JC5lYWNoKGRhdGFBdHRyc1RvRGVsZXRlLGZ1bmN0aW9uKGluZGV4LGF0dHJOYW1lKXskdGFyZ2V0LnJlbW92ZUF0dHIoYXR0ck5hbWUpfSl9LGpRdWVyeSl7JC5qcUxvYWRGaXg9ZnVuY3Rpb24oKXtpZih0aGlzLmNvbXBsZXRlKXt2YXIgdGhhdD10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXskKHRoYXQpLmxvYWQoKX0sMSl9fSxqUXVlcnkudWFNYXRjaD1qUXVlcnkudWFNYXRjaHx8ZnVuY3Rpb24odWEpe3VhPXVhLnRvTG93ZXJDYXNlKCk7dmFyIG1hdGNoPS8oY2hyb21lKVsgXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSl8fC8od2Via2l0KVsgXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSl8fC8ob3BlcmEpKD86Lip2ZXJzaW9ufClbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpfHwvKG1zaWUpIChbXFx3Ll0rKS8uZXhlYyh1YSl8fHVhLmluZGV4T2YoXCJjb21wYXRpYmxlXCIpPDAmJi8obW96aWxsYSkoPzouKj8gcnY6KFtcXHcuXSspfCkvLmV4ZWModWEpfHxbXTtyZXR1cm57YnJvd3NlcjptYXRjaFsxXXx8XCJcIix2ZXJzaW9uOm1hdGNoWzJdfHxcIjBcIn19LG1hdGNoZWQ9alF1ZXJ5LnVhTWF0Y2gobmF2aWdhdG9yLnVzZXJBZ2VudCksYnJvd3Nlcj17fSxtYXRjaGVkLmJyb3dzZXImJihicm93c2VyW21hdGNoZWQuYnJvd3Nlcl09ITAsYnJvd3Nlci52ZXJzaW9uPW1hdGNoZWQudmVyc2lvbiksYnJvd3Nlci5jaHJvbWU/YnJvd3Nlci53ZWJraXQ9ITA6YnJvd3Nlci53ZWJraXQmJihicm93c2VyLnNhZmFyaT0hMCk7dmFyIGlzSUUxMT0hIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1RyaWRlbnRcXC83XFwuLyk7aXNJRTExJiYoYnJvd3Nlci5tc2llPVwidHJ1ZVwiLGRlbGV0ZSBicm93c2VyLm1vemlsbGEpLGpRdWVyeS5icm93c2VyPWJyb3dzZXIsJC5mbi5wcmVsb2FkSW1nPWZ1bmN0aW9uKHNyYyxfZXZlbnQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxzZWxmPXRoaXMsaW1nPW5ldyBJbWFnZTtpbWcub25sb2FkPWZ1bmN0aW9uKGV2ZW50KXtudWxsPT1ldmVudCYmKGV2ZW50PXt9KSwkdGhpcy5hdHRyKFwic3JjXCIsc3JjKSxldmVudC53aWR0aD1pbWcud2lkdGgsZXZlbnQuaGVpZ2h0PWltZy5oZWlnaHQsJHRoaXMuZGF0YShcIndpZHRoXCIsaW1nLndpZHRoKSwkdGhpcy5kYXRhKFwiaGVpZ2h0XCIsaW1nLmhlaWdodCksc2V0VGltZW91dChmdW5jdGlvbigpe19ldmVudC5jYWxsKHNlbGYsZXZlbnQpfSw1MCksaW1nPW51bGx9LGltZy5zcmM9c3JjfSksdGhpc319fShqUXVlcnkpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7YXZlcnRhLkV2ZW50RGlzcGF0Y2hlcj1mdW5jdGlvbigpe3RoaXMubGlzdGVuZXJzPXt9fSxhdmVydGEuRXZlbnREaXNwYXRjaGVyLmV4dGVuZD1mdW5jdGlvbihfcHJvdG8pe3ZhciBpbnN0YW5jZT1uZXcgYXZlcnRhLkV2ZW50RGlzcGF0Y2hlcjtmb3IodmFyIGtleSBpbiBpbnN0YW5jZSlcImNvbnN0cnVjdG9yXCIhPWtleSYmKF9wcm90b1trZXldPWF2ZXJ0YS5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlW2tleV0pfSxhdmVydGEuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YXZlcnRhLkV2ZW50RGlzcGF0Y2hlcixhZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGV2ZW50LGxpc3RlbmVyLHJlZil7dGhpcy5saXN0ZW5lcnNbZXZlbnRdfHwodGhpcy5saXN0ZW5lcnNbZXZlbnRdPVtdKSx0aGlzLmxpc3RlbmVyc1tldmVudF0ucHVzaCh7bGlzdGVuZXI6bGlzdGVuZXIscmVmOnJlZn0pfSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGV2ZW50LGxpc3RlbmVyLHJlZil7aWYodGhpcy5saXN0ZW5lcnNbZXZlbnRdKXtmb3IodmFyIGk9MDtpPHRoaXMubGlzdGVuZXJzW2V2ZW50XS5sZW5ndGg7KytpKWxpc3RlbmVyPT09dGhpcy5saXN0ZW5lcnNbZXZlbnRdW2ldLmxpc3RlbmVyJiZyZWY9PT10aGlzLmxpc3RlbmVyc1tldmVudF1baV0ucmVmJiZ0aGlzLmxpc3RlbmVyc1tldmVudF0uc3BsaWNlKGktLSwxKTswPT09dGhpcy5saXN0ZW5lcnNbZXZlbnRdLmxlbmd0aCYmKHRoaXMubGlzdGVuZXJzW2V2ZW50XT1udWxsKX19LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oZXZlbnQpe2lmKGV2ZW50LnRhcmdldD10aGlzLHRoaXMubGlzdGVuZXJzW2V2ZW50LnR5cGVdKWZvcih2YXIgaT0wLGw9dGhpcy5saXN0ZW5lcnNbZXZlbnQudHlwZV0ubGVuZ3RoO2w+aTsrK2kpdGhpcy5saXN0ZW5lcnNbZXZlbnQudHlwZV1baV0ubGlzdGVuZXIuY2FsbCh0aGlzLmxpc3RlbmVyc1tldmVudC50eXBlXVtpXS5yZWYsZXZlbnQpfX19KCksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGlzVG91Y2g9XCJvbnRvdWNoc3RhcnRcImluIGRvY3VtZW50LGlzUG9pbnRlcj13aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkLGlzTVNQb2luZXI9IWlzUG9pbnRlciYmd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkLHVzZVBvaW50ZXI9aXNQb2ludGVyfHxpc01TUG9pbmVyLGV2X3N0YXJ0PShpc1BvaW50ZXI/XCJwb2ludGVyZG93biBcIjpcIlwiKSsoaXNNU1BvaW5lcj9cIk1TUG9pbnRlckRvd24gXCI6XCJcIikrKGlzVG91Y2g/XCJ0b3VjaHN0YXJ0IFwiOlwiXCIpK1wibW91c2Vkb3duXCIsZXZfbW92ZT0oaXNQb2ludGVyP1wicG9pbnRlcm1vdmUgXCI6XCJcIikrKGlzTVNQb2luZXI/XCJNU1BvaW50ZXJNb3ZlIFwiOlwiXCIpKyhpc1RvdWNoP1widG91Y2htb3ZlIFwiOlwiXCIpK1wibW91c2Vtb3ZlXCIsZXZfZW5kPShpc1BvaW50ZXI/XCJwb2ludGVydXAgXCI6XCJcIikrKGlzTVNQb2luZXI/XCJNU1BvaW50ZXJVcCBcIjpcIlwiKSsoaXNUb3VjaD9cInRvdWNoZW5kIFwiOlwiXCIpK1wibW91c2V1cFwiLGV2X2NhbmNlbD0oaXNQb2ludGVyP1wicG9pbnRlcmNhbmNlbCBcIjpcIlwiKSsoaXNNU1BvaW5lcj9cIk1TUG9pbnRlckNhbmNlbCBcIjpcIlwiKStcInRvdWNoY2FuY2VsXCI7YXZlcnRhLlRvdWNoU3dpcGU9ZnVuY3Rpb24oJGVsZW1lbnQpe3RoaXMuJGVsZW1lbnQ9JGVsZW1lbnQsdGhpcy5lbmFibGVkPSEwLCRlbGVtZW50LmJpbmQoZXZfc3RhcnQse3RhcmdldDp0aGlzfSx0aGlzLl9fdG91Y2hTdGFydCksJGVsZW1lbnRbMF0uc3dpcGU9dGhpcyx0aGlzLm9uU3dpcGU9bnVsbCx0aGlzLnN3aXBlVHlwZT1cImhvcml6b250YWxcIix0aGlzLm5vU3dpcGVTZWxlY3Rvcj1cImlucHV0LCB0ZXh0YXJlYSwgYnV0dG9uLCAubm8tc3dpcGUsIC5tcy1uby1zd2lwZVwiLHRoaXMubGFzdFN0YXR1cz17fX07dmFyIHA9YXZlcnRhLlRvdWNoU3dpcGUucHJvdG90eXBlO3AuZ2V0RGlyZWN0aW9uPWZ1bmN0aW9uKG5ld194LG5ld195KXtzd2l0Y2godGhpcy5zd2lwZVR5cGUpe2Nhc2VcImhvcml6b250YWxcIjpyZXR1cm4gbmV3X3g8PXRoaXMuc3RhcnRfeD9cImxlZnRcIjpcInJpZ2h0XCI7Y2FzZVwidmVydGljYWxcIjpyZXR1cm4gbmV3X3k8PXRoaXMuc3RhcnRfeT9cInVwXCI6XCJkb3duXCI7Y2FzZVwiYWxsXCI6cmV0dXJuIE1hdGguYWJzKG5ld194LXRoaXMuc3RhcnRfeCk+TWF0aC5hYnMobmV3X3ktdGhpcy5zdGFydF95KT9uZXdfeDw9dGhpcy5zdGFydF94P1wibGVmdFwiOlwicmlnaHRcIjpuZXdfeTw9dGhpcy5zdGFydF95P1widXBcIjpcImRvd25cIn19LHAucHJpdmVudERlZnVsdEV2ZW50PWZ1bmN0aW9uKG5ld194LG5ld195KXt2YXIgZHg9TWF0aC5hYnMobmV3X3gtdGhpcy5zdGFydF94KSxkeT1NYXRoLmFicyhuZXdfeS10aGlzLnN0YXJ0X3kpLGhvcml6PWR4PmR5O3JldHVyblwiaG9yaXpvbnRhbFwiPT09dGhpcy5zd2lwZVR5cGUmJmhvcml6fHxcInZlcnRpY2FsXCI9PT10aGlzLnN3aXBlVHlwZSYmIWhvcml6fSxwLmNyZWF0ZVN0YXR1c09iamVjdD1mdW5jdGlvbihldnQpe3ZhciB0ZW1wX3gsdGVtcF95LHN0YXR1c19kYXRhPXt9O3JldHVybiB0ZW1wX3g9dGhpcy5sYXN0U3RhdHVzLmRpc3RhbmNlWHx8MCx0ZW1wX3k9dGhpcy5sYXN0U3RhdHVzLmRpc3RhbmNlWXx8MCxzdGF0dXNfZGF0YS5kaXN0YW5jZVg9ZXZ0LnBhZ2VYLXRoaXMuc3RhcnRfeCxzdGF0dXNfZGF0YS5kaXN0YW5jZVk9ZXZ0LnBhZ2VZLXRoaXMuc3RhcnRfeSxzdGF0dXNfZGF0YS5tb3ZlWD1zdGF0dXNfZGF0YS5kaXN0YW5jZVgtdGVtcF94LHN0YXR1c19kYXRhLm1vdmVZPXN0YXR1c19kYXRhLmRpc3RhbmNlWS10ZW1wX3ksc3RhdHVzX2RhdGEuZGlzdGFuY2U9cGFyc2VJbnQoTWF0aC5zcXJ0KE1hdGgucG93KHN0YXR1c19kYXRhLmRpc3RhbmNlWCwyKStNYXRoLnBvdyhzdGF0dXNfZGF0YS5kaXN0YW5jZVksMikpKSxzdGF0dXNfZGF0YS5kdXJhdGlvbj0obmV3IERhdGUpLmdldFRpbWUoKS10aGlzLnN0YXJ0X3RpbWUsc3RhdHVzX2RhdGEuZGlyZWN0aW9uPXRoaXMuZ2V0RGlyZWN0aW9uKGV2dC5wYWdlWCxldnQucGFnZVkpLHN0YXR1c19kYXRhfSxwLl9fcmVzZXQ9ZnVuY3Rpb24oZXZlbnQsanFldnQpe3RoaXMucmVzZXQ9ITEsdGhpcy5sYXN0U3RhdHVzPXt9LHRoaXMuc3RhcnRfdGltZT0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLnN0YXJ0X3g9aXNUb3VjaD9ldmVudC50b3VjaGVzWzBdLnBhZ2VYOnVzZVBvaW50ZXI/ZXZlbnQucGFnZVg6anFldnQucGFnZVgsdGhpcy5zdGFydF95PWlzVG91Y2g/ZXZlbnQudG91Y2hlc1swXS5wYWdlWTp1c2VQb2ludGVyP2V2ZW50LnBhZ2VZOmpxZXZ0LnBhZ2VZfSxwLl9fdG91Y2hTdGFydD1mdW5jdGlvbihldmVudCl7dmFyIHN3aXBlPWV2ZW50LmRhdGEudGFyZ2V0LGpxZXZ0PWV2ZW50O2lmKHN3aXBlLmVuYWJsZWQmJiEoJChldmVudC50YXJnZXQpLmNsb3Nlc3Qoc3dpcGUubm9Td2lwZVNlbGVjdG9yLHN3aXBlLiRlbGVtZW50KS5sZW5ndGg+MCkpe2lmKGV2ZW50PWV2ZW50Lm9yaWdpbmFsRXZlbnQsdXNlUG9pbnRlciYmJCh0aGlzKS5jc3MoXCItbXMtdG91Y2gtYWN0aW9uXCIsXCJob3Jpem9udGFsXCI9PT1zd2lwZS5zd2lwZVR5cGU/XCJwYW4teVwiOlwicGFuLXhcIiksIXN3aXBlLm9uU3dpcGUpcmV0dXJuIHZvaWQgJC5lcnJvcihcIlN3aXBlIGxpc3RlbmVyIGlzIHVuZGVmaW5lZFwiKTtpZighc3dpcGUudG91Y2hTdGFydGVkKXtzd2lwZS5zdGFydF94PWlzVG91Y2g/ZXZlbnQudG91Y2hlc1swXS5wYWdlWDp1c2VQb2ludGVyP2V2ZW50LnBhZ2VYOmpxZXZ0LnBhZ2VYLHN3aXBlLnN0YXJ0X3k9aXNUb3VjaD9ldmVudC50b3VjaGVzWzBdLnBhZ2VZOnVzZVBvaW50ZXI/ZXZlbnQucGFnZVk6anFldnQucGFnZVksc3dpcGUuc3RhcnRfdGltZT0obmV3IERhdGUpLmdldFRpbWUoKSwkKGRvY3VtZW50KS5iaW5kKGV2X2VuZCx7dGFyZ2V0OnN3aXBlfSxzd2lwZS5fX3RvdWNoRW5kKS5iaW5kKGV2X21vdmUse3RhcmdldDpzd2lwZX0sc3dpcGUuX190b3VjaE1vdmUpLmJpbmQoZXZfY2FuY2VsLHt0YXJnZXQ6c3dpcGV9LHN3aXBlLl9fdG91Y2hDYW5jZWwpO3ZhciBldnQ9aXNUb3VjaD9ldmVudC50b3VjaGVzWzBdOnVzZVBvaW50ZXI/ZXZlbnQ6anFldnQsc3RhdHVzPXN3aXBlLmNyZWF0ZVN0YXR1c09iamVjdChldnQpO3N0YXR1cy5waGFzZT1cInN0YXJ0XCIsc3dpcGUub25Td2lwZS5jYWxsKG51bGwsc3RhdHVzKSxpc1RvdWNofHxqcWV2dC5wcmV2ZW50RGVmYXVsdCgpLHN3aXBlLmxhc3RTdGF0dXM9c3RhdHVzLHN3aXBlLnRvdWNoU3RhcnRlZD0hMH19fSxwLl9fdG91Y2hNb3ZlPWZ1bmN0aW9uKGV2ZW50KXt2YXIgc3dpcGU9ZXZlbnQuZGF0YS50YXJnZXQsanFldnQ9ZXZlbnQ7aWYoZXZlbnQ9ZXZlbnQub3JpZ2luYWxFdmVudCxzd2lwZS50b3VjaFN0YXJ0ZWQpe2NsZWFyVGltZW91dChzd2lwZS50aW1vKSxzd2lwZS50aW1vPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtzd2lwZS5fX3Jlc2V0KGV2ZW50LGpxZXZ0KX0sNjApO3ZhciBldnQ9aXNUb3VjaD9ldmVudC50b3VjaGVzWzBdOnVzZVBvaW50ZXI/ZXZlbnQ6anFldnQsc3RhdHVzPXN3aXBlLmNyZWF0ZVN0YXR1c09iamVjdChldnQpO3N3aXBlLnByaXZlbnREZWZ1bHRFdmVudChldnQucGFnZVgsZXZ0LnBhZ2VZKSYmanFldnQucHJldmVudERlZmF1bHQoKSxzdGF0dXMucGhhc2U9XCJtb3ZlXCIsc3dpcGUubGFzdFN0YXR1cz1zdGF0dXMsc3dpcGUub25Td2lwZS5jYWxsKG51bGwsc3RhdHVzKX19LHAuX190b3VjaEVuZD1mdW5jdGlvbihldmVudCl7dmFyIHN3aXBlPWV2ZW50LmRhdGEudGFyZ2V0LGpxZXZ0PWV2ZW50O2V2ZW50PWV2ZW50Lm9yaWdpbmFsRXZlbnQsY2xlYXJUaW1lb3V0KHN3aXBlLnRpbW8pO3ZhciBzdGF0dXM9KGlzVG91Y2g/ZXZlbnQudG91Y2hlc1swXTp1c2VQb2ludGVyP2V2ZW50OmpxZXZ0LHN3aXBlLmxhc3RTdGF0dXMpO2lzVG91Y2h8fGpxZXZ0LnByZXZlbnREZWZhdWx0KCksc3RhdHVzLnBoYXNlPVwiZW5kXCIsc3dpcGUudG91Y2hTdGFydGVkPSExLHN3aXBlLnByaXZlbnRFdnQ9bnVsbCwkKGRvY3VtZW50KS51bmJpbmQoZXZfZW5kLHN3aXBlLl9fdG91Y2hFbmQpLnVuYmluZChldl9tb3ZlLHN3aXBlLl9fdG91Y2hNb3ZlKS51bmJpbmQoZXZfY2FuY2VsLHN3aXBlLl9fdG91Y2hDYW5jZWwpLHN0YXR1cy5zcGVlZD1zdGF0dXMuZGlzdGFuY2Uvc3RhdHVzLmR1cmF0aW9uLHN3aXBlLm9uU3dpcGUuY2FsbChudWxsLHN0YXR1cyl9LHAuX190b3VjaENhbmNlbD1mdW5jdGlvbihldmVudCl7dmFyIHN3aXBlPWV2ZW50LmRhdGEudGFyZ2V0O3N3aXBlLl9fdG91Y2hFbmQoZXZlbnQpfSxwLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZHx8KHRoaXMuZW5hYmxlZD0hMCl9LHAuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZCYmKHRoaXMuZW5hYmxlZD0hMSl9fShqUXVlcnkpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7YXZlcnRhLlRpY2tlcj1mdW5jdGlvbigpe307dmFyIHN0PWF2ZXJ0YS5UaWNrZXIsbGlzdD1bXSxsZW49MCxfX3N0b3BwZWQ9ITA7c3QuYWRkPWZ1bmN0aW9uKGxpc3RlbmVyLHJlZil7cmV0dXJuIGxpc3QucHVzaChbbGlzdGVuZXIscmVmXSksMT09PWxpc3QubGVuZ3RoJiZzdC5zdGFydCgpLGxlbj1saXN0Lmxlbmd0aH0sc3QucmVtb3ZlPWZ1bmN0aW9uKGxpc3RlbmVyLHJlZil7Zm9yKHZhciBpPTAsbD1saXN0Lmxlbmd0aDtsPmk7KytpKWxpc3RbaV0mJmxpc3RbaV1bMF09PT1saXN0ZW5lciYmbGlzdFtpXVsxXT09PXJlZiYmbGlzdC5zcGxpY2UoaSwxKTtsZW49bGlzdC5sZW5ndGgsMD09PWxlbiYmc3Quc3RvcCgpfSxzdC5zdGFydD1mdW5jdGlvbigpe19fc3RvcHBlZCYmKF9fc3RvcHBlZD0hMSxfX3RpY2soKSl9LHN0LnN0b3A9ZnVuY3Rpb24oKXtfX3N0b3BwZWQ9ITB9O3ZhciBfX3RpY2s9ZnVuY3Rpb24oKXtpZighc3QuX19zdG9wcGVkKXtmb3IodmFyIGl0ZW0saT0wO2khPT1sZW47aSsrKWl0ZW09bGlzdFtpXSxpdGVtWzBdLmNhbGwoaXRlbVsxXSk7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKF9fdGljayl9fX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO0RhdGUubm93fHwoRGF0ZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0pLGF2ZXJ0YS5UaW1lcj1mdW5jdGlvbihkZWxheSxhdXRvU3RhcnQpe3RoaXMuZGVsYXk9ZGVsYXksdGhpcy5jdXJyZW50Q291bnQ9MCx0aGlzLnBhdXNlZD0hMSx0aGlzLm9uVGltZXI9bnVsbCx0aGlzLnJlZnJlbmNlPW51bGwsYXV0b1N0YXJ0JiZ0aGlzLnN0YXJ0KCl9LGF2ZXJ0YS5UaW1lci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmF2ZXJ0YS5UaW1lcixzdGFydDpmdW5jdGlvbigpe3RoaXMucGF1c2VkPSExLHRoaXMubGFzdFRpbWU9RGF0ZS5ub3coKSxhdmVydGEuVGlja2VyLmFkZCh0aGlzLnVwZGF0ZSx0aGlzKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMucGF1c2VkPSEwLGF2ZXJ0YS5UaWNrZXIucmVtb3ZlKHRoaXMudXBkYXRlLHRoaXMpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuY3VycmVudENvdW50PTAsdGhpcy5wYXVzZWQ9ITAsdGhpcy5sYXN0VGltZT1EYXRlLm5vdygpfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZHx8RGF0ZS5ub3coKS10aGlzLmxhc3RUaW1lPHRoaXMuZGVsYXl8fCh0aGlzLmN1cnJlbnRDb3VudCsrLHRoaXMubGFzdFRpbWU9RGF0ZS5ub3coKSx0aGlzLm9uVGltZXImJnRoaXMub25UaW1lci5jYWxsKHRoaXMucmVmcmVuY2UsdGhpcy5nZXRUaW1lKCkpKX0sZ2V0VGltZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbGF5KnRoaXMuY3VycmVudENvdW50fX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt3aW5kb3cuQ1NTVHdlZW49ZnVuY3Rpb24oZWxlbWVudCxkdXJhdGlvbixkZWxheSxlYXNlKXt0aGlzLiRlbGVtZW50PWVsZW1lbnQsdGhpcy5kdXJhdGlvbj1kdXJhdGlvbnx8MWUzLHRoaXMuZGVsYXk9ZGVsYXl8fDAsdGhpcy5lYXNlPWVhc2V8fFwibGluZWFyXCJ9O3ZhciBwPUNTU1R3ZWVuLnByb3RvdHlwZTtwLnRvPWZ1bmN0aW9uKGNhbGxiYWNrLHRhcmdldCl7cmV0dXJuIHRoaXMudG9fY2I9Y2FsbGJhY2ssdGhpcy50b19jYl90YXJnZXQ9dGFyZ2V0LHRoaXN9LHAuZnJvbT1mdW5jdGlvbihjYWxsYmFjayx0YXJnZXQpe3JldHVybiB0aGlzLmZyX2NiPWNhbGxiYWNrLHRoaXMuZnJfY2JfdGFyZ2V0PXRhcmdldCx0aGlzfSxwLm9uQ29tcGxldGU9ZnVuY3Rpb24oY2FsbGJhY2ssdGFyZ2V0KXtyZXR1cm4gdGhpcy5vY19mYj1jYWxsYmFjayx0aGlzLm9jX2ZiX3RhcmdldD10YXJnZXQsdGhpc30scC5jaGFpbj1mdW5jdGlvbihjc3N0d2Vlbil7cmV0dXJuIHRoaXMuY2hhaW5lZF90d2Vlbj1jc3N0d2Vlbix0aGlzfSxwLnJlc2V0PWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuc3RhcnRfdG8pLGNsZWFyVGltZW91dCh0aGlzLmVuZF90byl9LHAuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgZWxlbWVudD10aGlzLiRlbGVtZW50WzBdO2NsZWFyVGltZW91dCh0aGlzLnN0YXJ0X3RvKSxjbGVhclRpbWVvdXQodGhpcy5lbmRfdG8pLHRoaXMuZnJlc2g9ITAsdGhpcy5mcl9jYiYmKGVsZW1lbnQuc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNpdGlvbkR1cmF0aW9uXCJdPVwiMG1zXCIsdGhpcy5mcl9jYi5jYWxsKHRoaXMuZnJfY2JfdGFyZ2V0KSk7dmFyIHRoYXQ9dGhpcztyZXR1cm4gdGhpcy5vblRyYW5zQ29tcGxldGU9ZnVuY3Rpb24oKXt0aGF0LmZyZXNoJiYodGhhdC5yZXNldCgpLGVsZW1lbnQuc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNpdGlvbkR1cmF0aW9uXCJdPVwiXCIsZWxlbWVudC5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2l0aW9uUHJvcGVydHlcIl09XCJcIixlbGVtZW50LnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zaXRpb25UaW1pbmdGdW5jdGlvblwiXT1cIlwiLGVsZW1lbnQuc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNpdGlvbkRlbGF5XCJdPVwiXCIsdGhhdC5mcmVzaD0hMSx0aGF0LmNoYWluZWRfdHdlZW4mJnRoYXQuY2hhaW5lZF90d2Vlbi5zdGFydCgpLHRoYXQub2NfZmImJnRoYXQub2NfZmIuY2FsbCh0aGF0Lm9jX2ZiX3RhcmdldCkpfSx0aGlzLnN0YXJ0X3RvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGF0LiRlbGVtZW50JiYoZWxlbWVudC5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2l0aW9uRHVyYXRpb25cIl09dGhhdC5kdXJhdGlvbitcIm1zXCIsZWxlbWVudC5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2l0aW9uUHJvcGVydHlcIl09dGhhdC50cmFuc1Byb3BlcnR5fHxcImFsbFwiLGVsZW1lbnQuc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNpdGlvbkRlbGF5XCJdPXRoYXQuZGVsYXk+MD90aGF0LmRlbGF5K1wibXNcIjpcIlwiLGVsZW1lbnQuc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXCJdPXRoYXQuZWFzZSx0aGF0LnRvX2NiJiZ0aGF0LnRvX2NiLmNhbGwodGhhdC50b19jYl90YXJnZXQpLHRoYXQuZW5kX3RvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGF0Lm9uVHJhbnNDb21wbGV0ZSgpfSx0aGF0LmR1cmF0aW9uKyh0aGF0LmRlbGF5fHwwKSkpfSwxMDApLHRoaXN9fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdHJhbnNQb3MoZWxlbWVudCxwcm9wZXJ0aWVzKXtpZih2b2lkIDAhPT1wcm9wZXJ0aWVzLnh8fHZvaWQgMCE9PXByb3BlcnRpZXMueSlpZihfY3NzYW5pbSl7dmFyIHRyYW5zPXdpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiO3ZvaWQgMCE9PXByb3BlcnRpZXMueCYmKHByb3BlcnRpZXNbdHJhbnNdPShwcm9wZXJ0aWVzW3RyYW5zXXx8XCJcIikrXCIgdHJhbnNsYXRlWChcIitwcm9wZXJ0aWVzLngrXCJweClcIixkZWxldGUgcHJvcGVydGllcy54KSx2b2lkIDAhPT1wcm9wZXJ0aWVzLnkmJihwcm9wZXJ0aWVzW3RyYW5zXT0ocHJvcGVydGllc1t0cmFuc118fFwiXCIpK1wiIHRyYW5zbGF0ZVkoXCIrcHJvcGVydGllcy55K1wicHgpXCIsZGVsZXRlIHByb3BlcnRpZXMueSl9ZWxzZXtpZih2b2lkIDAhPT1wcm9wZXJ0aWVzLngpe3ZhciBwb3N4PVwiYXV0b1wiIT09ZWxlbWVudC5jc3MoXCJyaWdodFwiKT9cInJpZ2h0XCI6XCJsZWZ0XCI7cHJvcGVydGllc1twb3N4XT1wcm9wZXJ0aWVzLngrXCJweFwiLGRlbGV0ZSBwcm9wZXJ0aWVzLnh9aWYodm9pZCAwIT09cHJvcGVydGllcy55KXt2YXIgcG9zeT1cImF1dG9cIiE9PWVsZW1lbnQuY3NzKFwiYm90dG9tXCIpP1wiYm90dG9tXCI6XCJ0b3BcIjtwcm9wZXJ0aWVzW3Bvc3ldPXByb3BlcnRpZXMueStcInB4XCIsZGVsZXRlIHByb3BlcnRpZXMueX19cmV0dXJuIHByb3BlcnRpZXN9dmFyIF9jc3NhbmltPW51bGw7d2luZG93LkNUd2Vlbj17fSxDVHdlZW4uc2V0UG9zPWZ1bmN0aW9uKGVsZW1lbnQscG9zKXtlbGVtZW50LmNzcyh0cmFuc1BvcyhlbGVtZW50LHBvcykpfSxDVHdlZW4uYW5pbWF0ZT1mdW5jdGlvbihlbGVtZW50LGR1cmF0aW9uLHByb3BlcnRpZXMsb3B0aW9ucyl7aWYobnVsbD09X2Nzc2FuaW0mJihfY3NzYW5pbT13aW5kb3cuX2Nzc2FuaW0pLG9wdGlvbnM9b3B0aW9uc3x8e30sdHJhbnNQb3MoZWxlbWVudCxwcm9wZXJ0aWVzKSxfY3NzYW5pbSl7dmFyIHR3ZWVuPW5ldyBDU1NUd2VlbihlbGVtZW50LGR1cmF0aW9uLG9wdGlvbnMuZGVsYXksRWFzZURpY1tvcHRpb25zLmVhc2VdKTtyZXR1cm4gb3B0aW9ucy50cmFuc1Byb3BlcnR5JiYodHdlZW4udHJhbnNQcm9wZXJ0eT1vcHRpb25zLnRyYW5zUHJvcGVydHkpLHR3ZWVuLnRvKGZ1bmN0aW9uKCl7ZWxlbWVudC5jc3MocHJvcGVydGllcyl9KSxvcHRpb25zLmNvbXBsZXRlJiZ0d2Vlbi5vbkNvbXBsZXRlKG9wdGlvbnMuY29tcGxldGUsb3B0aW9ucy50YXJnZXQpLHR3ZWVuLnN0YXJ0KCksdHdlZW4uc3RvcD10d2Vlbi5yZXNldCx0d2Vlbn12YXIgb25DbDtyZXR1cm4gb3B0aW9ucy5kZWxheSYmZWxlbWVudC5kZWxheShvcHRpb25zLmRlbGF5KSxvcHRpb25zLmNvbXBsZXRlJiYob25DbD1mdW5jdGlvbigpe29wdGlvbnMuY29tcGxldGUuY2FsbChvcHRpb25zLnRhcmdldCl9KSxlbGVtZW50LnN0b3AoITApLmFuaW1hdGUocHJvcGVydGllcyxkdXJhdGlvbixvcHRpb25zLmVhc2V8fFwibGluZWFyXCIsb25DbCksZWxlbWVudH0sQ1R3ZWVuLmZhZGVPdXQ9ZnVuY3Rpb24odGFyZ2V0LGR1cmF0aW9uLHJlbW92ZSl7dmFyIG9wdGlvbnM9e307cmVtb3ZlPT09ITA/b3B0aW9ucy5jb21wbGV0ZT1mdW5jdGlvbigpe3RhcmdldC5yZW1vdmUoKX06Mj09PXJlbW92ZSYmKG9wdGlvbnMuY29tcGxldGU9ZnVuY3Rpb24oKXt0YXJnZXQuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKX0pLENUd2Vlbi5hbmltYXRlKHRhcmdldCxkdXJhdGlvbnx8MWUzLHtvcGFjaXR5OjB9LG9wdGlvbnMpfSxDVHdlZW4uZmFkZUluPWZ1bmN0aW9uKHRhcmdldCxkdXJhdGlvbixyZXNldCl7cmVzZXQhPT0hMSYmdGFyZ2V0LmNzcyhcIm9wYWNpdHlcIiwwKS5jc3MoXCJkaXNwbGF5XCIsXCJcIiksQ1R3ZWVuLmFuaW1hdGUodGFyZ2V0LGR1cmF0aW9ufHwxZTMse29wYWNpdHk6MX0pfX0oKSxmdW5jdGlvbigpe3dpbmRvdy5FYXNlRGljPXtsaW5lYXI6XCJsaW5lYXJcIixlYXNlOlwiZWFzZVwiLGVhc2VJbjpcImVhc2UtaW5cIixlYXNlT3V0OlwiZWFzZS1vdXRcIixlYXNlSW5PdXQ6XCJlYXNlLWluLW91dFwiLGVhc2VJbkN1YmljOlwiY3ViaWMtYmV6aWVyKC41NSwuMDU1LC42NzUsLjE5KVwiLGVhc2VPdXRDdWJpYzpcImN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpXCIsZWFzZUluT3V0Q3ViaWM6XCJjdWJpYy1iZXppZXIoLjY0NSwuMDQ1LC4zNTUsMSlcIixlYXNlSW5DaXJjOlwiY3ViaWMtYmV6aWVyKC42LC4wNCwuOTgsLjMzNSlcIixlYXNlT3V0Q2lyYzpcImN1YmljLWJlemllciguMDc1LC44MiwuMTY1LDEpXCIsZWFzZUluT3V0Q2lyYzpcImN1YmljLWJlemllciguNzg1LC4xMzUsLjE1LC44NilcIixlYXNlSW5FeHBvOlwiY3ViaWMtYmV6aWVyKC45NSwuMDUsLjc5NSwuMDM1KVwiLGVhc2VPdXRFeHBvOlwiY3ViaWMtYmV6aWVyKC4xOSwxLC4yMiwxKVwiLGVhc2VJbk91dEV4cG86XCJjdWJpYy1iZXppZXIoMSwwLDAsMSlcIixlYXNlSW5RdWFkOlwiY3ViaWMtYmV6aWVyKC41NSwuMDg1LC42OCwuNTMpXCIsZWFzZU91dFF1YWQ6XCJjdWJpYy1iZXppZXIoLjI1LC40NiwuNDUsLjk0KVwiLGVhc2VJbk91dFF1YWQ6XCJjdWJpYy1iZXppZXIoLjQ1NSwuMDMsLjUxNSwuOTU1KVwiLGVhc2VJblF1YXJ0OlwiY3ViaWMtYmV6aWVyKC44OTUsLjAzLC42ODUsLjIyKVwiLGVhc2VPdXRRdWFydDpcImN1YmljLWJlemllciguMTY1LC44NCwuNDQsMSlcIixlYXNlSW5PdXRRdWFydDpcImN1YmljLWJlemllciguNzcsMCwuMTc1LDEpXCIsZWFzZUluUXVpbnQ6XCJjdWJpYy1iZXppZXIoLjc1NSwuMDUsLjg1NSwuMDYpXCIsZWFzZU91dFF1aW50OlwiY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKVwiLGVhc2VJbk91dFF1aW50OlwiY3ViaWMtYmV6aWVyKC44NiwwLC4wNywxKVwiLGVhc2VJblNpbmU6XCJjdWJpYy1iZXppZXIoLjQ3LDAsLjc0NSwuNzE1KVwiLGVhc2VPdXRTaW5lOlwiY3ViaWMtYmV6aWVyKC4zOSwuNTc1LC41NjUsMSlcIixlYXNlSW5PdXRTaW5lOlwiY3ViaWMtYmV6aWVyKC40NDUsLjA1LC41NSwuOTUpXCIsZWFzZUluQmFjazpcImN1YmljLWJlemllciguNiwtLjI4LC43MzUsLjA0NSlcIixlYXNlT3V0QmFjazpcImN1YmljLWJlemllciguMTc1LCAuODg1LC4zMiwxLjI3NSlcIixlYXNlSW5PdXRCYWNrOlwiY3ViaWMtYmV6aWVyKC42OCwtLjU1LC4yNjUsMS41NSlcIn19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt3aW5kb3cuTVNBbGlnbmVyPWZ1bmN0aW9uKHR5cGUsJGNvbnRhaW5lciwkaW1nKXt0aGlzLiRjb250YWluZXI9JGNvbnRhaW5lcix0aGlzLiRpbWc9JGltZyx0aGlzLnR5cGU9dHlwZXx8XCJzdHJldGNoXCIsdGhpcy53aWR0aE9ubHk9ITEsdGhpcy5oZWlnaHRPbmx5PSExfTt2YXIgcD1NU0FsaWduZXIucHJvdG90eXBlO3AuaW5pdD1mdW5jdGlvbih3LGgpe3N3aXRjaCh0aGlzLmJhc2VXaWR0aD13LHRoaXMuYmFzZUhlaWdodD1oLHRoaXMuaW1nUmF0aW89dy9oLHRoaXMuaW1nUmF0aW8yPWgvdyx0aGlzLnR5cGUpe2Nhc2VcInRpbGVcIjp0aGlzLiRjb250YWluZXIuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiLFwidXJsKFwiK3RoaXMuJGltZy5hdHRyKFwic3JjXCIpK1wiKVwiKSx0aGlzLiRpbWcucmVtb3ZlKCk7YnJlYWs7Y2FzZVwiY2VudGVyXCI6dGhpcy4kY29udGFpbmVyLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIixcInVybChcIit0aGlzLiRpbWcuYXR0cihcInNyY1wiKStcIilcIiksdGhpcy4kY29udGFpbmVyLmNzcyh7YmFja2dyb3VuZFBvc2l0aW9uOlwiY2VudGVyIGNlbnRlclwiLGJhY2tncm91bmRSZXBlYXQ6XCJuby1yZXBlYXRcIn0pLHRoaXMuJGltZy5yZW1vdmUoKTticmVhaztjYXNlXCJzdHJldGNoXCI6dGhpcy4kaW1nLmNzcyh7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwifSk7YnJlYWs7Y2FzZVwiZmlsbFwiOmNhc2VcImZpdFwiOnRoaXMubmVlZEFsaWduPSEwLHRoaXMuYWxpZ24oKX19LHAuYWxpZ249ZnVuY3Rpb24oKXtpZih0aGlzLm5lZWRBbGlnbil7dmFyIGNvbnRfdz10aGlzLiRjb250YWluZXIud2lkdGgoKSxjb250X2g9dGhpcy4kY29udGFpbmVyLmhlaWdodCgpLGNvbnRSYXRpbz1jb250X3cvY29udF9oO1wiZmlsbFwiPT10aGlzLnR5cGU/dGhpcy5pbWdSYXRpbzxjb250UmF0aW8/KHRoaXMuJGltZy53aWR0aChjb250X3cpLHRoaXMuJGltZy5oZWlnaHQoY29udF93KnRoaXMuaW1nUmF0aW8yKSk6KHRoaXMuJGltZy5oZWlnaHQoY29udF9oKSx0aGlzLiRpbWcud2lkdGgoY29udF9oKnRoaXMuaW1nUmF0aW8pKTpcImZpdFwiPT10aGlzLnR5cGUmJih0aGlzLmltZ1JhdGlvPGNvbnRSYXRpbz8odGhpcy4kaW1nLmhlaWdodChjb250X2gpLHRoaXMuJGltZy53aWR0aChjb250X2gqdGhpcy5pbWdSYXRpbykpOih0aGlzLiRpbWcud2lkdGgoY29udF93KSx0aGlzLiRpbWcuaGVpZ2h0KGNvbnRfdyp0aGlzLmltZ1JhdGlvMikpKSx0aGlzLnNldE1hcmdpbigpfX0scC5zZXRNYXJnaW49ZnVuY3Rpb24oKXt2YXIgY29udF93PXRoaXMuJGNvbnRhaW5lci53aWR0aCgpLGNvbnRfaD10aGlzLiRjb250YWluZXIuaGVpZ2h0KCk7dGhpcy4kaW1nLmNzcyhcIm1hcmdpbi10b3BcIiwoY29udF9oLXRoaXMuJGltZ1swXS5vZmZzZXRIZWlnaHQpLzIrXCJweFwiKSx0aGlzLiRpbWcuY3NzKFwibWFyZ2luLWxlZnRcIiwoY29udF93LXRoaXMuJGltZ1swXS5vZmZzZXRXaWR0aCkvMitcInB4XCIpfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBfb3B0aW9ucz17Ym91bmNpbmc6ITAsc25hcHBpbmc6ITEsc25hcHNpemU6bnVsbCxmcmljdGlvbjouMDUsb3V0RnJpY3Rpb246LjA1LG91dEFjY2VsZXJhdGlvbjouMDksbWluVmFsaWREaXN0Oi4zLHNuYXBwaW5nTWluU3BlZWQ6MixwYWdpbmc6ITEsZW5kbGVzczohMSxtYXhTcGVlZDoxNjB9LENvbnRyb2xsZXI9ZnVuY3Rpb24obWluLG1heCxvcHRpb25zKXtpZihudWxsPT09bWF4fHxudWxsPT09bWluKXRocm93IG5ldyBFcnJvcihcIk1heCBhbmQgTWluIHZhbHVlcyBhcmUgcmVxdWlyZWQuXCIpO3RoaXMub3B0aW9ucz1vcHRpb25zfHx7fTtmb3IodmFyIGtleSBpbiBfb3B0aW9ucylrZXkgaW4gdGhpcy5vcHRpb25zfHwodGhpcy5vcHRpb25zW2tleV09X29wdGlvbnNba2V5XSk7dGhpcy5fbWF4X3ZhbHVlPW1heCx0aGlzLl9taW5fdmFsdWU9bWluLHRoaXMudmFsdWU9bWluLHRoaXMuZW5kX2xvYz1taW4sdGhpcy5jdXJyZW50X3NuYXA9dGhpcy5nZXRTbmFwTnVtKG1pbiksdGhpcy5fX2V4dHJTdGVwPTAsdGhpcy5fX2V4dHJhTW92ZT0wLHRoaXMuX19hbmltSUQ9LTF9LHA9Q29udHJvbGxlci5wcm90b3R5cGU7cC5jaGFuZ2VUbz1mdW5jdGlvbih2YWx1ZSxhbmltYXRlLHNwZWVkLHNuYXBfbnVtLGRpc3BhdGNoKXtpZih0aGlzLnN0b3BwZWQ9ITEsdGhpcy5faW50ZXJuYWxTdG9wKCksdmFsdWU9dGhpcy5fY2hlY2tMaW1pdHModmFsdWUpLHNwZWVkPU1hdGguYWJzKHNwZWVkfHwwKSx0aGlzLm9wdGlvbnMuc25hcHBpbmcmJihzbmFwX251bT1zbmFwX251bXx8dGhpcy5nZXRTbmFwTnVtKHZhbHVlKSxkaXNwYXRjaCE9PSExJiZ0aGlzLl9jYWxsc25hcENoYW5nZShzbmFwX251bSksdGhpcy5jdXJyZW50X3NuYXA9c25hcF9udW0pLGFuaW1hdGUpe3RoaXMuYW5pbWF0aW5nPSEwO3ZhciBzZWxmPXRoaXMsYWN0aXZlX2lkPSsrc2VsZi5fX2FuaW1JRCxhbXBsaXR1ZGU9dmFsdWUtc2VsZi52YWx1ZSx0aW1lU3RlcD0wLHRhcmdldFBvc2l0aW9uPXZhbHVlLGFuaW1GcmljdD0xLXNlbGYub3B0aW9ucy5mcmljdGlvbix0aW1lY29uc3Q9YW5pbUZyaWN0KyhzcGVlZC0yMCkqYW5pbUZyaWN0KjEuMy9zZWxmLm9wdGlvbnMubWF4U3BlZWQsdGljaz1mdW5jdGlvbigpe2lmKGFjdGl2ZV9pZD09PXNlbGYuX19hbmltSUQpe3ZhciBkaXM9dmFsdWUtc2VsZi52YWx1ZTtpZighKE1hdGguYWJzKGRpcyk+c2VsZi5vcHRpb25zLm1pblZhbGlkRGlzdCYmc2VsZi5hbmltYXRpbmcpKXJldHVybiBzZWxmLmFuaW1hdGluZyYmKHNlbGYudmFsdWU9dmFsdWUsc2VsZi5fY2FsbHJlbmRlcmVyKCkpLHNlbGYuYW5pbWF0aW5nPSExLGFjdGl2ZV9pZCE9PXNlbGYuX19hbmltSUQmJihzZWxmLl9fYW5pbUlEPS0xKSx2b2lkIHNlbGYuX2NhbGxvbkNvbXBsZXRlKFwiYW5pbVwiKTt3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spLHNlbGYudmFsdWU9dGFyZ2V0UG9zaXRpb24tYW1wbGl0dWRlKk1hdGguZXhwKC0rK3RpbWVTdGVwKnRpbWVjb25zdCksc2VsZi5fY2FsbHJlbmRlcmVyKCl9fTtyZXR1cm4gdm9pZCB0aWNrKCl9dGhpcy52YWx1ZT12YWx1ZSx0aGlzLl9jYWxscmVuZGVyZXIoKX0scC5kcmFnPWZ1bmN0aW9uKG1vdmUpe3RoaXMuc3RhcnRfZHJhZyYmKHRoaXMuZHJhZ19zdGFydF9sb2M9dGhpcy52YWx1ZSx0aGlzLnN0YXJ0X2RyYWc9ITEpLHRoaXMuYW5pbWF0aW5nPSExLHRoaXMuX2RlY2VsZXJhdGlvbj0hMSx0aGlzLnZhbHVlLT1tb3ZlLCF0aGlzLm9wdGlvbnMuZW5kbGVzcyYmKHRoaXMudmFsdWU+dGhpcy5fbWF4X3ZhbHVlfHx0aGlzLnZhbHVlPDApP3RoaXMub3B0aW9ucy5ib3VuY2luZz8odGhpcy5fX2lzb3V0PSEwLHRoaXMudmFsdWUrPS42Km1vdmUpOnRoaXMudmFsdWU9dGhpcy52YWx1ZT50aGlzLl9tYXhfdmFsdWU/dGhpcy5fbWF4X3ZhbHVlOjA6IXRoaXMub3B0aW9ucy5lbmRsZXNzJiZ0aGlzLm9wdGlvbnMuYm91bmNpbmcmJih0aGlzLl9faXNvdXQ9ITEpLHRoaXMuX2NhbGxyZW5kZXJlcigpfSxwLnB1c2g9ZnVuY3Rpb24oc3BlZWQpe2lmKHRoaXMuc3RvcHBlZD0hMSx0aGlzLm9wdGlvbnMuc25hcHBpbmcmJk1hdGguYWJzKHNwZWVkKTw9dGhpcy5vcHRpb25zLnNuYXBwaW5nTWluU3BlZWQpcmV0dXJuIHZvaWQgdGhpcy5jYW5jZWwoKTtpZih0aGlzLl9fc3BlZWQ9c3BlZWQsdGhpcy5fX3N0YXJ0U3BlZWQ9c3BlZWQsdGhpcy5lbmRfbG9jPXRoaXMuX2NhbGN1bGF0ZUVuZCgpLHRoaXMub3B0aW9ucy5zbmFwcGluZyl7dmFyIHNuYXBfbG9jPXRoaXMuZ2V0U25hcE51bSh0aGlzLnZhbHVlKSxlbmRfc25hcD10aGlzLmdldFNuYXBOdW0odGhpcy5lbmRfbG9jKTtpZih0aGlzLm9wdGlvbnMucGFnaW5nKXJldHVybiBzbmFwX2xvYz10aGlzLmdldFNuYXBOdW0odGhpcy5kcmFnX3N0YXJ0X2xvYyksdGhpcy5fX2lzb3V0PSExLHZvaWQoc3BlZWQ+MD90aGlzLmdvdG9TbmFwKHNuYXBfbG9jKzEsITAsc3BlZWQpOnRoaXMuZ290b1NuYXAoc25hcF9sb2MtMSwhMCxzcGVlZCkpO2lmKHNuYXBfbG9jPT09ZW5kX3NuYXApcmV0dXJuIHZvaWQgdGhpcy5jYW5jZWwoKTt0aGlzLl9jYWxsc25hcENoYW5nZShlbmRfc25hcCksdGhpcy5jdXJyZW50X3NuYXA9ZW5kX3NuYXB9dGhpcy5hbmltYXRpbmc9ITEsdGhpcy5fX25lZWRzU25hcD10aGlzLm9wdGlvbnMuZW5kbGVzc3x8dGhpcy5lbmRfbG9jPnRoaXMuX21pbl92YWx1ZSYmdGhpcy5lbmRfbG9jPHRoaXMuX21heF92YWx1ZSx0aGlzLm9wdGlvbnMuc25hcHBpbmcmJnRoaXMuX19uZWVkc1NuYXAmJih0aGlzLl9fZXh0cmFNb3ZlPXRoaXMuX2NhbGN1bGF0ZUV4dHJhTW92ZSh0aGlzLmVuZF9sb2MpKSx0aGlzLl9zdGFydERlY2VsYXJhdGlvbigpfSxwLmJvdW5jZT1mdW5jdGlvbihzcGVlZCl7dGhpcy5hbmltYXRpbmd8fCh0aGlzLnN0b3BwZWQ9ITEsdGhpcy5hbmltYXRpbmc9ITEsdGhpcy5fX3NwZWVkPXNwZWVkLHRoaXMuX19zdGFydFNwZWVkPXNwZWVkLHRoaXMuZW5kX2xvYz10aGlzLl9jYWxjdWxhdGVFbmQoKSx0aGlzLl9zdGFydERlY2VsYXJhdGlvbigpKX0scC5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5zdG9wcGVkPSEwLHRoaXMuX2ludGVybmFsU3RvcCgpfSxwLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuc3RhcnRfZHJhZz0hMCx0aGlzLl9faXNvdXQ/KHRoaXMuX19zcGVlZD00ZS00LHRoaXMuX3N0YXJ0RGVjZWxhcmF0aW9uKCkpOnRoaXMub3B0aW9ucy5zbmFwcGluZyYmdGhpcy5nb3RvU25hcCh0aGlzLmdldFNuYXBOdW0odGhpcy52YWx1ZSksITApfSxwLnJlbmRlckNhbGxiYWNrPWZ1bmN0aW9uKGxpc3RlbmVyLHJlZil7dGhpcy5fX3JlbmRlckhvb2s9e2Z1bjpsaXN0ZW5lcixyZWY6cmVmfX0scC5zbmFwcGluZ0NhbGxiYWNrPWZ1bmN0aW9uKGxpc3RlbmVyLHJlZil7dGhpcy5fX3NuYXBIb29rPXtmdW46bGlzdGVuZXIscmVmOnJlZn19LHAuc25hcENvbXBsZXRlQ2FsbGJhY2s9ZnVuY3Rpb24obGlzdGVuZXIscmVmKXt0aGlzLl9fY29tcEhvb2s9e2Z1bjpsaXN0ZW5lcixyZWY6cmVmfX0scC5nZXRTbmFwTnVtPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gTWF0aC5mbG9vcigodmFsdWUrdGhpcy5vcHRpb25zLnNuYXBzaXplLzIpL3RoaXMub3B0aW9ucy5zbmFwc2l6ZSl9LHAubmV4dFNuYXA9ZnVuY3Rpb24oKXt0aGlzLl9pbnRlcm5hbFN0b3AoKTt2YXIgY3Vycl9zbmFwPXRoaXMuZ2V0U25hcE51bSh0aGlzLnZhbHVlKTshdGhpcy5vcHRpb25zLmVuZGxlc3MmJihjdXJyX3NuYXArMSkqdGhpcy5vcHRpb25zLnNuYXBzaXplPnRoaXMuX21heF92YWx1ZT8odGhpcy5fX3NwZWVkPTgsdGhpcy5fX25lZWRzU25hcD0hMSx0aGlzLl9zdGFydERlY2VsYXJhdGlvbigpKTp0aGlzLmdvdG9TbmFwKGN1cnJfc25hcCsxLCEwKX0scC5wcmV2U25hcD1mdW5jdGlvbigpe3RoaXMuX2ludGVybmFsU3RvcCgpO3ZhciBjdXJyX3NuYXA9dGhpcy5nZXRTbmFwTnVtKHRoaXMudmFsdWUpOyF0aGlzLm9wdGlvbnMuZW5kbGVzcyYmKGN1cnJfc25hcC0xKSp0aGlzLm9wdGlvbnMuc25hcHNpemU8dGhpcy5fbWluX3ZhbHVlPyh0aGlzLl9fc3BlZWQ9LTgsdGhpcy5fX25lZWRzU25hcD0hMSx0aGlzLl9zdGFydERlY2VsYXJhdGlvbigpKTp0aGlzLmdvdG9TbmFwKGN1cnJfc25hcC0xLCEwKX0scC5nb3RvU25hcD1mdW5jdGlvbihzbmFwX251bSxhbmltYXRlLHNwZWVkKXt0aGlzLmNoYW5nZVRvKHNuYXBfbnVtKnRoaXMub3B0aW9ucy5zbmFwc2l6ZSxhbmltYXRlLHNwZWVkLHNuYXBfbnVtKX0scC5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5faW50ZXJuYWxTdG9wKCksdGhpcy5fX3JlbmRlckhvb2s9bnVsbCx0aGlzLl9fc25hcEhvb2s9bnVsbCx0aGlzLl9fY29tcEhvb2s9bnVsbH0scC5faW50ZXJuYWxTdG9wPWZ1bmN0aW9uKCl7dGhpcy5zdGFydF9kcmFnPSEwLHRoaXMuYW5pbWF0aW5nPSExLHRoaXMuX2RlY2VsZXJhdGlvbj0hMSx0aGlzLl9fZXh0clN0ZXA9MH0scC5fY2FsY3VsYXRlRXh0cmFNb3ZlPWZ1bmN0aW9uKHZhbHVlKXt2YXIgbT12YWx1ZSV0aGlzLm9wdGlvbnMuc25hcHNpemU7cmV0dXJuIG08dGhpcy5vcHRpb25zLnNuYXBzaXplLzI/LW06dGhpcy5vcHRpb25zLnNuYXBzaXplLW19LHAuX2NhbGN1bGF0ZUVuZD1mdW5jdGlvbihzdGVwKXtmb3IodmFyIHRlbXBfc3BlZWQ9dGhpcy5fX3NwZWVkLHRlbXBfdmFsdWU9dGhpcy52YWx1ZSxpPTA7TWF0aC5hYnModGVtcF9zcGVlZCk+dGhpcy5vcHRpb25zLm1pblZhbGlkRGlzdDspdGVtcF92YWx1ZSs9dGVtcF9zcGVlZCx0ZW1wX3NwZWVkKj10aGlzLm9wdGlvbnMuZnJpY3Rpb24saSsrO3JldHVybiBzdGVwP2k6dGVtcF92YWx1ZX0scC5fY2hlY2tMaW1pdHM9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB0aGlzLm9wdGlvbnMuZW5kbGVzcz92YWx1ZTp2YWx1ZTx0aGlzLl9taW5fdmFsdWU/dGhpcy5fbWluX3ZhbHVlOnZhbHVlPnRoaXMuX21heF92YWx1ZT90aGlzLl9tYXhfdmFsdWU6dmFsdWV9LHAuX2NhbGxyZW5kZXJlcj1mdW5jdGlvbigpe3RoaXMuX19yZW5kZXJIb29rJiZ0aGlzLl9fcmVuZGVySG9vay5mdW4uY2FsbCh0aGlzLl9fcmVuZGVySG9vay5yZWYsdGhpcyx0aGlzLnZhbHVlKX0scC5fY2FsbHNuYXBDaGFuZ2U9ZnVuY3Rpb24odGFyZ2V0U25hcCl7dGhpcy5fX3NuYXBIb29rJiZ0YXJnZXRTbmFwIT09dGhpcy5jdXJyZW50X3NuYXAmJnRoaXMuX19zbmFwSG9vay5mdW4uY2FsbCh0aGlzLl9fc25hcEhvb2sucmVmLHRoaXMsdGFyZ2V0U25hcCx0YXJnZXRTbmFwLXRoaXMuY3VycmVudF9zbmFwKX0scC5fY2FsbG9uQ29tcGxldGU9ZnVuY3Rpb24odHlwZSl7dGhpcy5fX2NvbXBIb29rJiYhdGhpcy5zdG9wcGVkJiZ0aGlzLl9fY29tcEhvb2suZnVuLmNhbGwodGhpcy5fX2NvbXBIb29rLnJlZix0aGlzLHRoaXMuY3VycmVudF9zbmFwLHR5cGUpfSxwLl9jb21wdXRlRGVjZWxlcmF0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLnNuYXBwaW5nJiZ0aGlzLl9fbmVlZHNTbmFwKXt2YXIgeHRyX21vdmU9KHRoaXMuX19zdGFydFNwZWVkLXRoaXMuX19zcGVlZCkvdGhpcy5fX3N0YXJ0U3BlZWQqdGhpcy5fX2V4dHJhTW92ZTt0aGlzLnZhbHVlKz10aGlzLl9fc3BlZWQreHRyX21vdmUtdGhpcy5fX2V4dHJTdGVwLHRoaXMuX19leHRyU3RlcD14dHJfbW92ZX1lbHNlIHRoaXMudmFsdWUrPXRoaXMuX19zcGVlZDtpZih0aGlzLl9fc3BlZWQqPXRoaXMub3B0aW9ucy5mcmljdGlvbix0aGlzLm9wdGlvbnMuZW5kbGVzc3x8dGhpcy5vcHRpb25zLmJvdW5jaW5nfHwodGhpcy52YWx1ZTw9dGhpcy5fbWluX3ZhbHVlPyh0aGlzLnZhbHVlPXRoaXMuX21pbl92YWx1ZSx0aGlzLl9fc3BlZWQ9MCk6dGhpcy52YWx1ZT49dGhpcy5fbWF4X3ZhbHVlJiYodGhpcy52YWx1ZT10aGlzLl9tYXhfdmFsdWUsdGhpcy5fX3NwZWVkPTApKSx0aGlzLl9jYWxscmVuZGVyZXIoKSwhdGhpcy5vcHRpb25zLmVuZGxlc3MmJnRoaXMub3B0aW9ucy5ib3VuY2luZyl7dmFyIG91dF92YWx1ZT0wO3RoaXMudmFsdWU8dGhpcy5fbWluX3ZhbHVlP291dF92YWx1ZT10aGlzLl9taW5fdmFsdWUtdGhpcy52YWx1ZTp0aGlzLnZhbHVlPnRoaXMuX21heF92YWx1ZSYmKG91dF92YWx1ZT10aGlzLl9tYXhfdmFsdWUtdGhpcy52YWx1ZSksdGhpcy5fX2lzb3V0PU1hdGguYWJzKG91dF92YWx1ZSk+PXRoaXMub3B0aW9ucy5taW5WYWxpZERpc3QsdGhpcy5fX2lzb3V0JiYodGhpcy5fX3NwZWVkKm91dF92YWx1ZTw9MD90aGlzLl9fc3BlZWQrPW91dF92YWx1ZSp0aGlzLm9wdGlvbnMub3V0RnJpY3Rpb246dGhpcy5fX3NwZWVkPW91dF92YWx1ZSp0aGlzLm9wdGlvbnMub3V0QWNjZWxlcmF0aW9uKX19LHAuX3N0YXJ0RGVjZWxhcmF0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2RlY2VsZXJhdGlvbil7dGhpcy5fZGVjZWxlcmF0aW9uPSEwO3ZhciBzZWxmPXRoaXMsdGljaz1mdW5jdGlvbigpe3NlbGYuX2RlY2VsZXJhdGlvbiYmKHNlbGYuX2NvbXB1dGVEZWNlbGVyYXRpb24oKSxNYXRoLmFicyhzZWxmLl9fc3BlZWQpPnNlbGYub3B0aW9ucy5taW5WYWxpZERpc3R8fHNlbGYuX19pc291dD93aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spOihzZWxmLl9kZWNlbGVyYXRpb249ITEsc2VsZi5fX2lzb3V0PSExLHNlbGYudmFsdWU9c2VsZi5fX25lZWRzU25hcCYmc2VsZi5vcHRpb25zLnNuYXBwaW5nJiYhc2VsZi5vcHRpb25zLnBhZ2luZz9zZWxmLl9jaGVja0xpbWl0cyhzZWxmLmVuZF9sb2Mrc2VsZi5fX2V4dHJhTW92ZSk6TWF0aC5yb3VuZChzZWxmLnZhbHVlKSxzZWxmLl9jYWxscmVuZGVyZXIoKSxzZWxmLl9jYWxsb25Db21wbGV0ZShcImRlY2VsXCIpKSl9O3RpY2soKX19LHdpbmRvdy5Db250cm9sbGVyPUNvbnRyb2xsZXJ9KCksZnVuY3Rpb24od2luZG93LGRvY3VtZW50LCQpe3dpbmRvdy5NU0xheWVyQ29udHJvbGxlcj1mdW5jdGlvbihzbGlkZSl7dGhpcy5zbGlkZT1zbGlkZSx0aGlzLnNsaWRlcj1zbGlkZS5zbGlkZXIsdGhpcy5sYXllcnM9W10sdGhpcy5sYXllcnNDb3VudD0wLHRoaXMucHJlbG9hZENvdW50PTAsdGhpcy4kbGF5ZXJzPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXNsaWRlLWxheWVyc1wiKSx0aGlzLiRzdGF0aWNMYXllcnM9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtc3RhdGljLWxheWVyc1wiKSx0aGlzLiRmaXhlZExheWVycz0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1maXhlZC1sYXllcnNcIiksdGhpcy4kYW5pbUxheWVycz0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1hbmltLWxheWVyc1wiKX07dmFyIHA9TVNMYXllckNvbnRyb2xsZXIucHJvdG90eXBlO3AuYWRkTGF5ZXI9ZnVuY3Rpb24obGF5ZXIpe3N3aXRjaChsYXllci5zbGlkZT10aGlzLnNsaWRlLGxheWVyLmNvbnRyb2xsZXI9dGhpcyxsYXllci4kZWxlbWVudC5kYXRhKFwicG9zaXRpb25cIikpe2Nhc2VcInN0YXRpY1wiOnRoaXMuaGFzU3RhdGljTGF5ZXI9ITAsbGF5ZXIuJGVsZW1lbnQuYXBwZW5kVG8odGhpcy4kc3RhdGljTGF5ZXJzKTticmVhaztjYXNlXCJmaXhlZFwiOnRoaXMuaGFzRml4ZWRMYXllcj0hMCxsYXllci4kZWxlbWVudC5hcHBlbmRUbyh0aGlzLiRmaXhlZExheWVycyk7YnJlYWs7ZGVmYXVsdDpsYXllci4kZWxlbWVudC5hcHBlbmRUbyh0aGlzLiRhbmltTGF5ZXJzKX1sYXllci5jcmVhdGUoKSx0aGlzLmxheWVycy5wdXNoKGxheWVyKSx0aGlzLmxheWVyc0NvdW50KyssbGF5ZXIucGFyYWxsYXgmJih0aGlzLmhhc1BhcmFsbGF4TGF5ZXI9ITApLGxheWVyLm5lZWRQcmVsb2FkJiZ0aGlzLnByZWxvYWRDb3VudCsrfSxwLmNyZWF0ZT1mdW5jdGlvbigpe3RoaXMuc2xpZGUuJGVsZW1lbnQuYXBwZW5kKHRoaXMuJGxheWVycyksdGhpcy4kbGF5ZXJzLmFwcGVuZCh0aGlzLiRhbmltTGF5ZXJzKSx0aGlzLmhhc1N0YXRpY0xheWVyJiZ0aGlzLiRsYXllcnMuYXBwZW5kKHRoaXMuJHN0YXRpY0xheWVycyksXCJjZW50ZXJcIj09dGhpcy5zbGlkZXIub3B0aW9ucy5sYXllcnNNb2RlJiYodGhpcy4kbGF5ZXJzLmNzcyhcIm1heC13aWR0aFwiLHRoaXMuc2xpZGVyLm9wdGlvbnMud2lkdGgrXCJweFwiKSx0aGlzLmhhc0ZpeGVkTGF5ZXImJnRoaXMuJGZpeGVkTGF5ZXJzLmNzcyhcIm1heC13aWR0aFwiLHRoaXMuc2xpZGVyLm9wdGlvbnMud2lkdGgrXCJweFwiKSl9LHAubG9hZExheWVycz1mdW5jdGlvbihjYWxsYmFjayl7aWYodGhpcy5fb25SZWFkeUNhbGxiYWNrPWNhbGxiYWNrLDA9PT10aGlzLnByZWxvYWRDb3VudClyZXR1cm4gdm9pZCB0aGlzLl9vbmxheWVyc1JlYWR5KCk7Zm9yKHZhciBpPTA7aSE9PXRoaXMubGF5ZXJzQ291bnQ7KytpKXRoaXMubGF5ZXJzW2ldLm5lZWRQcmVsb2FkJiZ0aGlzLmxheWVyc1tpXS5sb2FkSW1hZ2UoKX0scC5wcmVwYXJlVG9TaG93PWZ1bmN0aW9uKCl7dGhpcy5oYXNQYXJhbGxheExheWVyJiZ0aGlzLl9lbmFibGVQYXJhbGxheEVmZmVjdCgpLHRoaXMuaGFzRml4ZWRMYXllciYmdGhpcy4kZml4ZWRMYXllcnMucHJlcGVuZFRvKHRoaXMuc2xpZGUudmlldy4kZWxlbWVudCl9LHAuc2hvd0xheWVycz1mdW5jdGlvbigpe3RoaXMubGF5ZXJzSGlkZVR3ZWVuJiZ0aGlzLmxheWVyc0hpZGVUd2Vlbi5zdG9wKCEwKSx0aGlzLmZpeGVkTGF5ZXJzSGlkZVR3ZWVuJiZ0aGlzLmZpeGVkTGF5ZXJzSGlkZVR3ZWVuLnN0b3AoITApLHRoaXMuX3Jlc2V0TGF5ZXJzKCksdGhpcy4kYW5pbUxheWVycy5jc3MoXCJvcGFjaXR5XCIsXCJcIikuY3NzKFwiZGlzcGxheVwiLFwiXCIpLHRoaXMuaGFzRml4ZWRMYXllciYmdGhpcy4kZml4ZWRMYXllcnMuY3NzKFwib3BhY2l0eVwiLFwiXCIpLmNzcyhcImRpc3BsYXlcIixcIlwiKSx0aGlzLnJlYWR5JiYodGhpcy5faW5pdExheWVycygpLHRoaXMuX2xvY2F0ZUxheWVycygpLHRoaXMuX3N0YXJ0TGF5ZXJzKCkpfSxwLmhpZGVMYXllcnM9ZnVuY3Rpb24oKXtpZih0aGlzLnNsaWRlLnNlbGVjdGVkfHx0aGlzLnNsaWRlci5vcHRpb25zLmluc3RhbnRTdGFydExheWVycyl7dmFyIHRoYXQ9dGhpczt0aGF0LmxheWVyc0hpZGVUd2Vlbj1DVHdlZW4uYW5pbWF0ZSh0aGlzLiRhbmltTGF5ZXJzLDUwMCx7b3BhY2l0eTowfSx7Y29tcGxldGU6ZnVuY3Rpb24oKXt0aGF0Ll9yZXNldExheWVycygpfX0pLHRoaXMuaGFzRml4ZWRMYXllciYmKHRoaXMuZml4ZWRMYXllcnNIaWRlVHdlZW49Q1R3ZWVuLmFuaW1hdGUodGhpcy4kZml4ZWRMYXllcnMsNTAwLHtvcGFjaXR5OjB9LHtjb21wbGV0ZTpmdW5jdGlvbigpe3RoYXQuJGZpeGVkTGF5ZXJzLmRldGFjaCgpfX0pKSx0aGlzLmhhc1BhcmFsbGF4TGF5ZXImJnRoaXMuX2Rpc2FibGVQYXJhbGxheEVmZmVjdCgpfX0scC5hbmltSGlkZUxheWVycz1mdW5jdGlvbigpe2lmKHRoaXMucmVhZHkpZm9yKHZhciBpPTA7aSE9PXRoaXMubGF5ZXJzQ291bnQ7KytpKXRoaXMubGF5ZXJzW2ldLmhpZGUoKX0scC5zZXRTaXplPWZ1bmN0aW9uKHdpZHRoLGhlaWdodCxoYXJkKXtpZih0aGlzLnJlYWR5JiYodGhpcy5zbGlkZS5zZWxlY3RlZHx8dGhpcy5oYXNTdGF0aWNMYXllcikmJihoYXJkJiZ0aGlzLl9pbml0TGF5ZXJzKCEwKSx0aGlzLl9sb2NhdGVMYXllcnMoIXRoaXMuc2xpZGUuc2VsZWN0ZWQpKSx0aGlzLnNsaWRlci5vcHRpb25zLmF1dG9IZWlnaHQmJnRoaXMudXBkYXRlSGVpZ2h0KCksXCJjZW50ZXJcIj09dGhpcy5zbGlkZXIub3B0aW9ucy5sYXllcnNNb2RlKXt2YXIgbGVmdD1NYXRoLm1heCgwLCh3aWR0aC10aGlzLnNsaWRlci5vcHRpb25zLndpZHRoKS8yKStcInB4XCI7dGhpcy4kbGF5ZXJzWzBdLnN0eWxlLmxlZnQ9bGVmdCx0aGlzLiRmaXhlZExheWVyc1swXS5zdHlsZS5sZWZ0PWxlZnR9fSxwLnVwZGF0ZUhlaWdodD1mdW5jdGlvbigpe3ZhciBoPXRoaXMuc2xpZGUuZ2V0SGVpZ2h0KCkrXCJweFwiO3RoaXMuJGxheWVyc1swXS5zdHlsZS5oZWlnaHQ9aCx0aGlzLiRmaXhlZExheWVyc1swXS5zdHlsZS5oZWlnaHQ9aH0scC5fb25sYXllcnNSZWFkeT1mdW5jdGlvbigpe3RoaXMucmVhZHk9ITAsdGhpcy5oYXNTdGF0aWNMYXllciYmIXRoaXMuc2xpZGUuaXNTbGVlcGluZyYmdGhpcy5faW5pdExheWVycyghMSwhMCksdGhpcy5fb25SZWFkeUNhbGxiYWNrLmNhbGwodGhpcy5zbGlkZSl9LHAub25TbGlkZVNsZWVwPWZ1bmN0aW9uKCl7fSxwLm9uU2xpZGVXYWtldXA9ZnVuY3Rpb24oKXt0aGlzLmhhc1N0YXRpY0xheWVyJiZ0aGlzLnJlYWR5JiZ0aGlzLl9pbml0TGF5ZXJzKCExLCEwKX0scC5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5zbGlkZS5zZWxlY3RlZCYmdGhpcy5oYXNQYXJhbGxheExheWVyJiZ0aGlzLl9kaXNhYmxlUGFyYWxsYXhFZmZlY3QoKTtmb3IodmFyIGk9MDtpPHRoaXMubGF5ZXJzQ291bnQ7KytpKXRoaXMubGF5ZXJzW2ldLiRlbGVtZW50LnN0b3AoITApLnJlbW92ZSgpO3RoaXMuJGxheWVycy5yZW1vdmUoKSx0aGlzLiRzdGF0aWNMYXllcnMucmVtb3ZlKCksdGhpcy4kZml4ZWRMYXllcnMucmVtb3ZlKCksdGhpcy4kYW5pbUxheWVycy5yZW1vdmUoKX0scC5fc3RhcnRMYXllcnM9ZnVuY3Rpb24oKXtmb3IodmFyIGk9MDtpIT09dGhpcy5sYXllcnNDb3VudDsrK2kpdGhpcy5sYXllcnNbaV0uc3RhcnQoKX0scC5faW5pdExheWVycz1mdW5jdGlvbihmb3JjZSxvbmx5U3RhdGljcyl7aWYoISh0aGlzLmluaXQmJiFmb3JjZXx8dGhpcy5zbGlkZXIuaW5pdF9zYWZlbW9kZSkpe3RoaXMuaW5pdD1vbmx5U3RhdGljcyE9PSEwO3ZhciBpPTA7aWYob25seVN0YXRpY3MmJiF0aGlzLnN0YXRpY3NJbml0KWZvcih0aGlzLnN0YXRpY3NJbml0PSEwO2khPT10aGlzLmxheWVyc0NvdW50OysraSl0aGlzLmxheWVyc1tpXS5zdGF0aWNMYXllciYmdGhpcy5sYXllcnNbaV0uaW5pdCgpO2Vsc2UgaWYodGhpcy5zdGF0aWNzSW5pdCYmIWZvcmNlKWZvcig7aSE9PXRoaXMubGF5ZXJzQ291bnQ7KytpKXRoaXMubGF5ZXJzW2ldLnN0YXRpY0xheWVyfHx0aGlzLmxheWVyc1tpXS5pbml0KCk7ZWxzZSBmb3IoO2khPT10aGlzLmxheWVyc0NvdW50OysraSl0aGlzLmxheWVyc1tpXS5pbml0KCl9fSxwLl9sb2NhdGVMYXllcnM9ZnVuY3Rpb24ob25seVN0YXRpY3Mpe3ZhciBpPTA7aWYob25seVN0YXRpY3MpZm9yKDtpIT09dGhpcy5sYXllcnNDb3VudDsrK2kpdGhpcy5sYXllcnNbaV0uc3RhdGljTGF5ZXImJnRoaXMubGF5ZXJzW2ldLmxvY2F0ZSgpO2Vsc2UgZm9yKDtpIT09dGhpcy5sYXllcnNDb3VudDsrK2kpdGhpcy5sYXllcnNbaV0ubG9jYXRlKCl9LHAuX3Jlc2V0TGF5ZXJzPWZ1bmN0aW9uKCl7dGhpcy4kYW5pbUxheWVycy5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpLmNzcyhcIm9wYWNpdHlcIiwxKTtmb3IodmFyIGk9MDtpIT09dGhpcy5sYXllcnNDb3VudDsrK2kpdGhpcy5sYXllcnNbaV0ucmVzZXQoKX0scC5fYXBwbHlQYXJhbGxheD1mdW5jdGlvbih4LHksZmFzdCl7Zm9yKHZhciBpPTA7aSE9PXRoaXMubGF5ZXJzQ291bnQ7KytpKW51bGwhPXRoaXMubGF5ZXJzW2ldLnBhcmFsbGF4JiZ0aGlzLmxheWVyc1tpXS5tb3ZlUGFyYWxsYXgoeCx5LGZhc3QpfSxwLl9lbmFibGVQYXJhbGxheEVmZmVjdD1mdW5jdGlvbigpe1wic3dpcGVcIj09PXRoaXMuc2xpZGVyLm9wdGlvbnMucGFyYWxsYXhNb2RlP3RoaXMuc2xpZGUudmlldy5hZGRFdmVudExpc3RlbmVyKE1TVmlld0V2ZW50cy5TQ1JPTEwsdGhpcy5fc3dpcGVQYXJhbGxheE1vdmUsdGhpcyk6dGhpcy5zbGlkZS4kZWxlbWVudC5vbihcIm1vdXNlbW92ZVwiLHt0aGF0OnRoaXN9LHRoaXMuX21vdXNlUGFyYWxsYXhNb3ZlKS5vbihcIm1vdXNlbGVhdmVcIix7dGhhdDp0aGlzfSx0aGlzLl9yZXNldFBhcmFsYXgpfSxwLl9kaXNhYmxlUGFyYWxsYXhFZmZlY3Q9ZnVuY3Rpb24oKXtcInN3aXBlXCI9PT10aGlzLnNsaWRlci5vcHRpb25zLnBhcmFsbGF4TW9kZT90aGlzLnNsaWRlLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcihNU1ZpZXdFdmVudHMuU0NST0xMLHRoaXMuX3N3aXBlUGFyYWxsYXhNb3ZlLHRoaXMpOnRoaXMuc2xpZGUuJGVsZW1lbnQub2ZmKFwibW91c2Vtb3ZlXCIsdGhpcy5fbW91c2VQYXJhbGxheE1vdmUpLm9mZihcIm1vdXNlbGVhdmVcIix0aGlzLl9yZXNldFBhcmFsYXgpfSxwLl9yZXNldFBhcmFsYXg9ZnVuY3Rpb24oZSl7dmFyIHRoYXQ9ZS5kYXRhLnRoYXQ7dGhhdC5fYXBwbHlQYXJhbGxheCgwLDApfSxwLl9tb3VzZVBhcmFsbGF4TW92ZT1mdW5jdGlvbihlKXt2YXIgdGhhdD1lLmRhdGEudGhhdCxvcz10aGF0LnNsaWRlLiRlbGVtZW50Lm9mZnNldCgpLHNsaWRlcj10aGF0LnNsaWRlcjtpZihcIm1vdXNlOnktb25seVwiIT09c2xpZGVyLm9wdGlvbnMucGFyYWxsYXhNb2RlKXZhciB4PWUucGFnZVgtb3MubGVmdC10aGF0LnNsaWRlLl9fd2lkdGgvMjtlbHNlIHZhciB4PTA7aWYoXCJtb3VzZTp4LW9ubHlcIiE9PXNsaWRlci5vcHRpb25zLnBhcmFsbGF4TW9kZSl2YXIgeT1lLnBhZ2VZLW9zLnRvcC10aGF0LnNsaWRlLl9faGVpZ2h0LzI7ZWxzZSB2YXIgeT0wO3RoYXQuX2FwcGx5UGFyYWxsYXgoLXgsLXkpfSxwLl9zd2lwZVBhcmFsbGF4TW92ZT1mdW5jdGlvbigpe3ZhciB2YWx1ZT10aGlzLnNsaWRlLnBvc2l0aW9uLXRoaXMuc2xpZGUudmlldy5fX2NvbnRQb3M7XCJ2XCI9PT10aGlzLnNsaWRlci5vcHRpb25zLmRpcj90aGlzLl9hcHBseVBhcmFsbGF4KDAsdmFsdWUsITApOnRoaXMuX2FwcGx5UGFyYWxsYXgodmFsdWUsMCwhMCl9fSh3aW5kb3csZG9jdW1lbnQsalF1ZXJ5KSxmdW5jdGlvbigkKXt3aW5kb3cuTVNMYXllckVmZmVjdHM9e307dmFyIGluc3RhbGxlZCxfZmFkZT17b3BhY2l0eTowfTtNU0xheWVyRWZmZWN0cy5zZXR1cD1mdW5jdGlvbigpe2lmKCFpbnN0YWxsZWQpe2luc3RhbGxlZD0hMDt2YXIgc3Q9TVNMYXllckVmZmVjdHMsdHJhbnNmb3JtX2Nzcz13aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIix0cmFuc2Zvcm1fb3JpZ19jc3M9d2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtT3JpZ2luXCIsbz0kLmJyb3dzZXIub3BlcmE7XzJkPXdpbmRvdy5fY3NzMmQmJndpbmRvdy5fY3NzYW5pbSYmIW8sc3QuZGVmYXVsdFZhbHVlcz17bGVmdDowLHRvcDowLG9wYWNpdHk6aXNNU0lFKFwiPDlcIik/MTpcIlwiLHJpZ2h0OjAsYm90dG9tOjB9LHN0LmRlZmF1bHRWYWx1ZXNbdHJhbnNmb3JtX2Nzc109XCJcIixzdC5yZj0xLHN0LnByZXNldEVmZlBhcmFtcz17cmFuZG9tOlwiMzB8MzAwXCIsXCJsb25nXCI6MzAwLFwic2hvcnRcIjozMCxcImZhbHNlXCI6ITEsXCJ0cnVlXCI6ITAsdGw6XCJ0b3AgbGVmdFwiLGJsOlwiYm90dG9tIGxlZnRcIix0cjpcInRvcCByaWdodFwiLGJyOlwiYm90dG9tIHJpZ2h0XCIscnQ6XCJ0b3AgcmlnaHRcIixsYjpcImJvdHRvbSBsZWZ0XCIsbHQ6XCJ0b3AgbGVmdFwiLHJiOlwiYm90dG9tIHJpZ2h0XCIsdDpcInRvcFwiLGI6XCJib3R0b21cIixyOlwicmlnaHRcIixsOlwibGVmdFwiLGM6XCJjZW50ZXJcIn0sc3QuZmFkZT1mdW5jdGlvbigpe3JldHVybiBfZmFkZX0sc3QubGVmdD1fMmQ/ZnVuY3Rpb24oZGlzdCxmYWRlKXt2YXIgcj1mYWRlPT09ITE/e306e29wYWNpdHk6MH07cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc109XCJ0cmFuc2xhdGVYKFwiKy1kaXN0KnN0LnJmK1wicHgpXCIscn06ZnVuY3Rpb24oZGlzdCxmYWRlKXt2YXIgcj1mYWRlPT09ITE/e306e29wYWNpdHk6MH07cmV0dXJuIHIubGVmdD0tZGlzdCpzdC5yZitcInB4XCIscn0sc3QucmlnaHQ9XzJkP2Z1bmN0aW9uKGRpc3QsZmFkZSl7dmFyIHI9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9O3JldHVybiByW3RyYW5zZm9ybV9jc3NdPVwidHJhbnNsYXRlWChcIitkaXN0KnN0LnJmK1wicHgpXCIscn06ZnVuY3Rpb24oZGlzdCxmYWRlKXt2YXIgcj1mYWRlPT09ITE/e306e29wYWNpdHk6MH07XG5yZXR1cm4gci5sZWZ0PWRpc3Qqc3QucmYrXCJweFwiLHJ9LHN0LnRvcD1fMmQ/ZnVuY3Rpb24oZGlzdCxmYWRlKXt2YXIgcj1mYWRlPT09ITE/e306e29wYWNpdHk6MH07cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc109XCJ0cmFuc2xhdGVZKFwiKy1kaXN0KnN0LnJmK1wicHgpXCIscn06ZnVuY3Rpb24oZGlzdCxmYWRlKXt2YXIgcj1mYWRlPT09ITE/e306e29wYWNpdHk6MH07cmV0dXJuIHIudG9wPS1kaXN0KnN0LnJmK1wicHhcIixyfSxzdC5ib3R0b209XzJkP2Z1bmN0aW9uKGRpc3QsZmFkZSl7dmFyIHI9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9O3JldHVybiByW3RyYW5zZm9ybV9jc3NdPVwidHJhbnNsYXRlWShcIitkaXN0KnN0LnJmK1wicHgpXCIscn06ZnVuY3Rpb24oZGlzdCxmYWRlKXt2YXIgcj1mYWRlPT09ITE/e306e29wYWNpdHk6MH07cmV0dXJuIHIudG9wPWRpc3Qqc3QucmYrXCJweFwiLHJ9LHN0LmZyb209XzJkP2Z1bmN0aW9uKGxlZnRkaXMsdG9wZGlzLGZhZGUpe3ZhciByPWZhZGU9PT0hMT97fTp7b3BhY2l0eTowfTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXT1cInRyYW5zbGF0ZVgoXCIrbGVmdGRpcypzdC5yZitcInB4KSB0cmFuc2xhdGVZKFwiK3RvcGRpcypzdC5yZitcInB4KVwiLHJ9OmZ1bmN0aW9uKGxlZnRkaXMsdG9wZGlzLGZhZGUpe3ZhciByPWZhZGU9PT0hMT97fTp7b3BhY2l0eTowfTtyZXR1cm4gci50b3A9dG9wZGlzKnN0LnJmK1wicHhcIixyLmxlZnQ9bGVmdGRpcypzdC5yZitcInB4XCIscn0sc3Qucm90YXRlPV8yZD9mdW5jdGlvbihkZWcsb3JpZyl7dmFyIHI9e29wYWNpdHk6MH07cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc109XCIgcm90YXRlKFwiK2RlZytcImRlZylcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKCl7cmV0dXJuIF9mYWRlfSxzdC5yb3RhdGVsZWZ0PV8yZD9mdW5jdGlvbihkZWcsZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LmxlZnQoZGlzdCxmYWRlKTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXSs9XCIgcm90YXRlKFwiK2RlZytcImRlZylcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKGRlZyxkaXN0LG9yaWcsZmFkZSl7cmV0dXJuIHN0LmxlZnQoZGlzdCxmYWRlKX0sc3Qucm90YXRlcmlnaHQ9XzJkP2Z1bmN0aW9uKGRlZyxkaXN0LG9yaWcsZmFkZSl7dmFyIHI9c3QucmlnaHQoZGlzdCxmYWRlKTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXSs9XCIgcm90YXRlKFwiK2RlZytcImRlZylcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKGRlZyxkaXN0LG9yaWcsZmFkZSl7cmV0dXJuIHN0LnJpZ2h0KGRpc3QsZmFkZSl9LHN0LnJvdGF0ZXRvcD1fMmQ/ZnVuY3Rpb24oZGVnLGRpc3Qsb3JpZyxmYWRlKXt2YXIgcj1zdC50b3AoZGlzdCxmYWRlKTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXSs9XCIgcm90YXRlKFwiK2RlZytcImRlZylcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKGRlZyxkaXN0LG9yaWcsZmFkZSl7cmV0dXJuIHN0LnRvcChkaXN0LGZhZGUpfSxzdC5yb3RhdGVib3R0b209XzJkP2Z1bmN0aW9uKGRlZyxkaXN0LG9yaWcsZmFkZSl7dmFyIHI9c3QuYm90dG9tKGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPVwiIHJvdGF0ZShcIitkZWcrXCJkZWcpXCIsb3JpZyYmKHJbdHJhbnNmb3JtX29yaWdfY3NzXT1vcmlnKSxyfTpmdW5jdGlvbihkZWcsZGlzdCxvcmlnLGZhZGUpe3JldHVybiBzdC5ib3R0b20oZGlzdCxmYWRlKX0sc3Qucm90YXRlZnJvbT1fMmQ/ZnVuY3Rpb24oZGVnLGxlZnRkaXMsdG9wZGlzLG9yaWcsZmFkZSl7dmFyIHI9c3QuZnJvbShsZWZ0ZGlzLHRvcGRpcyxmYWRlKTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXSs9XCIgcm90YXRlKFwiK2RlZytcImRlZylcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKGRlZyxsZWZ0ZGlzLHRvcGRpcyxvcmlnLGZhZGUpe3JldHVybiBzdC5mcm9tKGxlZnRkaXMsdG9wZGlzLGZhZGUpfSxzdC5za2V3bGVmdD1fMmQ/ZnVuY3Rpb24oZGVnLGRpc3QsZmFkZSl7dmFyIHI9c3QubGVmdChkaXN0LGZhZGUpO3JldHVybiByW3RyYW5zZm9ybV9jc3NdKz1cIiBza2V3WChcIitkZWcrXCJkZWcpXCIscn06ZnVuY3Rpb24oZGVnLGRpc3QsZmFkZSl7cmV0dXJuIHN0LmxlZnQoZGlzdCxmYWRlKX0sc3Quc2tld3JpZ2h0PV8yZD9mdW5jdGlvbihkZWcsZGlzdCxmYWRlKXt2YXIgcj1zdC5yaWdodChkaXN0LGZhZGUpO3JldHVybiByW3RyYW5zZm9ybV9jc3NdKz1cIiBza2V3WChcIistZGVnK1wiZGVnKVwiLHJ9OmZ1bmN0aW9uKGRlZyxkaXN0LGZhZGUpe3JldHVybiBzdC5yaWdodChkaXN0LGZhZGUpfSxzdC5za2V3dG9wPV8yZD9mdW5jdGlvbihkZWcsZGlzdCxmYWRlKXt2YXIgcj1zdC50b3AoZGlzdCxmYWRlKTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXSs9XCIgc2tld1koXCIrZGVnK1wiZGVnKVwiLHJ9OmZ1bmN0aW9uKGRlZyxkaXN0LGZhZGUpe3JldHVybiBzdC50b3AoZGlzdCxmYWRlKX0sc3Quc2tld2JvdHRvbT1fMmQ/ZnVuY3Rpb24oZGVnLGRpc3QsZmFkZSl7dmFyIHI9c3QuYm90dG9tKGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPVwiIHNrZXdZKFwiKy1kZWcrXCJkZWcpXCIscn06ZnVuY3Rpb24oZGVnLGRpc3QsZmFkZSl7cmV0dXJuIHN0LmJvdHRvbShkaXN0LGZhZGUpfSxzdC5zY2FsZT1fMmQ/ZnVuY3Rpb24oeCx5LG9yaWcsZmFkZSl7dmFyIHI9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9O3JldHVybiByW3RyYW5zZm9ybV9jc3NdPVwiIHNjYWxlWChcIit4K1wiKSBzY2FsZVkoXCIreStcIilcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSxvcmlnLGZhZGUpe3JldHVybiBmYWRlPT09ITE/e306e29wYWNpdHk6MH19LHN0LnNjYWxlbGVmdD1fMmQ/ZnVuY3Rpb24oeCx5LGRpc3Qsb3JpZyxmYWRlKXt2YXIgcj1zdC5sZWZ0KGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc109XCIgc2NhbGVYKFwiK3grXCIpIHNjYWxlWShcIit5K1wiKVwiLG9yaWcmJihyW3RyYW5zZm9ybV9vcmlnX2Nzc109b3JpZykscn06ZnVuY3Rpb24oeCx5LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QubGVmdChkaXN0LGZhZGUpfSxzdC5zY2FsZXJpZ2h0PV8yZD9mdW5jdGlvbih4LHksZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LnJpZ2h0KGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc109XCIgc2NhbGVYKFwiK3grXCIpIHNjYWxlWShcIit5K1wiKVwiLG9yaWcmJihyW3RyYW5zZm9ybV9vcmlnX2Nzc109b3JpZykscn06ZnVuY3Rpb24oeCx5LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QucmlnaHQoZGlzdCxmYWRlKX0sc3Quc2NhbGV0b3A9XzJkP2Z1bmN0aW9uKHgseSxkaXN0LG9yaWcsZmFkZSl7dmFyIHI9c3QudG9wKGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc109XCIgc2NhbGVYKFwiK3grXCIpIHNjYWxlWShcIit5K1wiKVwiLG9yaWcmJihyW3RyYW5zZm9ybV9vcmlnX2Nzc109b3JpZykscn06ZnVuY3Rpb24oeCx5LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QudG9wKGRpc3QsZmFkZSl9LHN0LnNjYWxlYm90dG9tPV8yZD9mdW5jdGlvbih4LHksZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LmJvdHRvbShkaXN0LGZhZGUpO3JldHVybiByW3RyYW5zZm9ybV9jc3NdPVwiIHNjYWxlWChcIit4K1wiKSBzY2FsZVkoXCIreStcIilcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSxkaXN0LG9yaWcsZmFkZSl7cmV0dXJuIHN0LmJvdHRvbShkaXN0LGZhZGUpfSxzdC5zY2FsZWZyb209XzJkP2Z1bmN0aW9uKHgseSxsZWZ0ZGlzLHRvcGRpcyxvcmlnLGZhZGUpe3ZhciByPXN0LmZyb20obGVmdGRpcyx0b3BkaXMsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPVwiIHNjYWxlWChcIit4K1wiKSBzY2FsZVkoXCIreStcIilcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSxsZWZ0ZGlzLHRvcGRpcyxvcmlnLGZhZGUpe3JldHVybiBzdC5mcm9tKGxlZnRkaXMsdG9wZGlzLGZhZGUpfSxzdC5yb3RhdGVzY2FsZT1fMmQ/ZnVuY3Rpb24oZGVnLHgseSxvcmlnLGZhZGUpe3ZhciByPXN0LnNjYWxlKHgseSxvcmlnLGZhZGUpO3JldHVybiByW3RyYW5zZm9ybV9jc3NdKz1cIiByb3RhdGUoXCIrZGVnK1wiZGVnKVwiLG9yaWcmJihyW3RyYW5zZm9ybV9vcmlnX2Nzc109b3JpZykscn06ZnVuY3Rpb24oZGVnLHgseSxvcmlnLGZhZGUpe3JldHVybiBzdC5zY2FsZSh4LHksb3JpZyxmYWRlKX0sc3QuZnJvbnQ9d2luZG93Ll9jc3MzZD9mdW5jdGlvbihkaXN0LGZhZGUpe3ZhciByPWZhZGU9PT0hMT97fTp7b3BhY2l0eTowfTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXT1cInBlcnNwZWN0aXZlKDIwMDBweCkgdHJhbnNsYXRlM2QoMCAsIDAgLFwiK2Rpc3QrXCJweCApIHJvdGF0ZSgwLjAwMWRlZylcIixyfTpmdW5jdGlvbigpe3JldHVybiBfZmFkZX0sc3QuYmFjaz13aW5kb3cuX2NzczNkP2Z1bmN0aW9uKGRpc3QsZmFkZSl7dmFyIHI9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9O3JldHVybiByW3RyYW5zZm9ybV9jc3NdPVwicGVyc3BlY3RpdmUoMjAwMHB4KSB0cmFuc2xhdGUzZCgwICwgMCAsXCIrLWRpc3QrXCJweCApIHJvdGF0ZSgwLjAwMWRlZylcIixyfTpmdW5jdGlvbigpe3JldHVybiBfZmFkZX0sc3Qucm90YXRlZnJvbnQ9d2luZG93Ll9jc3MzZD9mdW5jdGlvbihkZWcsZGlzdCxvcmlnLGZhZGUpe3ZhciByPWZhZGU9PT0hMT97fTp7b3BhY2l0eTowfTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXT1cInBlcnNwZWN0aXZlKDIwMDBweCkgdHJhbnNsYXRlM2QoMCAsIDAgLFwiK2Rpc3QrXCJweCApIHJvdGF0ZShcIisoZGVnfHwuMDAxKStcImRlZylcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKCl7cmV0dXJuIF9mYWRlfSxzdC5yb3RhdGViYWNrPXdpbmRvdy5fY3NzM2Q/ZnVuY3Rpb24oZGVnLGRpc3Qsb3JpZyxmYWRlKXt2YXIgcj1mYWRlPT09ITE/e306e29wYWNpdHk6MH07cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc109XCJwZXJzcGVjdGl2ZSgyMDAwcHgpIHRyYW5zbGF0ZTNkKDAgLCAwICxcIistZGlzdCtcInB4ICkgcm90YXRlKFwiKyhkZWd8fC4wMDEpK1wiZGVnKVwiLG9yaWcmJihyW3RyYW5zZm9ybV9vcmlnX2Nzc109b3JpZykscn06ZnVuY3Rpb24oKXtyZXR1cm4gX2ZhZGV9LHN0LnJvdGF0ZTNkbGVmdD13aW5kb3cuX2NzczNkP2Z1bmN0aW9uKHgseSx6LGRpc3Qsb3JpZyxmYWRlKXt2YXIgcj1zdC5sZWZ0KGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPSh4P1wiIHJvdGF0ZVgoXCIreCtcImRlZylcIjpcIiBcIikrKHk/XCIgcm90YXRlWShcIit5K1wiZGVnKVwiOlwiXCIpKyh6P1wiIHJvdGF0ZVooXCIreitcImRlZylcIjpcIlwiKSxvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSx6LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QubGVmdChkaXN0LGZhZGUpfSxzdC5yb3RhdGUzZHJpZ2h0PXdpbmRvdy5fY3NzM2Q/ZnVuY3Rpb24oeCx5LHosZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LnJpZ2h0KGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPSh4P1wiIHJvdGF0ZVgoXCIreCtcImRlZylcIjpcIiBcIikrKHk/XCIgcm90YXRlWShcIit5K1wiZGVnKVwiOlwiXCIpKyh6P1wiIHJvdGF0ZVooXCIreitcImRlZylcIjpcIlwiKSxvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSx6LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QucmlnaHQoZGlzdCxmYWRlKX0sc3Qucm90YXRlM2R0b3A9d2luZG93Ll9jc3MzZD9mdW5jdGlvbih4LHkseixkaXN0LG9yaWcsZmFkZSl7dmFyIHI9c3QudG9wKGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPSh4P1wiIHJvdGF0ZVgoXCIreCtcImRlZylcIjpcIiBcIikrKHk/XCIgcm90YXRlWShcIit5K1wiZGVnKVwiOlwiXCIpKyh6P1wiIHJvdGF0ZVooXCIreitcImRlZylcIjpcIlwiKSxvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSx6LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QudG9wKGRpc3QsZmFkZSl9LHN0LnJvdGF0ZTNkYm90dG9tPXdpbmRvdy5fY3NzM2Q/ZnVuY3Rpb24oeCx5LHosZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LmJvdHRvbShkaXN0LGZhZGUpO3JldHVybiByW3RyYW5zZm9ybV9jc3NdKz0oeD9cIiByb3RhdGVYKFwiK3grXCJkZWcpXCI6XCIgXCIpKyh5P1wiIHJvdGF0ZVkoXCIreStcImRlZylcIjpcIlwiKSsoej9cIiByb3RhdGVaKFwiK3orXCJkZWcpXCI6XCJcIiksb3JpZyYmKHJbdHJhbnNmb3JtX29yaWdfY3NzXT1vcmlnKSxyfTpmdW5jdGlvbih4LHkseixkaXN0LG9yaWcsZmFkZSl7cmV0dXJuIHN0LmJvdHRvbShkaXN0LGZhZGUpfSxzdC5yb3RhdGUzZGZyb250PXdpbmRvdy5fY3NzM2Q/ZnVuY3Rpb24oeCx5LHosZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LmZyb250KGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPSh4P1wiIHJvdGF0ZVgoXCIreCtcImRlZylcIjpcIiBcIikrKHk/XCIgcm90YXRlWShcIit5K1wiZGVnKVwiOlwiXCIpKyh6P1wiIHJvdGF0ZVooXCIreitcImRlZylcIjpcIlwiKSxvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSx6LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QuZnJvbnQoZGlzdCxmYWRlKX0sc3Qucm90YXRlM2RiYWNrPXdpbmRvdy5fY3NzM2Q/ZnVuY3Rpb24oeCx5LHosZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LmJhY2soZGlzdCxmYWRlKTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXSs9KHg/XCIgcm90YXRlWChcIit4K1wiZGVnKVwiOlwiIFwiKSsoeT9cIiByb3RhdGVZKFwiK3krXCJkZWcpXCI6XCJcIikrKHo/XCIgcm90YXRlWihcIit6K1wiZGVnKVwiOlwiXCIpLG9yaWcmJihyW3RyYW5zZm9ybV9vcmlnX2Nzc109b3JpZykscn06ZnVuY3Rpb24oeCx5LHosZGlzdCxvcmlnLGZhZGUpe3JldHVybiBzdC5iYWNrKGRpc3QsZmFkZSl9LHN0LnQ9d2luZG93Ll9jc3MzZD9mdW5jdGlvbihmYWRlLHR4LHR5LHR6LHIscngscnkscnosc2N4LHNjeSxza3gsc2t5LG94LG95LG96KXt2YXIgX3I9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9LHRyYW5zZm9ybT1cInBlcnNwZWN0aXZlKDIwMDBweCkgXCI7XCJuXCIhPT10eCYmKHRyYW5zZm9ybSs9XCJ0cmFuc2xhdGVYKFwiK3R4KnN0LnJmK1wicHgpIFwiKSxcIm5cIiE9PXR5JiYodHJhbnNmb3JtKz1cInRyYW5zbGF0ZVkoXCIrdHkqc3QucmYrXCJweCkgXCIpLFwiblwiIT09dHomJih0cmFuc2Zvcm0rPVwidHJhbnNsYXRlWihcIit0eipzdC5yZitcInB4KSBcIiksXCJuXCIhPT1yJiYodHJhbnNmb3JtKz1cInJvdGF0ZShcIityK1wiZGVnKSBcIiksXCJuXCIhPT1yeCYmKHRyYW5zZm9ybSs9XCJyb3RhdGVYKFwiK3J4K1wiZGVnKSBcIiksXCJuXCIhPT1yeSYmKHRyYW5zZm9ybSs9XCJyb3RhdGVZKFwiK3J5K1wiZGVnKSBcIiksXCJuXCIhPT1yeiYmKHRyYW5zZm9ybSs9XCJyb3RhdGVaKFwiK3J6K1wiZGVnKSBcIiksXCJuXCIhPT1za3gmJih0cmFuc2Zvcm0rPVwic2tld1goXCIrc2t4K1wiZGVnKSBcIiksXCJuXCIhPT1za3kmJih0cmFuc2Zvcm0rPVwic2tld1koXCIrc2t5K1wiZGVnKSBcIiksXCJuXCIhPT1zY3gmJih0cmFuc2Zvcm0rPVwic2NhbGVYKFwiK3NjeCtcIikgXCIpLFwiblwiIT09c2N5JiYodHJhbnNmb3JtKz1cInNjYWxlWShcIitzY3krXCIpXCIpLF9yW3RyYW5zZm9ybV9jc3NdPXRyYW5zZm9ybTt2YXIgdHJhbnNfb3JpZ2luPVwiXCI7cmV0dXJuIHRyYW5zX29yaWdpbis9XCJuXCIhPT1veD9veCtcIiUgXCI6XCI1MCUgXCIsdHJhbnNfb3JpZ2luKz1cIm5cIiE9PW95P295K1wiJSBcIjpcIjUwJSBcIix0cmFuc19vcmlnaW4rPVwiblwiIT09b3o/b3orXCJweFwiOlwiXCIsX3JbdHJhbnNmb3JtX29yaWdfY3NzXT10cmFuc19vcmlnaW4sX3J9OmZ1bmN0aW9uKGZhZGUsdHgsdHksdHoscil7dmFyIHI9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9O3JldHVyblwiblwiIT09dHgmJihyLmxlZnQ9dHgqc3QucmYrXCJweFwiKSxcIm5cIiE9PXR5JiYoci50b3A9dHkqc3QucmYrXCJweFwiKSxyfX19fShqUXVlcnkpLGZ1bmN0aW9uKCQpe3dpbmRvdy5NU0xheWVyRWxlbWVudD1mdW5jdGlvbigpe3RoaXMuc3RhcnRfYW5pbT17bmFtZTpcImZhZGVcIixkdXJhdGlvbjoxZTMsZWFzZTpcImxpbmVhclwiLGRlbGF5OjB9LHRoaXMuZW5kX2FuaW09e2R1cmF0aW9uOjFlMyxlYXNlOlwibGluZWFyXCJ9LHRoaXMudHlwZT1cInRleHRcIix0aGlzLnJlc2l6YWJsZT0hMCx0aGlzLm1pbldpZHRoPS0xLHRoaXMuaXNWaXNpYmxlPSEwLHRoaXMuX19jc3NDb25maWc9W1wibWFyZ2luLXRvcFwiLFwicGFkZGluZy10b3BcIixcIm1hcmdpbi1ib3R0b21cIixcInBhZGRpbmctbGVmdFwiLFwibWFyZ2luLXJpZ2h0XCIsXCJwYWRkaW5nLXJpZ2h0XCIsXCJtYXJnaW4tbGVmdFwiLFwicGFkZGluZy1ib3R0b21cIixcImZvbnQtc2l6ZVwiLFwibGluZS1oZWlnaHRcIixcIndpZHRoXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwidG9wXCIsXCJib3R0b21cIl0sdGhpcy5iYXNlU3R5bGU9e319O3ZhciBwPU1TTGF5ZXJFbGVtZW50LnByb3RvdHlwZTtwLnNldFN0YXJ0QW5pbT1mdW5jdGlvbihhbmltKXskLmV4dGVuZCh0aGlzLnN0YXJ0X2FuaW0sYW5pbSksJC5leHRlbmQodGhpcy5zdGFydF9hbmltLHRoaXMuX3BhcnNlRWZmKHRoaXMuc3RhcnRfYW5pbS5uYW1lKSksdGhpcy4kZWxlbWVudC5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIil9LHAuc2V0RW5kQW5pbT1mdW5jdGlvbihhbmltKXskLmV4dGVuZCh0aGlzLmVuZF9hbmltLGFuaW0pfSxwLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuJGVsZW1lbnQuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKSx0aGlzLnJlc2l6YWJsZT10aGlzLiRlbGVtZW50LmRhdGEoXCJyZXNpemVcIikhPT0hMSx0aGlzLmZpeGVkPXRoaXMuJGVsZW1lbnQuZGF0YShcImZpeGVkXCIpPT09ITAsdm9pZCAwIT09dGhpcy4kZWxlbWVudC5kYXRhKFwid2lkdGhsaW1pdFwiKSYmKHRoaXMubWluV2lkdGg9dGhpcy4kZWxlbWVudC5kYXRhKFwid2lkdGhsaW1pdFwiKSksdGhpcy5lbmRfYW5pbS5uYW1lfHwodGhpcy5lbmRfYW5pbS5uYW1lPXRoaXMuc3RhcnRfYW5pbS5uYW1lKSx0aGlzLmVuZF9hbmltLnRpbWUmJih0aGlzLmF1dG9IaWRlPSEwKSx0aGlzLnN0YXRpY0xheWVyPVwic3RhdGljXCI9PT10aGlzLiRlbGVtZW50LmRhdGEoXCJwb3NpdGlvblwiKSx0aGlzLmZpeGVkTGF5ZXI9XCJmaXhlZFwiPT09dGhpcy4kZWxlbWVudC5kYXRhKFwicG9zaXRpb25cIiksdGhpcy5sYXllcnNDb250PXRoaXMuY29udHJvbGxlci4kbGF5ZXJzLHRoaXMuc3RhdGljTGF5ZXImJnRoaXMuJGVsZW1lbnQuY3NzKFwiZGlzcGxheVwiLFwiXCIpLmNzcyhcInZpc2liaWxpdHlcIixcIlwiKSx2b2lkIDAhPT10aGlzLiRlbGVtZW50LmRhdGEoXCJhY3Rpb25cIikpe3ZhciBzbGlkZUNvbnRyb2xsZXI9dGhpcy5zbGlkZS5zbGlkZXIuc2xpZGVDb250cm9sbGVyO3RoaXMuJGVsZW1lbnQub24oXCJjbGlja1wiLGZ1bmN0aW9uKGV2ZW50KXtzbGlkZUNvbnRyb2xsZXIucnVuQWN0aW9uKCQodGhpcykuZGF0YShcImFjdGlvblwiKSksZXZlbnQucHJldmVudERlZmF1bHQoKX0pLmFkZENsYXNzKFwibXMtYWN0aW9uLWxheWVyXCIpfSQuZXh0ZW5kKHRoaXMuZW5kX2FuaW0sdGhpcy5fcGFyc2VFZmYodGhpcy5lbmRfYW5pbS5uYW1lKSksdGhpcy5zbGlkZXI9dGhpcy5zbGlkZS5zbGlkZXI7dmFyIGxheWVyT3JpZ2luPXRoaXMubGF5ZXJPcmlnaW49dGhpcy4kZWxlbWVudC5kYXRhKFwib3JpZ2luXCIpO2lmKGxheWVyT3JpZ2luKXt2YXIgdk9yaWdpbj1sYXllck9yaWdpbi5jaGFyQXQoMCksaE9yaWdpbj1sYXllck9yaWdpbi5jaGFyQXQoMSksb2Zmc2V0WD10aGlzLiRlbGVtZW50LmRhdGEoXCJvZmZzZXQteFwiKSxvZmZzZXRZPXRoaXMuJGVsZW1lbnQuZGF0YShcIm9mZnNldC15XCIpO3N3aXRjaCh2b2lkIDA9PT1vZmZzZXRZJiYob2Zmc2V0WT0wKSx2T3JpZ2luKXtjYXNlXCJ0XCI6dGhpcy4kZWxlbWVudFswXS5zdHlsZS50b3A9b2Zmc2V0WStcInB4XCI7YnJlYWs7Y2FzZVwiYlwiOnRoaXMuJGVsZW1lbnRbMF0uc3R5bGUuYm90dG9tPW9mZnNldFkrXCJweFwiO2JyZWFrO2Nhc2VcIm1cIjp0aGlzLiRlbGVtZW50WzBdLnN0eWxlLnRvcD1vZmZzZXRZK1wicHhcIix0aGlzLm1pZGRsZUFsaWduPSEwfXN3aXRjaCh2b2lkIDA9PT1vZmZzZXRYJiYob2Zmc2V0WD0wKSxoT3JpZ2luKXtjYXNlXCJsXCI6dGhpcy4kZWxlbWVudFswXS5zdHlsZS5sZWZ0PW9mZnNldFgrXCJweFwiO2JyZWFrO2Nhc2VcInJcIjp0aGlzLiRlbGVtZW50WzBdLnN0eWxlLnJpZ2h0PW9mZnNldFgrXCJweFwiO2JyZWFrO2Nhc2VcImNcIjp0aGlzLiRlbGVtZW50WzBdLnN0eWxlLmxlZnQ9b2Zmc2V0WCtcInB4XCIsdGhpcy5jZW50ZXJBbGlnbj0hMH19dGhpcy5wYXJhbGxheD10aGlzLiRlbGVtZW50LmRhdGEoXCJwYXJhbGxheFwiKSxudWxsIT10aGlzLnBhcmFsbGF4JiYodGhpcy5wYXJhbGxheC89MTAwLHRoaXMuJHBhcmFsbGF4RWxlbWVudD0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1wYXJhbGxheC1sYXllclwiKSx0aGlzLmxpbms/KHRoaXMubGluay53cmFwKHRoaXMuJHBhcmFsbGF4RWxlbWVudCksdGhpcy4kcGFyYWxsYXhFbGVtZW50PXRoaXMubGluay5wYXJlbnQoKSk6KHRoaXMuJGVsZW1lbnQud3JhcCh0aGlzLiRwYXJhbGxheEVsZW1lbnQpLHRoaXMuJHBhcmFsbGF4RWxlbWVudD10aGlzLiRlbGVtZW50LnBhcmVudCgpKSx0aGlzLl9sYXN0UGFyYVg9MCx0aGlzLl9sYXN0UGFyYVk9MCx0aGlzLl9wYXJhWD0wLHRoaXMuX3BhcmFZPTAsdGhpcy5hbGlnbmVkVG9Cb3Q9dGhpcy5sYXllck9yaWdpbiYmLTEhPT10aGlzLmxheWVyT3JpZ2luLmluZGV4T2YoXCJiXCIpLHRoaXMuYWxpZ25lZFRvQm90JiZ0aGlzLiRwYXJhbGxheEVsZW1lbnQuY3NzKFwiYm90dG9tXCIsMCksdGhpcy5wYXJhbGxheFJlbmRlcj13aW5kb3cuX2NzczNkP3RoaXMuX3BhcmFsbGF4Q1NTM0RSZW5kZXJlcjp3aW5kb3cuX2NzczJkP3RoaXMuX3BhcmFsbGF4Q1NTMkRSZW5kZXJlcjp0aGlzLl9wYXJhbGxheDJEUmVuZGVyZXIsXCJzd2lwZVwiIT09dGhpcy5zbGlkZXIub3B0aW9ucy5wYXJhbGxheE1vZGUmJmF2ZXJ0YS5UaWNrZXIuYWRkKHRoaXMucGFyYWxsYXhSZW5kZXIsdGhpcykpLCQucmVtb3ZlRGF0YUF0dHJzKHRoaXMuJGVsZW1lbnQsW1wiZGF0YS1zcmNcIl0pfSxwLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmluaXRpYWxpemVkPSEwO3ZhciB2YWx1ZTt0aGlzLiRlbGVtZW50LmNzcyhcInZpc2liaWxpdHlcIixcIlwiKTtmb3IodmFyIGk9MCxsPXRoaXMuX19jc3NDb25maWcubGVuZ3RoO2w+aTtpKyspe3ZhciBrZXk9dGhpcy5fX2Nzc0NvbmZpZ1tpXTtcInRleHRcIj09PXRoaXMudHlwZSYmXCJ3aWR0aFwiPT09a2V5P3ZhbHVlPXRoaXMuJGVsZW1lbnRbMF0uc3R5bGUud2lkdGg6KHZhbHVlPXRoaXMuJGVsZW1lbnQuY3NzKGtleSksXCJ3aWR0aFwiIT09a2V5JiZcImhlaWdodFwiIT09a2V5fHxcIjBweFwiIT09dmFsdWV8fCh2YWx1ZT10aGlzLiRlbGVtZW50LmRhdGEoa2V5KStcInB4XCIpKSxcImF1dG9cIiE9dmFsdWUmJlwiXCIhPXZhbHVlJiZcIm5vcm1hbFwiIT12YWx1ZSYmKHRoaXMuYmFzZVN0eWxlW2tleV09cGFyc2VJbnQodmFsdWUpKX10aGlzLm1pZGRsZUFsaWduJiYodGhpcy5iYXNlSGVpZ2h0PXRoaXMuJGVsZW1lbnQub3V0ZXJIZWlnaHQoITEpKSx0aGlzLmNlbnRlckFsaWduJiYodGhpcy5iYXNlV2lkdGg9dGhpcy4kZWxlbWVudC5vdXRlcldpZHRoKCExKSl9LHAubG9jYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5zbGlkZS5yZWFkeSl7dmFyIGZhY3Rvcixpc1Bvc2l0aW9uLHdpZHRoPXBhcnNlRmxvYXQodGhpcy5sYXllcnNDb250LmNzcyhcIndpZHRoXCIpKSxoZWlnaHQ9cGFyc2VGbG9hdCh0aGlzLmxheWVyc0NvbnQuY3NzKFwiaGVpZ2h0XCIpKTshdGhpcy5zdGF0aWNMYXllciYmXCJub25lXCI9PT10aGlzLiRlbGVtZW50LmNzcyhcImRpc3BsYXlcIikmJnRoaXMuaXNWaXNpYmxlJiZ0aGlzLiRlbGVtZW50LmNzcyhcImRpc3BsYXlcIixcIlwiKS5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksZmFjdG9yPXRoaXMucmVzaXplRmFjdG9yPXdpZHRoL3RoaXMuc2xpZGUuc2xpZGVyLm9wdGlvbnMud2lkdGg7Zm9yKHZhciBrZXkgaW4gdGhpcy5iYXNlU3R5bGUpaXNQb3NpdGlvbj1cInRvcFwiPT09a2V5fHxcImxlZnRcIj09PWtleXx8XCJib3R0b21cIj09PWtleXx8XCJyaWdodFwiPT09a2V5LGZhY3Rvcj10aGlzLmZpeGVkJiZpc1Bvc2l0aW9uPzE6dGhpcy5yZXNpemVGYWN0b3IsKHRoaXMucmVzaXphYmxlfHxpc1Bvc2l0aW9uKSYmKFwidG9wXCI9PT1rZXkmJnRoaXMubWlkZGxlQWxpZ24/KHRoaXMuJGVsZW1lbnRbMF0uc3R5bGUudG9wPVwiMHB4XCIsdGhpcy5iYXNlSGVpZ2h0PXRoaXMuJGVsZW1lbnQub3V0ZXJIZWlnaHQoITEpLHRoaXMuJGVsZW1lbnRbMF0uc3R5bGUudG9wPXRoaXMuYmFzZVN0eWxlLnRvcCpmYWN0b3IrKGhlaWdodC10aGlzLmJhc2VIZWlnaHQpLzIrXCJweFwiKTpcImxlZnRcIj09PWtleSYmdGhpcy5jZW50ZXJBbGlnbj8odGhpcy4kZWxlbWVudFswXS5zdHlsZS5sZWZ0PVwiMHB4XCIsdGhpcy5iYXNlV2lkdGg9dGhpcy4kZWxlbWVudC5vdXRlcldpZHRoKCExKSx0aGlzLiRlbGVtZW50WzBdLnN0eWxlLmxlZnQ9dGhpcy5iYXNlU3R5bGUubGVmdCpmYWN0b3IrKHdpZHRoLXRoaXMuYmFzZVdpZHRoKS8yK1wicHhcIik6dGhpcy4kZWxlbWVudC5jc3Moa2V5LHRoaXMuYmFzZVN0eWxlW2tleV0qZmFjdG9yK1wicHhcIikpO3RoaXMudmlzaWJsZSh0aGlzLm1pbldpZHRoPHdpZHRoKX19LHAuc3RhcnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5pc1Nob3dpbmcmJiF0aGlzLnN0YXRpY0xheWVyKXt0aGlzLmlzU2hvd2luZz0hMDt2YXIga2V5LGJhc2U7TVNMYXllckVmZmVjdHMucmY9dGhpcy5yZXNpemVGYWN0b3I7dmFyIGVmZmVjdF9jc3M9TVNMYXllckVmZmVjdHNbdGhpcy5zdGFydF9hbmltLmVmZl9uYW1lXS5hcHBseShudWxsLHRoaXMuX3BhcnNlRWZmUGFyYW1zKHRoaXMuc3RhcnRfYW5pbS5lZmZfcGFyYW1zKSksc3RhcnRfY3NzX2VmZj17fTtmb3Ioa2V5IGluIGVmZmVjdF9jc3MpdGhpcy5fY2hlY2tQb3NLZXkoa2V5LGVmZmVjdF9jc3MpfHwobnVsbCE9TVNMYXllckVmZmVjdHMuZGVmYXVsdFZhbHVlc1trZXldJiYoc3RhcnRfY3NzX2VmZltrZXldPU1TTGF5ZXJFZmZlY3RzLmRlZmF1bHRWYWx1ZXNba2V5XSksa2V5IGluIHRoaXMuYmFzZVN0eWxlJiYoYmFzZT10aGlzLmJhc2VTdHlsZVtrZXldLHRoaXMubWlkZGxlQWxpZ24mJlwidG9wXCI9PT1rZXkmJihiYXNlKz0ocGFyc2VJbnQodGhpcy5sYXllcnNDb250LmhlaWdodCgpKS10aGlzLiRlbGVtZW50Lm91dGVySGVpZ2h0KCExKSkvMiksdGhpcy5jZW50ZXJBbGlnbiYmXCJsZWZ0XCI9PT1rZXkmJihiYXNlKz0ocGFyc2VJbnQodGhpcy5sYXllcnNDb250LndpZHRoKCkpLXRoaXMuJGVsZW1lbnQub3V0ZXJXaWR0aCghMSkpLzIpLGVmZmVjdF9jc3Nba2V5XT1iYXNlK3BhcnNlRmxvYXQoZWZmZWN0X2Nzc1trZXldKStcInB4XCIsc3RhcnRfY3NzX2VmZltrZXldPWJhc2UrXCJweFwiKSx0aGlzLiRlbGVtZW50LmNzcyhrZXksZWZmZWN0X2Nzc1trZXldKSk7dmFyIHRoYXQ9dGhpcztjbGVhclRpbWVvdXQodGhpcy50byksdGhpcy50bz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhhdC4kZWxlbWVudC5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJcIiksdGhhdC5fcGxheUFuaW1hdGlvbih0aGF0LnN0YXJ0X2FuaW0sc3RhcnRfY3NzX2VmZil9LHRoYXQuc3RhcnRfYW5pbS5kZWxheXx8LjAxKSx0aGlzLmNsVG89c2V0VGltZW91dChmdW5jdGlvbigpe3RoYXQuc2hvd19jbD0hMH0sKHRoaXMuc3RhcnRfYW5pbS5kZWxheXx8LjAxKSt0aGlzLnN0YXJ0X2FuaW0uZHVyYXRpb24pLHRoaXMuYXV0b0hpZGUmJihjbGVhclRpbWVvdXQodGhpcy5odG8pLHRoaXMuaHRvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGF0LmhpZGUoKX0sdGhhdC5lbmRfYW5pbS50aW1lKSl9fSxwLmhpZGU9ZnVuY3Rpb24oKXtpZighdGhpcy5zdGF0aWNMYXllcil7dGhpcy5pc1Nob3dpbmc9ITE7dmFyIGVmZmVjdF9jc3M9TVNMYXllckVmZmVjdHNbdGhpcy5lbmRfYW5pbS5lZmZfbmFtZV0uYXBwbHkobnVsbCx0aGlzLl9wYXJzZUVmZlBhcmFtcyh0aGlzLmVuZF9hbmltLmVmZl9wYXJhbXMpKTtmb3Ioa2V5IGluIGVmZmVjdF9jc3MpdGhpcy5fY2hlY2tQb3NLZXkoa2V5LGVmZmVjdF9jc3MpfHwoa2V5PT09d2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtT3JpZ2luXCImJnRoaXMuJGVsZW1lbnQuY3NzKGtleSxlZmZlY3RfY3NzW2tleV0pLGtleSBpbiB0aGlzLmJhc2VTdHlsZSYmKGVmZmVjdF9jc3Nba2V5XT10aGlzLmJhc2VTdHlsZVtrZXldK3BhcnNlRmxvYXQoZWZmZWN0X2Nzc1trZXldKStcInB4XCIpKTt0aGlzLl9wbGF5QW5pbWF0aW9uKHRoaXMuZW5kX2FuaW0sZWZmZWN0X2NzcyksY2xlYXJUaW1lb3V0KHRoaXMudG8pLGNsZWFyVGltZW91dCh0aGlzLmh0byksY2xlYXJUaW1lb3V0KHRoaXMuY2xUbyl9fSxwLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5zdGF0aWNMYXllcnx8KHRoaXMuaXNTaG93aW5nPSExLHRoaXMuJGVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLiRlbGVtZW50LmNzcyhcIm9wYWNpdHlcIixcIlwiKSx0aGlzLiRlbGVtZW50WzBdLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1cIlwiLHRoaXMuc2hvd190d2VlbiYmdGhpcy5zaG93X3R3ZWVuLnN0b3AoITApLGNsZWFyVGltZW91dCh0aGlzLnRvKSxjbGVhclRpbWVvdXQodGhpcy5odG8pKX0scC5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpLHRoaXMuJGVsZW1lbnQucmVtb3ZlKCl9LHAudmlzaWJsZT1mdW5jdGlvbih2YWx1ZSl7dGhpcy5pc1Zpc2libGUhPXZhbHVlJiYodGhpcy5pc1Zpc2libGU9dmFsdWUsdGhpcy4kZWxlbWVudC5jc3MoXCJkaXNwbGF5XCIsdmFsdWU/XCJcIjpcIm5vbmVcIikpfSxwLm1vdmVQYXJhbGxheD1mdW5jdGlvbih4LHksZmFzdCl7dGhpcy5fcGFyYVg9eCx0aGlzLl9wYXJhWT15LGZhc3QmJih0aGlzLl9sYXN0UGFyYVg9eCx0aGlzLl9sYXN0UGFyYVk9eSx0aGlzLnBhcmFsbGF4UmVuZGVyKCkpfSxwLl9wbGF5QW5pbWF0aW9uPWZ1bmN0aW9uKGFuaW1hdGlvbixjc3Mpe3ZhciBvcHRpb25zPXt9O2FuaW1hdGlvbi5lYXNlJiYob3B0aW9ucy5lYXNlPWFuaW1hdGlvbi5lYXNlKSxvcHRpb25zLnRyYW5zUHJvcGVydHk9d2luZG93Ll9jc3NwZngrXCJ0cmFuc2Zvcm0sb3BhY2l0eVwiLHRoaXMuc2hvd190d2Vlbj1DVHdlZW4uYW5pbWF0ZSh0aGlzLiRlbGVtZW50LGFuaW1hdGlvbi5kdXJhdGlvbixjc3Msb3B0aW9ucyl9LHAuX3JhbmRvbVBhcmFtPWZ1bmN0aW9uKHZhbHVlKXt2YXIgbWluPU51bWJlcih2YWx1ZS5zbGljZSgwLHZhbHVlLmluZGV4T2YoXCJ8XCIpKSksbWF4PU51bWJlcih2YWx1ZS5zbGljZSh2YWx1ZS5pbmRleE9mKFwifFwiKSsxKSk7cmV0dXJuIG1pbitNYXRoLnJhbmRvbSgpKihtYXgtbWluKX0scC5fcGFyc2VFZmY9ZnVuY3Rpb24oZWZmX25hbWUpe3ZhciBlZmZfcGFyYW1zPVtdO2lmKC0xIT09ZWZmX25hbWUuaW5kZXhPZihcIihcIikpe3ZhciB2YWx1ZSx0ZW1wPWVmZl9uYW1lLnNsaWNlKDAsZWZmX25hbWUuaW5kZXhPZihcIihcIikpLnRvTG93ZXJDYXNlKCk7ZWZmX3BhcmFtcz1lZmZfbmFtZS5zbGljZShlZmZfbmFtZS5pbmRleE9mKFwiKFwiKSsxLC0xKS5yZXBsYWNlKC9cXFwifFxcJ3xcXHMvZyxcIlwiKS5zcGxpdChcIixcIiksZWZmX25hbWU9dGVtcDtmb3IodmFyIGk9MCxsPWVmZl9wYXJhbXMubGVuZ3RoO2w+aTsrK2kpdmFsdWU9ZWZmX3BhcmFtc1tpXSx2YWx1ZSBpbiBNU0xheWVyRWZmZWN0cy5wcmVzZXRFZmZQYXJhbXMmJih2YWx1ZT1NU0xheWVyRWZmZWN0cy5wcmVzZXRFZmZQYXJhbXNbdmFsdWVdKSxlZmZfcGFyYW1zW2ldPXZhbHVlfXJldHVybntlZmZfbmFtZTplZmZfbmFtZSxlZmZfcGFyYW1zOmVmZl9wYXJhbXN9fSxwLl9wYXJzZUVmZlBhcmFtcz1mdW5jdGlvbihwYXJhbXMpe2Zvcih2YXIgZWZmX3BhcmFtcz1bXSxpPTAsbD1wYXJhbXMubGVuZ3RoO2w+aTsrK2kpe3ZhciB2YWx1ZT1wYXJhbXNbaV07XCJzdHJpbmdcIj09dHlwZW9mIHZhbHVlJiYtMSE9PXZhbHVlLmluZGV4T2YoXCJ8XCIpJiYodmFsdWU9dGhpcy5fcmFuZG9tUGFyYW0odmFsdWUpKSxlZmZfcGFyYW1zW2ldPXZhbHVlfXJldHVybiBlZmZfcGFyYW1zfSxwLl9jaGVja1Bvc0tleT1mdW5jdGlvbihrZXksc3R5bGUpe3JldHVyblwibGVmdFwiPT09a2V5JiYhKGtleSBpbiB0aGlzLmJhc2VTdHlsZSkmJlwicmlnaHRcImluIHRoaXMuYmFzZVN0eWxlPyhzdHlsZS5yaWdodD0tcGFyc2VJbnQoc3R5bGUubGVmdCkrXCJweFwiLGRlbGV0ZSBzdHlsZS5sZWZ0LCEwKTpcInRvcFwiPT09a2V5JiYhKGtleSBpbiB0aGlzLmJhc2VTdHlsZSkmJlwiYm90dG9tXCJpbiB0aGlzLmJhc2VTdHlsZT8oc3R5bGUuYm90dG9tPS1wYXJzZUludChzdHlsZS50b3ApK1wicHhcIixkZWxldGUgc3R5bGUudG9wLCEwKTohMX0scC5fcGFyYWxsYXhDYWxjPWZ1bmN0aW9uKCl7dmFyIHhfZGVmPXRoaXMuX3BhcmFYLXRoaXMuX2xhc3RQYXJhWCx5X2RlZj10aGlzLl9wYXJhWS10aGlzLl9sYXN0UGFyYVk7dGhpcy5fbGFzdFBhcmFYKz14X2RlZi8xMix0aGlzLl9sYXN0UGFyYVkrPXlfZGVmLzEyLE1hdGguYWJzKHhfZGVmKTwuMDE5JiYodGhpcy5fbGFzdFBhcmFYPXRoaXMuX3BhcmFYKSxNYXRoLmFicyh5X2RlZik8LjAxOSYmKHRoaXMuX2xhc3RQYXJhWT10aGlzLl9wYXJhWSl9LHAuX3BhcmFsbGF4Q1NTM0RSZW5kZXJlcj1mdW5jdGlvbigpe3RoaXMuX3BhcmFsbGF4Q2FsYygpLHRoaXMuJHBhcmFsbGF4RWxlbWVudFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVYKFwiK3RoaXMuX2xhc3RQYXJhWCp0aGlzLnBhcmFsbGF4K1wicHgpIHRyYW5zbGF0ZVkoXCIrdGhpcy5fbGFzdFBhcmFZKnRoaXMucGFyYWxsYXgrXCJweCkgdHJhbnNsYXRlWigwKVwifSxwLl9wYXJhbGxheENTUzJEUmVuZGVyZXI9ZnVuY3Rpb24oKXt0aGlzLl9wYXJhbGxheENhbGMoKSx0aGlzLiRwYXJhbGxheEVsZW1lbnRbMF0uc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwidHJhbnNsYXRlWChcIit0aGlzLl9sYXN0UGFyYVgqdGhpcy5wYXJhbGxheCtcInB4KSB0cmFuc2xhdGVZKFwiK3RoaXMuX2xhc3RQYXJhWSp0aGlzLnBhcmFsbGF4K1wicHgpXCJ9LHAuX3BhcmFsbGF4MkRSZW5kZXJlcj1mdW5jdGlvbigpe3RoaXMuX3BhcmFsbGF4Q2FsYygpLHRoaXMuYWxpZ25lZFRvQm90P3RoaXMuJHBhcmFsbGF4RWxlbWVudFswXS5zdHlsZS5ib3R0b209dGhpcy5fbGFzdFBhcmFZKnRoaXMucGFyYWxsYXgrXCJweFwiOnRoaXMuJHBhcmFsbGF4RWxlbWVudFswXS5zdHlsZS50b3A9dGhpcy5fbGFzdFBhcmFZKnRoaXMucGFyYWxsYXgrXCJweFwiLHRoaXMuJHBhcmFsbGF4RWxlbWVudFswXS5zdHlsZS5sZWZ0PXRoaXMuX2xhc3RQYXJhWCp0aGlzLnBhcmFsbGF4K1wicHhcIn19KGpRdWVyeSksZnVuY3Rpb24oJCl7d2luZG93Lk1TSW1hZ2VMYXllckVsZW1lbnQ9ZnVuY3Rpb24oKXtNU0xheWVyRWxlbWVudC5jYWxsKHRoaXMpLHRoaXMubmVlZFByZWxvYWQ9ITAsdGhpcy5fX2Nzc0NvbmZpZz1bXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJtYXJnaW4tdG9wXCIsXCJwYWRkaW5nLXRvcFwiLFwibWFyZ2luLWJvdHRvbVwiLFwicGFkZGluZy1sZWZ0XCIsXCJtYXJnaW4tcmlnaHRcIixcInBhZGRpbmctcmlnaHRcIixcIm1hcmdpbi1sZWZ0XCIsXCJwYWRkaW5nLWJvdHRvbVwiLFwibGVmdFwiLFwicmlnaHRcIixcInRvcFwiLFwiYm90dG9tXCJdLHRoaXMudHlwZT1cImltYWdlXCJ9LE1TSW1hZ2VMYXllckVsZW1lbnQuZXh0ZW5kKE1TTGF5ZXJFbGVtZW50KTt2YXIgcD1NU0ltYWdlTGF5ZXJFbGVtZW50LnByb3RvdHlwZSxfc3VwZXI9TVNMYXllckVsZW1lbnQucHJvdG90eXBlO3AuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5saW5rKXt2YXIgcD10aGlzLiRlbGVtZW50LnBhcmVudCgpO3AuYXBwZW5kKHRoaXMubGluayksdGhpcy5saW5rLmFwcGVuZCh0aGlzLiRlbGVtZW50KSx0aGlzLmxpbmsucmVtb3ZlQ2xhc3MoXCJtcy1sYXllclwiKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwibXMtbGF5ZXJcIikscD1udWxsfWlmKF9zdXBlci5jcmVhdGUuY2FsbCh0aGlzKSx2b2lkIDAhPXRoaXMuJGVsZW1lbnQuZGF0YShcInNyY1wiKSl0aGlzLmltZ19zcmM9dGhpcy4kZWxlbWVudC5kYXRhKFwic3JjXCIpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQXR0cihcImRhdGEtc3JjXCIpO2Vsc2V7dmFyIHRoYXQ9dGhpczt0aGlzLiRlbGVtZW50Lm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dGhhdC5jb250cm9sbGVyLnByZWxvYWRDb3VudC0tLDA9PT10aGF0LmNvbnRyb2xsZXIucHJlbG9hZENvdW50JiZ0aGF0LmNvbnRyb2xsZXIuX29ubGF5ZXJzUmVhZHkoKX0pLmVhY2goJC5qcUxvYWRGaXgpfSQuYnJvd3Nlci5tc2llJiZ0aGlzLiRlbGVtZW50Lm9uKFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oZXZlbnQpe2V2ZW50LnByZXZlbnREZWZhdWx0KCl9KX0scC5sb2FkSW1hZ2U9ZnVuY3Rpb24oKXt2YXIgdGhhdD10aGlzO3RoaXMuJGVsZW1lbnQucHJlbG9hZEltZyh0aGlzLmltZ19zcmMsZnVuY3Rpb24oKXt0aGF0LmNvbnRyb2xsZXIucHJlbG9hZENvdW50LS0sMD09PXRoYXQuY29udHJvbGxlci5wcmVsb2FkQ291bnQmJnRoYXQuY29udHJvbGxlci5fb25sYXllcnNSZWFkeSgpfSl9fShqUXVlcnkpLGZ1bmN0aW9uKCQpe3dpbmRvdy5NU1ZpZGVvTGF5ZXJFbGVtZW50PWZ1bmN0aW9uKCl7TVNMYXllckVsZW1lbnQuY2FsbCh0aGlzKSx0aGlzLl9fY3NzQ29uZmlnLnB1c2goXCJoZWlnaHRcIiksdGhpcy50eXBlPVwidmlkZW9cIn0sTVNWaWRlb0xheWVyRWxlbWVudC5leHRlbmQoTVNMYXllckVsZW1lbnQpO3ZhciBwPU1TVmlkZW9MYXllckVsZW1lbnQucHJvdG90eXBlLF9zdXBlcj1NU0xheWVyRWxlbWVudC5wcm90b3R5cGU7cC5fX3BsYXlWaWRlbz1mdW5jdGlvbigpe3RoaXMuaW1nJiZDVHdlZW4uZmFkZU91dCh0aGlzLmltZyw1MDAsMiksQ1R3ZWVuLmZhZGVPdXQodGhpcy52aWRlb19idG4sNTAwLDIpLHRoaXMudmlkZW9fZnJhbWUuYXR0cihcInNyY1wiLFwiYWJvdXQ6YmxhbmtcIikuY3NzKFwiZGlzcGxheVwiLFwiYmxvY2tcIiksLTE9PXRoaXMudmlkZW9fdXJsLmluZGV4T2YoXCI/XCIpJiYodGhpcy52aWRlb191cmwrPVwiP1wiKSx0aGlzLnZpZGVvX2ZyYW1lLmF0dHIoXCJzcmNcIix0aGlzLnZpZGVvX3VybCtcIiZhdXRvcGxheT0xXCIpfSxwLnN0YXJ0PWZ1bmN0aW9uKCl7X3N1cGVyLnN0YXJ0LmNhbGwodGhpcyksdGhpcy4kZWxlbWVudC5kYXRhKFwiYXV0b3BsYXlcIikmJnRoaXMuX19wbGF5VmlkZW8oKX0scC5yZXNldD1mdW5jdGlvbigpe3JldHVybiBfc3VwZXIucmVzZXQuY2FsbCh0aGlzKSwodGhpcy5uZWVkUHJlbG9hZHx8dGhpcy4kZWxlbWVudC5kYXRhKFwiYnRuXCIpKSYmKHRoaXMudmlkZW9fYnRuLmNzcyhcIm9wYWNpdHlcIiwxKS5jc3MoXCJkaXNwbGF5XCIsXCJibG9ja1wiKSx0aGlzLnZpZGVvX2ZyYW1lLmF0dHIoXCJzcmNcIixcImFib3V0OmJsYW5rXCIpLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIikpLHRoaXMubmVlZFByZWxvYWQ/dm9pZCB0aGlzLmltZy5jc3MoXCJvcGFjaXR5XCIsMSkuY3NzKFwiZGlzcGxheVwiLFwiYmxvY2tcIik6dm9pZCB0aGlzLnZpZGVvX2ZyYW1lLmF0dHIoXCJzcmNcIix0aGlzLnZpZGVvX3VybCl9LHAuY3JlYXRlPWZ1bmN0aW9uKCl7X3N1cGVyLmNyZWF0ZS5jYWxsKHRoaXMpLHRoaXMudmlkZW9fZnJhbWU9dGhpcy4kZWxlbWVudC5maW5kKFwiaWZyYW1lXCIpLmNzcyh7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwifSksdGhpcy52aWRlb191cmw9dGhpcy52aWRlb19mcmFtZS5hdHRyKFwic3JjXCIpO3ZhciBoYXNfaW1nPTAhPXRoaXMuJGVsZW1lbnQuaGFzKFwiaW1nXCIpLmxlbmd0aDtpZihoYXNfaW1nfHx0aGlzLiRlbGVtZW50LmRhdGEoXCJidG5cIikpe3RoaXMudmlkZW9fZnJhbWUuYXR0cihcInNyY1wiLFwiYWJvdXQ6YmxhbmtcIikuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKTt2YXIgdGhhdD10aGlzO2lmKHRoaXMudmlkZW9fYnRuPSQoXCI8ZGl2PjwvZGl2PlwiKS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KS5hZGRDbGFzcyhcIm1zLXZpZGVvLWJ0blwiKS5jbGljayhmdW5jdGlvbigpe3RoYXQuX19wbGF5VmlkZW8oKX0pLGhhc19pbWcpe2lmKHRoaXMubmVlZFByZWxvYWQ9ITAsdGhpcy5pbWc9dGhpcy4kZWxlbWVudC5maW5kKFwiaW1nOmZpcnN0XCIpLmFkZENsYXNzKFwibXMtdmlkZW8taW1nXCIpLHZvaWQgMCE9PXRoaXMuaW1nLmRhdGEoXCJzcmNcIikpdGhpcy5pbWdfc3JjPXRoaXMuaW1nLmRhdGEoXCJzcmNcIiksdGhpcy5pbWcucmVtb3ZlQXR0cihcImRhdGEtc3JjXCIpO2Vsc2V7dmFyIHRoYXQ9dGhpczt0aGlzLmltZy5hdHRyKFwic3JjXCIsdGhpcy5pbWdfc3JjKS5vbihcImxvYWRcIixmdW5jdGlvbigpe3RoYXQuY29udHJvbGxlci5wcmVsb2FkQ291bnQtLSwwPT09dGhhdC5jb250cm9sbGVyLnByZWxvYWRDb3VudCYmdGhhdC5jb250cm9sbGVyLl9vbmxheWVyc1JlYWR5KCl9KS5lYWNoKCQuanFMb2FkRml4KX0kLmJyb3dzZXIubXNpZSYmdGhpcy5pbWcub24oXCJkcmFnc3RhcnRcIixmdW5jdGlvbihldmVudCl7ZXZlbnQucHJldmVudERlZmF1bHQoKX0pfX19LHAubG9hZEltYWdlPWZ1bmN0aW9uKCl7dmFyIHRoYXQ9dGhpczt0aGlzLmltZy5wcmVsb2FkSW1nKHRoaXMuaW1nX3NyYyxmdW5jdGlvbigpe3RoYXQuY29udHJvbGxlci5wcmVsb2FkQ291bnQtLSwwPT09dGhhdC5jb250cm9sbGVyLnByZWxvYWRDb3VudCYmdGhhdC5jb250cm9sbGVyLl9vbmxheWVyc1JlYWR5KCl9KX19KGpRdWVyeSksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7d2luZG93Lk1TSG90c3BvdExheWVyPWZ1bmN0aW9uKCl7TVNMYXllckVsZW1lbnQuY2FsbCh0aGlzKSx0aGlzLl9fY3NzQ29uZmlnPVtcIm1hcmdpbi10b3BcIixcInBhZGRpbmctdG9wXCIsXCJtYXJnaW4tYm90dG9tXCIsXCJwYWRkaW5nLWxlZnRcIixcIm1hcmdpbi1yaWdodFwiLFwicGFkZGluZy1yaWdodFwiLFwibWFyZ2luLWxlZnRcIixcInBhZGRpbmctYm90dG9tXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwidG9wXCIsXCJib3R0b21cIl0sdGhpcy5lYXNlPVwiRXhwb1wiLHRoaXMuaGlkZV9zdGFydD0hMCx0aGlzLnR5cGU9XCJob3RzcG90XCJ9LE1TSG90c3BvdExheWVyLmV4dGVuZChNU0xheWVyRWxlbWVudCk7dmFyIHA9TVNIb3RzcG90TGF5ZXIucHJvdG90eXBlLF9zdXBlcj1NU0xheWVyRWxlbWVudC5wcm90b3R5cGU7cC5fc2hvd1RUPWZ1bmN0aW9uKCl7dGhpcy5zaG93X2NsJiYoY2xlYXJUaW1lb3V0KHRoaXMuaHRvKSx0aGlzLl90d2VlbiYmdGhpcy5fdHdlZW4uc3RvcCghMCksdGhpcy5oaWRlX3N0YXJ0JiYodGhpcy5hbGlnbj10aGlzLl9vcmdBbGlnbix0aGlzLl9sb2NhdGVUVCgpLHRoaXMudHQuY3NzKHtkaXNwbGF5OlwiYmxvY2tcIn0pLHRoaXMuX3R3ZWVuPUNUd2Vlbi5hbmltYXRlKHRoaXMudHQsOTAwLHRoaXMudG8se2Vhc2U6XCJlYXNlT3V0XCIrdGhpcy5lYXNlfSksdGhpcy5oaWRlX3N0YXJ0PSExKSl9LHAuX2hpZGVUVD1mdW5jdGlvbigpe2lmKHRoaXMuc2hvd19jbCl7dGhpcy5fdHdlZW4mJnRoaXMuX3R3ZWVuLnN0b3AoITApO3ZhciB0aGF0PXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMuaHRvKSx0aGlzLmh0bz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhhdC5oaWRlX3N0YXJ0PSEwLHRoYXQuX3R3ZWVuPUNUd2Vlbi5hbmltYXRlKHRoYXQudHQsOTAwLHRoYXQuZnJvbSx7ZWFzZTpcImVhc2VPdXRcIit0aGF0LmVhc2UsY29tcGxldGU6ZnVuY3Rpb24oKXt0aGF0LnR0LmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIil9fSl9LDIwMCl9fSxwLl91cGRhdGVDbGFzc05hbWU9ZnVuY3Rpb24obmFtZSl7dGhpcy5fbGFzdENsYXNzJiZ0aGlzLnR0LnJlbW92ZUNsYXNzKHRoaXMuX2xhc3RDbGFzcyksdGhpcy50dC5hZGRDbGFzcyhuYW1lKSx0aGlzLl9sYXN0Q2xhc3M9bmFtZX0scC5fYWxpZ25Qb2xpY3k9ZnVuY3Rpb24oKXt7dmFyIHc9KHRoaXMudHQub3V0ZXJIZWlnaHQoITEpLE1hdGgubWF4KHRoaXMudHQub3V0ZXJXaWR0aCghMSkscGFyc2VJbnQodGhpcy50dC5jc3MoXCJtYXgtd2lkdGhcIikpKSksd3c9d2luZG93LmlubmVyV2lkdGg7d2luZG93LmlubmVySGVpZ2h0fXN3aXRjaCh0aGlzLmFsaWduKXtjYXNlXCJ0b3BcIjppZih0aGlzLmJhc2VfdDwwKXJldHVyblwiYm90dG9tXCI7YnJlYWs7Y2FzZVwicmlnaHRcIjppZih0aGlzLmJhc2VfbCt3Pnd3fHx0aGlzLmJhc2VfdDwwKXJldHVyblwiYm90dG9tXCI7YnJlYWs7Y2FzZVwibGVmdFwiOmlmKHRoaXMuYmFzZV9sPDB8fHRoaXMuYmFzZV90PDApcmV0dXJuXCJib3R0b21cIn1yZXR1cm4gbnVsbH0scC5fbG9jYXRlVFQ9ZnVuY3Rpb24oKXt2YXIgb3M9dGhpcy4kZWxlbWVudC5vZmZzZXQoKSxvczI9dGhpcy5zbGlkZS5zbGlkZXIuJGVsZW1lbnQub2Zmc2V0KCksZGlzdD01MCxzcGFjZT0xNTt0aGlzLnBvc194PW9zLmxlZnQtb3MyLmxlZnQtdGhpcy5zbGlkZS5zbGlkZXIuJGVsZW1lbnQuc2Nyb2xsTGVmdCgpLHRoaXMucG9zX3k9b3MudG9wLW9zMi50b3AtdGhpcy5zbGlkZS5zbGlkZXIuJGVsZW1lbnQuc2Nyb2xsVG9wKCksdGhpcy5mcm9tPXtvcGFjaXR5OjB9LHRoaXMudG89e29wYWNpdHk6MX0sdGhpcy5fdXBkYXRlQ2xhc3NOYW1lKFwibXMtdG9vbHRpcC1cIit0aGlzLmFsaWduKSx0aGlzLnR0X2Fycm93LmNzcyhcIm1hcmdpbi1sZWZ0XCIsXCJcIik7dmFyIGFycm93X3c9MTUsYXJyb3dfaD0xNTtzd2l0Y2godGhpcy5hbGlnbil7Y2FzZVwidG9wXCI6dmFyIHc9TWF0aC5taW4odGhpcy50dC5vdXRlcldpZHRoKCExKSxwYXJzZUludCh0aGlzLnR0LmNzcyhcIm1heC13aWR0aFwiKSkpO3RoaXMuYmFzZV90PXRoaXMucG9zX3ktdGhpcy50dC5vdXRlckhlaWdodCghMSktYXJyb3dfaC1zcGFjZSx0aGlzLmJhc2VfbD10aGlzLnBvc194LXcvMix0aGlzLmJhc2VfbCt3PndpbmRvdy5pbm5lcldpZHRoJiYodGhpcy50dF9hcnJvdy5jc3MoXCJtYXJnaW4tbGVmdFwiLC1hcnJvd193LzIrdGhpcy5iYXNlX2wrdy13aW5kb3cuaW5uZXJXaWR0aCtcInB4XCIpLHRoaXMuYmFzZV9sPXdpbmRvdy5pbm5lcldpZHRoLXcpLHRoaXMuYmFzZV9sPDAmJih0aGlzLmJhc2VfbD0wLHRoaXMudHRfYXJyb3cuY3NzKFwibWFyZ2luLWxlZnRcIiwtYXJyb3dfdy8yK3RoaXMucG9zX3gtdGhpcy50dC5vdXRlcldpZHRoKCExKS8yK1wicHhcIikpLHdpbmRvdy5fY3NzM2Q/KHRoaXMuZnJvbVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVZKC1cIitkaXN0K1wicHgpXCIsdGhpcy50b1t3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJcIik6KHRoaXMuZnJvbS50b3A9dGhpcy5iYXNlX3QtZGlzdCtcInB4XCIsdGhpcy50by50b3A9dGhpcy5iYXNlX3QrXCJweFwiKTticmVhaztjYXNlXCJib3R0b21cIjp2YXIgdz1NYXRoLm1pbih0aGlzLnR0Lm91dGVyV2lkdGgoITEpLHBhcnNlSW50KHRoaXMudHQuY3NzKFwibWF4LXdpZHRoXCIpKSk7dGhpcy5iYXNlX3Q9dGhpcy5wb3NfeSthcnJvd19oK3NwYWNlLHRoaXMuYmFzZV9sPXRoaXMucG9zX3gtdy8yLHRoaXMuYmFzZV9sK3c+d2luZG93LmlubmVyV2lkdGgmJih0aGlzLnR0X2Fycm93LmNzcyhcIm1hcmdpbi1sZWZ0XCIsLWFycm93X3cvMit0aGlzLmJhc2VfbCt3LXdpbmRvdy5pbm5lcldpZHRoK1wicHhcIiksdGhpcy5iYXNlX2w9d2luZG93LmlubmVyV2lkdGgtdyksdGhpcy5iYXNlX2w8MCYmKHRoaXMuYmFzZV9sPTAsdGhpcy50dF9hcnJvdy5jc3MoXCJtYXJnaW4tbGVmdFwiLC1hcnJvd193LzIrdGhpcy5wb3NfeC10aGlzLnR0Lm91dGVyV2lkdGgoITEpLzIrXCJweFwiKSksd2luZG93Ll9jc3MzZD8odGhpcy5mcm9tW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVkoXCIrZGlzdCtcInB4KVwiLHRoaXMudG9bd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwiXCIpOih0aGlzLmZyb20udG9wPXRoaXMuYmFzZV90K2Rpc3QrXCJweFwiLHRoaXMudG8udG9wPXRoaXMuYmFzZV90K1wicHhcIik7YnJlYWs7Y2FzZVwicmlnaHRcIjp0aGlzLmJhc2VfbD10aGlzLnBvc194K2Fycm93X3crc3BhY2UsdGhpcy5iYXNlX3Q9dGhpcy5wb3NfeS10aGlzLnR0Lm91dGVySGVpZ2h0KCExKS8yLHdpbmRvdy5fY3NzM2Q/KHRoaXMuZnJvbVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVYKFwiK2Rpc3QrXCJweClcIix0aGlzLnRvW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cIlwiKToodGhpcy5mcm9tLmxlZnQ9dGhpcy5iYXNlX2wrZGlzdCtcInB4XCIsdGhpcy50by5sZWZ0PXRoaXMuYmFzZV9sK1wicHhcIik7YnJlYWs7Y2FzZVwibGVmdFwiOnRoaXMuYmFzZV9sPXRoaXMucG9zX3gtYXJyb3dfdy10aGlzLnR0Lm91dGVyV2lkdGgoITEpLXNwYWNlLHRoaXMuYmFzZV90PXRoaXMucG9zX3ktdGhpcy50dC5vdXRlckhlaWdodCghMSkvMix3aW5kb3cuX2NzczNkPyh0aGlzLmZyb21bd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwidHJhbnNsYXRlWCgtXCIrZGlzdCtcInB4KVwiLHRoaXMudG9bd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwiXCIpOih0aGlzLmZyb20ubGVmdD10aGlzLmJhc2VfbC1kaXN0K1wicHhcIix0aGlzLnRvLmxlZnQ9dGhpcy5iYXNlX2wrXCJweFwiKX12YXIgcG9saWN5QWxpZ249dGhpcy5fYWxpZ25Qb2xpY3koKTtyZXR1cm4gbnVsbCE9PXBvbGljeUFsaWduPyh0aGlzLmFsaWduPXBvbGljeUFsaWduLHZvaWQgdGhpcy5fbG9jYXRlVFQoKSk6KHRoaXMudHQuY3NzKFwidG9wXCIscGFyc2VJbnQodGhpcy5iYXNlX3QpK1wicHhcIikuY3NzKFwibGVmdFwiLHBhcnNlSW50KHRoaXMuYmFzZV9sKStcInB4XCIpLHZvaWQgdGhpcy50dC5jc3ModGhpcy5mcm9tKSl9LHAuc3RhcnQ9ZnVuY3Rpb24oKXtfc3VwZXIuc3RhcnQuY2FsbCh0aGlzKSx0aGlzLnR0LmFwcGVuZFRvKHRoaXMuc2xpZGUuc2xpZGVyLiRlbGVtZW50KSx0aGlzLnR0LmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIil9LHAucmVzZXQ9ZnVuY3Rpb24oKXtfc3VwZXIucmVzZXQuY2FsbCh0aGlzKSx0aGlzLnR0LmRldGFjaCgpfSxwLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciB0aGF0PXRoaXM7dGhpcy5fb3JnQWxpZ249dGhpcy5hbGlnbj12b2lkIDAhPT10aGlzLiRlbGVtZW50LmRhdGEoXCJhbGlnblwiKT90aGlzLiRlbGVtZW50LmRhdGEoXCJhbGlnblwiKTpcInRvcFwiLHRoaXMuZGF0YT10aGlzLiRlbGVtZW50Lmh0bWwoKSx0aGlzLiRlbGVtZW50Lmh0bWwoXCJcIikub24oXCJtb3VzZWVudGVyXCIsZnVuY3Rpb24oKXt0aGF0Ll9zaG93VFQoKX0pLm9uKFwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKCl7dGhhdC5faGlkZVRUKCl9KSx0aGlzLnBvaW50PSQoJzxkaXY+PGRpdiBjbGFzcz1cIm1zLXBvaW50LWNlbnRlclwiPjwvZGl2PjxkaXYgY2xhc3M9XCJtcy1wb2ludC1ib3JkZXJcIj48L2Rpdj48L2Rpdj4nKS5hZGRDbGFzcyhcIm1zLXRvb2x0aXAtcG9pbnRcIikuYXBwZW5kVG8odGhpcy4kZWxlbWVudCk7dmFyIGxpbms9dGhpcy4kZWxlbWVudC5kYXRhKFwibGlua1wiKSx0YXJnZXQ9dGhpcy4kZWxlbWVudC5kYXRhKFwidGFyZ2V0XCIpO2xpbmsmJnRoaXMucG9pbnQub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7d2luZG93Lm9wZW4obGluayx0YXJnZXR8fFwiX3NlbGZcIil9KSx0aGlzLnR0PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXRvb2x0aXBcIikuY3NzKFwiZGlzcGxheVwiLFwiaGlkZGVuXCIpLmNzcyhcIm9wYWNpdHlcIiwwKSx2b2lkIDAhPT10aGlzLiRlbGVtZW50LmRhdGEoXCJ3aWR0aFwiKSYmdGhpcy50dC5jc3MoXCJ3aWR0aFwiLHRoaXMuJGVsZW1lbnQuZGF0YShcIndpZHRoXCIpKS5jc3MoXCJtYXgtd2lkdGhcIix0aGlzLiRlbGVtZW50LmRhdGEoXCJ3aWR0aFwiKSksdGhpcy50dF9hcnJvdz0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy10b29sdGlwLWFycm93XCIpLmFwcGVuZFRvKHRoaXMudHQpLHRoaXMuX3VwZGF0ZUNsYXNzTmFtZShcIm1zLXRvb2x0aXAtXCIrdGhpcy5hbGlnbiksdGhpcy50dGNvbnQ9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtdG9vbHRpcC1jb250XCIpLmh0bWwodGhpcy5kYXRhKS5hcHBlbmRUbyh0aGlzLnR0KSx0aGlzLiRlbGVtZW50LmRhdGEoXCJzdGF5LWhvdmVyXCIpPT09ITAmJnRoaXMudHQub24oXCJtb3VzZWVudGVyXCIsZnVuY3Rpb24oKXt0aGF0LmhpZGVfc3RhcnR8fChjbGVhclRpbWVvdXQodGhhdC5odG8pLHRoYXQuX3R3ZWVuLnN0b3AoITApLHRoYXQuX3Nob3dUVCgpKX0pLm9uKFwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKCl7dGhhdC5faGlkZVRUKCl9KSxfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyl9fShqUXVlcnkpLGZ1bmN0aW9uKCl7d2luZG93Lk1TQnV0dG9uTGF5ZXI9ZnVuY3Rpb24oKXtNU0xheWVyRWxlbWVudC5jYWxsKHRoaXMpLHRoaXMudHlwZT1cImJ1dHRvblwifSxNU0J1dHRvbkxheWVyLmV4dGVuZChNU0xheWVyRWxlbWVudCk7dmFyIHA9TVNCdXR0b25MYXllci5wcm90b3R5cGUsX3N1cGVyPU1TTGF5ZXJFbGVtZW50LnByb3RvdHlwZSxwb3NpdGlvbktpZXM9W1widG9wXCIsXCJsZWZ0XCIsXCJib3R0b21cIixcInJpZ2h0XCJdO3AuY3JlYXRlPWZ1bmN0aW9uKCl7X3N1cGVyLmNyZWF0ZS5jYWxsKHRoaXMpLHRoaXMuJGVsZW1lbnQud3JhcCgnPGRpdiBjbGFzcz1cIm1zLWJ0bi1jb250YWluZXJcIj48L2Rpdj4nKS5jc3MoXCJwb3NpdGlvblwiLFwicmVsYXRpdmVcIiksdGhpcy4kY29udGFpbmVyPXRoaXMuJGVsZW1lbnQucGFyZW50KCl9LHAubG9jYXRlPWZ1bmN0aW9uKCl7X3N1cGVyLmxvY2F0ZS5jYWxsKHRoaXMpO2Zvcih2YXIga2V5LHRlbXBWYWx1ZSxpPTA7ND5pO2krKylrZXk9cG9zaXRpb25LaWVzW2ldLGtleSBpbiB0aGlzLmJhc2VTdHlsZSYmKHRlbXBWYWx1ZT10aGlzLiRlbGVtZW50LmNzcyhrZXkpLHRoaXMuJGVsZW1lbnQuY3NzKGtleSxcIlwiKSx0aGlzLiRjb250YWluZXIuY3NzKGtleSx0ZW1wVmFsdWUpKTt0aGlzLiRjb250YWluZXIud2lkdGgodGhpcy4kZWxlbWVudC5vdXRlcldpZHRoKCEwKSkuaGVpZ2h0KHRoaXMuJGVsZW1lbnQub3V0ZXJIZWlnaHQoITApKX19KGpRdWVyeSksd2luZG93Lk1TU2xpZGVyRXZlbnQ9ZnVuY3Rpb24odHlwZSl7dGhpcy50eXBlPXR5cGV9LE1TU2xpZGVyRXZlbnQuQ0hBTkdFX1NUQVJUPVwibXNfY2hhbmdlc3RhcnRcIixNU1NsaWRlckV2ZW50LkNIQU5HRV9FTkQ9XCJtc19jaGFuZ2VlbmRcIixNU1NsaWRlckV2ZW50LldBSVRJTkc9XCJtc193YWl0aW5nXCIsTVNTbGlkZXJFdmVudC5BVVRPUExBWV9DSEFOR0U9XCJtc19hdXRvcGxheWNoYW5nZVwiLE1TU2xpZGVyRXZlbnQuVklERU9fUExBWT1cIm1zX3ZpZGVvUGxheVwiLE1TU2xpZGVyRXZlbnQuVklERU9fQ0xPU0U9XCJtc192aWRlb2Nsb3NlXCIsTVNTbGlkZXJFdmVudC5JTklUPVwibXNfaW5pdFwiLE1TU2xpZGVyRXZlbnQuSEFSRF9VUERBVEU9XCJtc19oYXJkX3VwZGF0ZVwiLE1TU2xpZGVyRXZlbnQuUkVTSVpFPVwibXNfcmVzaXplXCIsTVNTbGlkZXJFdmVudC5SRVNFUlZFRF9TUEFDRV9DSEFOR0U9XCJtc19yc2NcIixNU1NsaWRlckV2ZW50LkRFU1RST1k9XCJtc19kZXN0cm95XCIsZnVuY3Rpb24od2luZG93LGRvY3VtZW50LCQpe1widXNlIHN0cmljdFwiO3dpbmRvdy5NU1NsaWRlPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudD1udWxsLHRoaXMuJGxvYWRpbmc9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtc2xpZGUtbG9hZGluZ1wiKSx0aGlzLnZpZXc9bnVsbCx0aGlzLmluZGV4PS0xLHRoaXMuX193aWR0aD0wLHRoaXMuX19oZWlnaHQ9MCx0aGlzLmZpbGxNb2RlPVwiZmlsbFwiLHRoaXMuc2VsZWN0ZWQ9ITEsdGhpcy5wc2VsZWN0ZWQ9ITEsdGhpcy5hdXRvQXBwZW5kPSEwLHRoaXMuaXNTbGVlcGluZz0hMCx0aGlzLm1vej0kLmJyb3dzZXIubW96aWxsYX07dmFyIHA9TVNTbGlkZS5wcm90b3R5cGU7cC5vblN3aXBlU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmxpbmsmJih0aGlzLmxpbmtkaXM9ITApLHRoaXMudmlkZW8mJih0aGlzLnZpZGVvZGlzPSEwKX0scC5vblN3aXBlTW92ZT1mdW5jdGlvbihlKXt2YXIgbW92ZT1NYXRoLm1heChNYXRoLmFicyhlLmRhdGEuZGlzdGFuY2VYKSxNYXRoLmFicyhlLmRhdGEuZGlzdGFuY2VZKSk7dGhpcy5zd2lwZU1vdmVkPW1vdmU+NH0scC5vblN3aXBlQ2FuY2VsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3dpcGVNb3ZlZD92b2lkKHRoaXMuc3dpcGVNb3ZlZD0hMSk6KHRoaXMubGluayYmKHRoaXMubGlua2Rpcz0hMSksdm9pZCh0aGlzLnZpZGVvJiYodGhpcy52aWRlb2Rpcz0hMSkpKX0scC5zZXR1cExheWVyQ29udHJvbGxlcj1mdW5jdGlvbigpe3RoaXMuaGFzTGF5ZXJzPSEwLHRoaXMubGF5ZXJDb250cm9sbGVyPW5ldyBNU0xheWVyQ29udHJvbGxlcih0aGlzKX0scC5hc3NldHNMb2FkZWQ9ZnVuY3Rpb24oKXt0aGlzLnJlYWR5PSEwLHRoaXMuc2xpZGVyLmFwaS5fc3RhcnRUaW1lcigpLCh0aGlzLnNlbGVjdGVkfHx0aGlzLnBzZWxlY3RlZCYmdGhpcy5zbGlkZXIub3B0aW9ucy5pbnN0YW50U3RhcnRMYXllcnMpJiYodGhpcy5oYXNMYXllcnMmJnRoaXMubGF5ZXJDb250cm9sbGVyLnNob3dMYXllcnMoKSx0aGlzLnZpbml0JiYodGhpcy5iZ3ZpZGVvLnBsYXkoKSx0aGlzLmF1dG9QYXVzZUJnVmlkfHwodGhpcy5iZ3ZpZGVvLmN1cnJlbnRUaW1lPTApKSksdGhpcy5pc1NsZWVwaW5nfHx0aGlzLnNldHVwQkcoKSxDVHdlZW4uZmFkZU91dCh0aGlzLiRsb2FkaW5nLDMwMCwhMCksKDA9PT10aGlzLnNsaWRlci5vcHRpb25zLnByZWxvYWR8fFwiYWxsXCI9PT10aGlzLnNsaWRlci5vcHRpb25zLnByZWxvYWQpJiZ0aGlzLmluZGV4PHRoaXMudmlldy5zbGlkZUxpc3QubGVuZ3RoLTE/dGhpcy52aWV3LnNsaWRlTGlzdFt0aGlzLmluZGV4KzFdLmxvYWRJbWFnZXMoKTpcImFsbFwiPT09dGhpcy5zbGlkZXIub3B0aW9ucy5wcmVsb2FkJiZ0aGlzLmluZGV4PT09dGhpcy52aWV3LnNsaWRlTGlzdC5sZW5ndGgtMSYmdGhpcy5zbGlkZXIuX3JlbW92ZUxvYWRpbmcoKX0scC5zZXRCRz1mdW5jdGlvbihpbWcpe3RoaXMuaGFzQkc9ITA7dmFyIHRoYXQ9dGhpczt0aGlzLiRpbWdjb250PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXNsaWRlLWJnY29udFwiKSx0aGlzLiRlbGVtZW50LmFwcGVuZCh0aGlzLiRsb2FkaW5nKS5hcHBlbmQodGhpcy4kaW1nY29udCksdGhpcy4kYmdfaW1nPSQoaW1nKS5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksdGhpcy4kaW1nY29udC5hcHBlbmQodGhpcy4kYmdfaW1nKSx0aGlzLmJnQWxpZ25lcj1uZXcgTVNBbGlnbmVyKHRoYXQuZmlsbE1vZGUsdGhhdC4kaW1nY29udCx0aGF0LiRiZ19pbWcpLHRoaXMuYmdBbGlnbmVyLndpZHRoT25seT10aGlzLnNsaWRlci5vcHRpb25zLmF1dG9IZWlnaHQsdGhhdC5zbGlkZXIub3B0aW9ucy5hdXRvSGVpZ2h0JiYodGhhdC5wc2VsZWN0ZWR8fHRoYXQuc2VsZWN0ZWQpJiZ0aGF0LnNsaWRlci5zZXRIZWlnaHQodGhhdC5zbGlkZXIub3B0aW9ucy5oZWlnaHQpLHZvaWQgMCE9PXRoaXMuJGJnX2ltZy5kYXRhKFwic3JjXCIpPyh0aGlzLmJnX3NyYz10aGlzLiRiZ19pbWcuZGF0YShcInNyY1wiKSx0aGlzLiRiZ19pbWcucmVtb3ZlQXR0cihcImRhdGEtc3JjXCIpKTp0aGlzLiRiZ19pbWcub25lKFwibG9hZFwiLGZ1bmN0aW9uKGV2ZW50KXt0aGF0Ll9vbkJHTG9hZChldmVudCl9KS5lYWNoKCQuanFMb2FkRml4KX0scC5zZXR1cEJHPWZ1bmN0aW9uKCl7IXRoaXMuaW5pdEJHJiZ0aGlzLmJnTG9hZGVkJiYodGhpcy5pbml0Qkc9ITAsdGhpcy4kYmdfaW1nLmNzcyhcInZpc2liaWxpdHlcIixcIlwiKSx0aGlzLmJnV2lkdGg9dGhpcy5iZ05hdHJ1YWxXaWR0aHx8dGhpcy4kYmdfaW1nLndpZHRoKCksdGhpcy5iZ0hlaWdodD10aGlzLmJnTmF0cnVhbEhlaWdodHx8dGhpcy4kYmdfaW1nLmhlaWdodCgpLENUd2Vlbi5mYWRlSW4odGhpcy4kaW1nY29udCwzMDApLHRoaXMuc2xpZGVyLm9wdGlvbnMuYXV0b0hlaWdodCYmdGhpcy4kaW1nY29udC5oZWlnaHQodGhpcy5iZ0hlaWdodCp0aGlzLnJhdGlvKSx0aGlzLmJnQWxpZ25lci5pbml0KHRoaXMuYmdXaWR0aCx0aGlzLmJnSGVpZ2h0KSx0aGlzLnNldFNpemUodGhpcy5fX3dpZHRoLHRoaXMuX19oZWlnaHQpLHRoaXMuc2xpZGVyLm9wdGlvbnMuYXV0b0hlaWdodCYmKHRoaXMucHNlbGVjdGVkfHx0aGlzLnNlbGVjdGVkKSYmdGhpcy5zbGlkZXIuc2V0SGVpZ2h0KHRoaXMuZ2V0SGVpZ2h0KCkpKX0scC5sb2FkSW1hZ2VzPWZ1bmN0aW9uKCl7aWYoIXRoaXMubHMpe2lmKHRoaXMubHM9ITAsdGhpcy5iZ3ZpZGVvJiZ0aGlzLmJndmlkZW8ubG9hZCgpLHRoaXMuaGFzQkcmJnRoaXMuYmdfc3JjKXt2YXIgdGhhdD10aGlzO3RoaXMuJGJnX2ltZy5wcmVsb2FkSW1nKHRoaXMuYmdfc3JjLGZ1bmN0aW9uKGV2ZW50KXt0aGF0Ll9vbkJHTG9hZChldmVudCl9KX10aGlzLmhhc0xheWVycyYmdGhpcy5sYXllckNvbnRyb2xsZXIubG9hZExheWVycyh0aGlzLl9vbkxheWVyc0xvYWQpLHRoaXMuaGFzQkd8fHRoaXMuaGFzTGF5ZXJzfHx0aGlzLmFzc2V0c0xvYWRlZCgpfX0scC5fb25MYXllcnNMb2FkPWZ1bmN0aW9uKCl7dGhpcy5sYXllcnNMb2FkZWQ9ITAsKCF0aGlzLmhhc0JHfHx0aGlzLmJnTG9hZGVkKSYmdGhpcy5hc3NldHNMb2FkZWQoKX0scC5fb25CR0xvYWQ9ZnVuY3Rpb24oZXZlbnQpe3RoaXMuYmdOYXRydWFsV2lkdGg9ZXZlbnQud2lkdGgsdGhpcy5iZ05hdHJ1YWxIZWlnaHQ9ZXZlbnQuaGVpZ2h0LHRoaXMuYmdMb2FkZWQ9ITAsJC5icm93c2VyLm1zaWUmJnRoaXMuJGJnX2ltZy5vbihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGV2ZW50KXtldmVudC5wcmV2ZW50RGVmYXVsdCgpfSksKCF0aGlzLmhhc0xheWVyc3x8dGhpcy5sYXllckNvbnRyb2xsZXIucmVhZHkpJiZ0aGlzLmFzc2V0c0xvYWRlZCgpfSxwLnNldEJHVmlkZW89ZnVuY3Rpb24oJHZpZGVvKXtpZigkdmlkZW9bMF0ucGxheSl7aWYod2luZG93Ll9tb2JpbGUpcmV0dXJuIHZvaWQgJHZpZGVvLnJlbW92ZSgpO3RoaXMuYmd2aWRlbz0kdmlkZW9bMF07dmFyIHRoYXQ9dGhpczskdmlkZW8uYWRkQ2xhc3MoXCJtcy1zbGlkZS1iZ3ZpZGVvXCIpLCR2aWRlby5kYXRhKFwibG9vcFwiKSE9PSExJiZ0aGlzLmJndmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsZnVuY3Rpb24oKXt0aGF0LmJndmlkZW8ucGxheSgpfSksJHZpZGVvLmRhdGEoXCJtdXRlXCIpIT09ITEmJih0aGlzLmJndmlkZW8ubXV0ZWQ9ITApLCR2aWRlby5kYXRhKFwiYXV0b3BhdXNlXCIpPT09ITAmJih0aGlzLmF1dG9QYXVzZUJnVmlkPSEwKSx0aGlzLmJndmlkZW9fZmlsbG1vZGU9JHZpZGVvLmRhdGEoXCJmaWxsLW1vZGVcIil8fFwiZmlsbFwiLFwibm9uZVwiIT09dGhpcy5iZ3ZpZGVvX2ZpbGxtb2RlJiYodGhpcy5iZ1ZpZGVvQWxpZ25lcj1uZXcgTVNBbGlnbmVyKHRoaXMuYmd2aWRlb19maWxsbW9kZSx0aGlzLiRlbGVtZW50LCR2aWRlbyksdGhpcy5iZ3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRtZXRhZGF0YVwiLGZ1bmN0aW9uKCl7dGhhdC52aW5pdHx8KHRoYXQudmluaXQ9ITAsdGhhdC52aWRlb19hc3BlY3Q9dGhhdC5iZ1ZpZGVvQWxpZ25lci5iYXNlSGVpZ2h0L3RoYXQuYmdWaWRlb0FsaWduZXIuYmFzZVdpZHRoLHRoYXQuYmdWaWRlb0FsaWduZXIuaW5pdCh0aGF0LmJndmlkZW8udmlkZW9XaWR0aCx0aGF0LmJndmlkZW8udmlkZW9IZWlnaHQpLHRoYXQuX2FsaWduQkdWaWRlbygpLENUd2Vlbi5mYWRlSW4oJCh0aGF0LmJndmlkZW8pLDIwMCksdGhhdC5zZWxlY3RlZCYmdGhhdC5iZ3ZpZGVvLnBsYXkoKSl9KSksJHZpZGVvLmNzcyhcIm9wYWNpdHlcIiwwKSx0aGlzLiRiZ3ZpZGVvY29udD0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1zbGlkZS1iZ3ZpZGVvY29udFwiKS5hcHBlbmQoJHZpZGVvKSx0aGlzLmhhc0JHP3RoaXMuJGltZ2NvbnQuYmVmb3JlKHRoaXMuJGJndmlkZW9jb250KTp0aGlzLiRiZ3ZpZGVvY29udC5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KX19LHAuX2FsaWduQkdWaWRlbz1mdW5jdGlvbigpe3RoaXMuYmd2aWRlb19maWxsbW9kZSYmXCJub25lXCIhPT10aGlzLmJndmlkZW9fZmlsbG1vZGUmJnRoaXMuYmdWaWRlb0FsaWduZXIuYWxpZ24oKX0scC5zZXRTaXplPWZ1bmN0aW9uKHdpZHRoLGhlaWdodCxoYXJkKXt0aGlzLl9fd2lkdGg9d2lkdGgsdGhpcy5zbGlkZXIub3B0aW9ucy5hdXRvSGVpZ2h0JiYodGhpcy5iZ0xvYWRlZD8odGhpcy5yYXRpbz10aGlzLl9fd2lkdGgvdGhpcy5iZ1dpZHRoLGhlaWdodD1NYXRoLmZsb29yKHRoaXMucmF0aW8qdGhpcy5iZ0hlaWdodCksdGhpcy4kaW1nY29udC5oZWlnaHQoaGVpZ2h0KSk6KHRoaXMucmF0aW89d2lkdGgvdGhpcy5zbGlkZXIub3B0aW9ucy53aWR0aCxoZWlnaHQ9dGhpcy5zbGlkZXIub3B0aW9ucy5oZWlnaHQqdGhpcy5yYXRpbykpLHRoaXMuX19oZWlnaHQ9aGVpZ2h0LHRoaXMuJGVsZW1lbnQud2lkdGgod2lkdGgpLmhlaWdodChoZWlnaHQpLHRoaXMuaGFzQkcmJnRoaXMuYmdMb2FkZWQmJnRoaXMuYmdBbGlnbmVyLmFsaWduKCksdGhpcy5fYWxpZ25CR1ZpZGVvKCksdGhpcy5oYXNMYXllcnMmJnRoaXMubGF5ZXJDb250cm9sbGVyLnNldFNpemUod2lkdGgsaGVpZ2h0LGhhcmQpXG59LHAuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzQkcmJnRoaXMuYmdMb2FkZWQ/dGhpcy5iZ0hlaWdodCp0aGlzLnJhdGlvOk1hdGgubWF4KHRoaXMuJGVsZW1lbnRbMF0uY2xpZW50SGVpZ2h0LHRoaXMuc2xpZGVyLm9wdGlvbnMuaGVpZ2h0KnRoaXMucmF0aW8pfSxwLl9fcGxheVZpZGVvPWZ1bmN0aW9uKCl7dGhpcy52cGxheWVkfHx0aGlzLnZpZGVvZGlzfHwodGhpcy52cGxheWVkPSEwLHRoaXMuc2xpZGVyLmFwaS5wYXVzZWR8fCh0aGlzLnNsaWRlci5hcGkucGF1c2UoKSx0aGlzLnJvYz0hMCksdGhpcy52Y2J0bi5jc3MoXCJkaXNwbGF5XCIsXCJcIiksQ1R3ZWVuLmZhZGVPdXQodGhpcy52cGJ0biw1MDAsITEpLENUd2Vlbi5mYWRlSW4odGhpcy52Y2J0biw1MDApLENUd2Vlbi5mYWRlSW4odGhpcy52ZnJhbWUsNTAwKSx0aGlzLnZmcmFtZS5jc3MoXCJkaXNwbGF5XCIsXCJibG9ja1wiKS5hdHRyKFwic3JjXCIsdGhpcy52aWRlbytcIiZhdXRvcGxheT0xXCIpLHRoaXMudmlldy4kZWxlbWVudC5hZGRDbGFzcyhcIm1zLWRlZi1jdXJzb3JcIiksdGhpcy52aWV3LnN3aXBlQ29udHJvbCYmdGhpcy52aWV3LnN3aXBlQ29udHJvbC5kaXNhYmxlKCksdGhpcy5zbGlkZXIuc2xpZGVDb250cm9sbGVyLmRpc3BhdGNoRXZlbnQobmV3IE1TU2xpZGVyRXZlbnQoTVNTbGlkZXJFdmVudC5WSURFT19QTEFZKSkpfSxwLl9fY2xvc2VWaWRlbz1mdW5jdGlvbigpe2lmKHRoaXMudnBsYXllZCl7dGhpcy52cGxheWVkPSExLHRoaXMucm9jJiZ0aGlzLnNsaWRlci5hcGkucmVzdW1lKCk7dmFyIHRoYXQ9dGhpcztDVHdlZW4uZmFkZUluKHRoaXMudnBidG4sNTAwKSxDVHdlZW4uYW5pbWF0ZSh0aGlzLnZjYnRuLDUwMCx7b3BhY2l0eTowfSx7Y29tcGxldGU6ZnVuY3Rpb24oKXt0aGF0LnZjYnRuLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIil9fSksQ1R3ZWVuLmFuaW1hdGUodGhpcy52ZnJhbWUsNTAwLHtvcGFjaXR5OjB9LHtjb21wbGV0ZTpmdW5jdGlvbigpe3RoYXQudmZyYW1lLmF0dHIoXCJzcmNcIixcImFib3V0OmJsYW5rXCIpLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIil9fSksdGhpcy52aWV3LnN3aXBlQ29udHJvbCYmdGhpcy52aWV3LnN3aXBlQ29udHJvbC5lbmFibGUoKSx0aGlzLnZpZXcuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJtcy1kZWYtY3Vyc29yXCIpLHRoaXMuc2xpZGVyLnNsaWRlQ29udHJvbGxlci5kaXNwYXRjaEV2ZW50KG5ldyBNU1NsaWRlckV2ZW50KE1TU2xpZGVyRXZlbnQuVklERU9fQ0xPU0UpKX19LHAuY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIHRoYXQ9dGhpczt0aGlzLmhhc0xheWVycyYmdGhpcy5sYXllckNvbnRyb2xsZXIuY3JlYXRlKCksdGhpcy5saW5rJiZ0aGlzLmxpbmsuYWRkQ2xhc3MoXCJtcy1zbGlkZS1saW5rXCIpLmh0bWwoXCJcIikuY2xpY2soZnVuY3Rpb24oZSl7dGhhdC5saW5rZGlzJiZlLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLnZpZGVvJiYoLTE9PT10aGlzLnZpZGVvLmluZGV4T2YoXCI/XCIpJiYodGhpcy52aWRlbys9XCI/XCIpLHRoaXMudmZyYW1lPSQoXCI8aWZyYW1lPjwvaWZyYW1lPlwiKS5hZGRDbGFzcyhcIm1zLXNsaWRlLXZpZGVvXCIpLmNzcyh7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLGRpc3BsYXk6XCJub25lXCJ9KS5hdHRyKFwic3JjXCIsXCJhYm91dDpibGFua1wiKS5hdHRyKFwiYWxsb3dmdWxsc2NyZWVuXCIsXCJ0cnVlXCIpLmFwcGVuZFRvKHRoaXMuJGVsZW1lbnQpLHRoaXMudnBidG49JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtc2xpZGUtdnBidG5cIikuY2xpY2soZnVuY3Rpb24oKXt0aGF0Ll9fcGxheVZpZGVvKCl9KS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KSx0aGlzLnZjYnRuPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXNsaWRlLXZjYnRuXCIpLmNsaWNrKGZ1bmN0aW9uKCl7dGhhdC5fX2Nsb3NlVmlkZW8oKX0pLmFwcGVuZFRvKHRoaXMuJGVsZW1lbnQpLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIiksd2luZG93Ll90b3VjaCYmdGhpcy52Y2J0bi5yZW1vdmVDbGFzcyhcIm1zLXNsaWRlLXZjYnRuXCIpLmFkZENsYXNzKFwibXMtc2xpZGUtdmNidG4tbW9iaWxlXCIpLmFwcGVuZCgnPGRpdiBjbGFzcz1cIm1zLXZjYnRuLXR4dFwiPkNsb3NlIHZpZGVvPC9kaXY+JykuYXBwZW5kVG8odGhpcy52aWV3LiRlbGVtZW50LnBhcmVudCgpKSksIXRoaXMuc2xpZGVyLm9wdGlvbnMuYXV0b0hlaWdodCYmdGhpcy5oYXNCRyYmKHRoaXMuJGltZ2NvbnQuY3NzKFwiaGVpZ2h0XCIsXCIxMDAlXCIpLChcImNlbnRlclwiPT09dGhpcy5maWxsTW9kZXx8XCJzdHJldGNoXCI9PT10aGlzLmZpbGxNb2RlKSYmKHRoaXMuZmlsbE1vZGU9XCJmaWxsXCIpKSx0aGlzLnNsaWRlci5vcHRpb25zLmF1dG9IZWlnaHQmJnRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoXCJtcy1zbGlkZS1hdXRvLWhlaWdodFwiKSx0aGlzLnNsZWVwKCEwKX0scC5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5oYXNMYXllcnMmJih0aGlzLmxheWVyQ29udHJvbGxlci5kZXN0cm95KCksdGhpcy5sYXllckNvbnRyb2xsZXI9bnVsbCksdGhpcy4kZWxlbWVudC5yZW1vdmUoKSx0aGlzLiRlbGVtZW50PW51bGx9LHAucHJlcGFyZVRvU2VsZWN0PWZ1bmN0aW9uKCl7dGhpcy5wc2VsZWN0ZWR8fHRoaXMuc2VsZWN0ZWR8fCh0aGlzLnBzZWxlY3RlZD0hMCwodGhpcy5saW5rfHx0aGlzLnZpZGVvKSYmKHRoaXMudmlldy5hZGRFdmVudExpc3RlbmVyKE1TVmlld0V2ZW50cy5TV0lQRV9TVEFSVCx0aGlzLm9uU3dpcGVTdGFydCx0aGlzKSx0aGlzLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcihNU1ZpZXdFdmVudHMuU1dJUEVfTU9WRSx0aGlzLm9uU3dpcGVNb3ZlLHRoaXMpLHRoaXMudmlldy5hZGRFdmVudExpc3RlbmVyKE1TVmlld0V2ZW50cy5TV0lQRV9DQU5DRUwsdGhpcy5vblN3aXBlQ2FuY2VsLHRoaXMpLHRoaXMubGlua2Rpcz0hMSx0aGlzLnN3aXBlTW92ZWQ9ITEpLHRoaXMubG9hZEltYWdlcygpLHRoaXMuaGFzTGF5ZXJzJiZ0aGlzLmxheWVyQ29udHJvbGxlci5wcmVwYXJlVG9TaG93KCksdGhpcy5yZWFkeSYmKHRoaXMuYmd2aWRlbyYmdGhpcy5iZ3ZpZGVvLnBsYXkoKSx0aGlzLmhhc0xheWVycyYmdGhpcy5zbGlkZXIub3B0aW9ucy5pbnN0YW50U3RhcnRMYXllcnMmJnRoaXMubGF5ZXJDb250cm9sbGVyLnNob3dMYXllcnMoKSksdGhpcy5tb3omJnRoaXMuJGVsZW1lbnQuY3NzKFwibWFyZ2luLXRvcFwiLFwiXCIpKX0scC5zZWxlY3Q9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkfHwodGhpcy5zZWxlY3RlZD0hMCx0aGlzLnBzZWxlY3RlZD0hMSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwibXMtc2wtc2VsZWN0ZWRcIiksdGhpcy5oYXNMYXllcnMmJih0aGlzLnNsaWRlci5vcHRpb25zLmF1dG9IZWlnaHQmJnRoaXMubGF5ZXJDb250cm9sbGVyLnVwZGF0ZUhlaWdodCgpLHRoaXMuc2xpZGVyLm9wdGlvbnMuaW5zdGFudFN0YXJ0TGF5ZXJzfHx0aGlzLmxheWVyQ29udHJvbGxlci5zaG93TGF5ZXJzKCkpLHRoaXMucmVhZHkmJnRoaXMuYmd2aWRlbyYmdGhpcy5iZ3ZpZGVvLnBsYXkoKSx0aGlzLnZpZGVvQXV0b1BsYXkmJih0aGlzLnZpZGVvZGlzPSExLHRoaXMudnBidG4udHJpZ2dlcihcImNsaWNrXCIpKSl9LHAudW5zZWxlY3Q9ZnVuY3Rpb24oKXt0aGlzLnBzZWxlY3RlZD0hMSx0aGlzLm1veiYmdGhpcy4kZWxlbWVudC5jc3MoXCJtYXJnaW4tdG9wXCIsXCIwLjFweFwiKSwodGhpcy5saW5rfHx0aGlzLnZpZGVvKSYmKHRoaXMudmlldy5yZW1vdmVFdmVudExpc3RlbmVyKE1TVmlld0V2ZW50cy5TV0lQRV9TVEFSVCx0aGlzLm9uU3dpcGVTdGFydCx0aGlzKSx0aGlzLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcihNU1ZpZXdFdmVudHMuU1dJUEVfTU9WRSx0aGlzLm9uU3dpcGVNb3ZlLHRoaXMpLHRoaXMudmlldy5yZW1vdmVFdmVudExpc3RlbmVyKE1TVmlld0V2ZW50cy5TV0lQRV9DQU5DRUwsdGhpcy5vblN3aXBlQ2FuY2VsLHRoaXMpKSx0aGlzLmJndmlkZW8mJih0aGlzLmJndmlkZW8ucGF1c2UoKSwhdGhpcy5hdXRvUGF1c2VCZ1ZpZCYmdGhpcy52aW5pdCYmKHRoaXMuYmd2aWRlby5jdXJyZW50VGltZT0wKSksdGhpcy5oYXNMYXllcnMmJnRoaXMubGF5ZXJDb250cm9sbGVyLmhpZGVMYXllcnMoKSx0aGlzLnNlbGVjdGVkJiYodGhpcy5zZWxlY3RlZD0hMSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwibXMtc2wtc2VsZWN0ZWRcIiksdGhpcy52aWRlbyYmdGhpcy52cGxheWVkJiYodGhpcy5fX2Nsb3NlVmlkZW8oKSx0aGlzLnJvYz0hMSkpfSxwLnNsZWVwPWZ1bmN0aW9uKGZvcmNlKXsoIXRoaXMuaXNTbGVlcGluZ3x8Zm9yY2UpJiYodGhpcy5pc1NsZWVwaW5nPSEwLHRoaXMuYXV0b0FwcGVuZCYmdGhpcy4kZWxlbWVudC5kZXRhY2goKSx0aGlzLmhhc0xheWVycyYmdGhpcy5sYXllckNvbnRyb2xsZXIub25TbGlkZVNsZWVwKCkpfSxwLndha2V1cD1mdW5jdGlvbigpe3RoaXMuaXNTbGVlcGluZyYmKHRoaXMuaXNTbGVlcGluZz0hMSx0aGlzLmF1dG9BcHBlbmQmJnRoaXMudmlldy4kc2xpZGVDb250LmFwcGVuZCh0aGlzLiRlbGVtZW50KSx0aGlzLm1veiYmdGhpcy4kZWxlbWVudC5jc3MoXCJtYXJnaW4tdG9wXCIsXCIwLjFweFwiKSx0aGlzLnNldHVwQkcoKSx0aGlzLmhhc0JHJiZ0aGlzLmJnQWxpZ25lci5hbGlnbigpLHRoaXMuaGFzTGF5ZXJzJiZ0aGlzLmxheWVyQ29udHJvbGxlci5vblNsaWRlV2FrZXVwKCkpfX0od2luZG93LGRvY3VtZW50LGpRdWVyeSksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIFNsaWRlclZpZXdMaXN0PXt9O3dpbmRvdy5NU1NsaWRlQ29udHJvbGxlcj1mdW5jdGlvbihzbGlkZXIpe3RoaXMuX2RlbGF5UHJvZ3Jlc3M9MCx0aGlzLl90aW1lcj1uZXcgYXZlcnRhLlRpbWVyKDEwMCksdGhpcy5fdGltZXIub25UaW1lcj10aGlzLm9uVGltZXIsdGhpcy5fdGltZXIucmVmcmVuY2U9dGhpcyx0aGlzLmN1cnJlbnRTbGlkZT1udWxsLHRoaXMuc2xpZGVyPXNsaWRlcix0aGlzLnNvPXNsaWRlci5vcHRpb25zLGF2ZXJ0YS5FdmVudERpc3BhdGNoZXIuY2FsbCh0aGlzKX0sTVNTbGlkZUNvbnRyb2xsZXIucmVnaXN0ZXJWaWV3PWZ1bmN0aW9uKG5hbWUsX2NsYXNzKXtpZihuYW1lIGluIFNsaWRlclZpZXdMaXN0KXRocm93IG5ldyBFcnJvcihuYW1lK1wiLCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO1NsaWRlclZpZXdMaXN0W25hbWVdPV9jbGFzc30sTVNTbGlkZUNvbnRyb2xsZXIuU2xpZGVyQ29udHJvbExpc3Q9e30sTVNTbGlkZUNvbnRyb2xsZXIucmVnaXN0ZXJDb250cm9sPWZ1bmN0aW9uKG5hbWUsX2NsYXNzKXtpZihuYW1lIGluIE1TU2xpZGVDb250cm9sbGVyLlNsaWRlckNvbnRyb2xMaXN0KXRocm93IG5ldyBFcnJvcihuYW1lK1wiLCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO01TU2xpZGVDb250cm9sbGVyLlNsaWRlckNvbnRyb2xMaXN0W25hbWVdPV9jbGFzc307dmFyIHA9TVNTbGlkZUNvbnRyb2xsZXIucHJvdG90eXBlO3Auc2V0dXBWaWV3PWZ1bmN0aW9uKCl7dmFyIHRoYXQ9dGhpczt0aGlzLnJlc2l6ZV9saXN0ZW5lcj1mdW5jdGlvbigpe3RoYXQuX19yZXNpemUoKX07dmFyIHZpZXdPcHRpb25zPXtzcGFjaW5nOnRoaXMuc28uc3BhY2UsbW91c2VTd2lwZTp0aGlzLnNvLm1vdXNlLGxvb3A6dGhpcy5zby5sb29wLGF1dG9IZWlnaHQ6dGhpcy5zby5hdXRvSGVpZ2h0LHN3aXBlOnRoaXMuc28uc3dpcGUsc3BlZWQ6dGhpcy5zby5zcGVlZCxkaXI6dGhpcy5zby5kaXIsdmlld051bTp0aGlzLnNvLmluVmlldyxjcml0TWFyZ2luOnRoaXMuc28uY3JpdE1hcmdpbn07dGhpcy5zby52aWV3T3B0aW9ucyYmJC5leHRlbmQodmlld09wdGlvbnMsdGhpcy5zby52aWV3T3B0aW9ucyksdGhpcy5zby5hdXRvSGVpZ2h0JiYodGhpcy5zby5oZWlnaHRMaW1pdD0hMSk7dmFyIHZpZXdDbGFzcz1TbGlkZXJWaWV3TGlzdFt0aGlzLnNsaWRlci5vcHRpb25zLnZpZXddfHxNU0Jhc2ljVmlldztpZighdmlld0NsYXNzLl8zZHJlcXx8d2luZG93Ll9jc3MzZCYmISQuYnJvd3Nlci5tc2llfHwodmlld0NsYXNzPXZpZXdDbGFzcy5fZmFsbGJhY2t8fE1TQmFzaWNWaWV3KSx0aGlzLnZpZXc9bmV3IHZpZXdDbGFzcyh2aWV3T3B0aW9ucyksdGhpcy5zby5vdmVyUGF1c2Upe3ZhciB0aGF0PXRoaXM7dGhpcy5zbGlkZXIuJGVsZW1lbnQubW91c2VlbnRlcihmdW5jdGlvbigpe3RoYXQuaXNfb3Zlcj0hMCx0aGF0Ll9zdG9wVGltZXIoKX0pLm1vdXNlbGVhdmUoZnVuY3Rpb24oKXt0aGF0LmlzX292ZXI9ITEsdGhhdC5fc3RhcnRUaW1lcigpfSl9fSxwLm9uQ2hhbmdlU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmNoYW5nZV9zdGFydGVkPSEwLHRoaXMuY3VycmVudFNsaWRlJiZ0aGlzLmN1cnJlbnRTbGlkZS51bnNlbGVjdCgpLHRoaXMuY3VycmVudFNsaWRlPXRoaXMudmlldy5jdXJyZW50U2xpZGUsdGhpcy5jdXJyZW50U2xpZGUucHJlcGFyZVRvU2VsZWN0KCksdGhpcy5zby5lbmRQYXVzZSYmdGhpcy5jdXJyZW50U2xpZGUuaW5kZXg9PT10aGlzLnNsaWRlci5zbGlkZXMubGVuZ3RoLTEmJih0aGlzLnBhdXNlKCksdGhpcy5za2lwVGltZXIoKSksdGhpcy5zby5hdXRvSGVpZ2h0JiZ0aGlzLnNsaWRlci5zZXRIZWlnaHQodGhpcy5jdXJyZW50U2xpZGUuZ2V0SGVpZ2h0KCkpLHRoaXMuc28uZGVlcExpbmsmJnRoaXMuX191cGRhdGVXaW5kb3dIYXNoKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1NsaWRlckV2ZW50KE1TU2xpZGVyRXZlbnQuQ0hBTkdFX1NUQVJUKSl9LHAub25DaGFuZ2VFbmQ9ZnVuY3Rpb24oKXtpZih0aGlzLmNoYW5nZV9zdGFydGVkPSExLHRoaXMuX3N0YXJ0VGltZXIoKSx0aGlzLmN1cnJlbnRTbGlkZS5zZWxlY3QoKSx0aGlzLnNvLnByZWxvYWQ+MSl7dmFyIGxvYyxpLHNsaWRlLGw9dGhpcy5zby5wcmVsb2FkLTE7Zm9yKGk9MTtsPj1pOysraSl7aWYobG9jPXRoaXMudmlldy5pbmRleCtpLGxvYz49dGhpcy52aWV3LnNsaWRlTGlzdC5sZW5ndGgpe2lmKCF0aGlzLnNvLmxvb3Ape2k9bDtjb250aW51ZX1sb2MtPXRoaXMudmlldy5zbGlkZUxpc3QubGVuZ3RofXNsaWRlPXRoaXMudmlldy5zbGlkZUxpc3RbbG9jXSxzbGlkZSYmc2xpZGUubG9hZEltYWdlcygpfWZvcihsPnRoaXMudmlldy5zbGlkZUxpc3QubGVuZ3RoLzImJihsPU1hdGguZmxvb3IodGhpcy52aWV3LnNsaWRlTGlzdC5sZW5ndGgvMikpLGk9MTtsPj1pOysraSl7aWYobG9jPXRoaXMudmlldy5pbmRleC1pLDA+bG9jKXtpZighdGhpcy5zby5sb29wKXtpPWw7Y29udGludWV9bG9jPXRoaXMudmlldy5zbGlkZUxpc3QubGVuZ3RoK2xvY31zbGlkZT10aGlzLnZpZXcuc2xpZGVMaXN0W2xvY10sc2xpZGUmJnNsaWRlLmxvYWRJbWFnZXMoKX19dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1NsaWRlckV2ZW50KE1TU2xpZGVyRXZlbnQuQ0hBTkdFX0VORCkpfSxwLm9uU3dpcGVTdGFydD1mdW5jdGlvbigpe3RoaXMuc2tpcFRpbWVyKCl9LHAuc2tpcFRpbWVyPWZ1bmN0aW9uKCl7dGhpcy5fdGltZXIucmVzZXQoKSx0aGlzLl9kZWxheVByb2dyZXNzPTAsdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1NsaWRlckV2ZW50KE1TU2xpZGVyRXZlbnQuV0FJVElORykpfSxwLm9uVGltZXI9ZnVuY3Rpb24oKXtpZih0aGlzLl90aW1lci5nZXRUaW1lKCk+PTFlMyp0aGlzLnZpZXcuY3VycmVudFNsaWRlLmRlbGF5JiYodGhpcy5za2lwVGltZXIoKSx0aGlzLnZpZXcubmV4dCgpLHRoaXMuaGlkZUNhbGxlZD0hMSksdGhpcy5fZGVsYXlQcm9ncmVzcz10aGlzLl90aW1lci5nZXRUaW1lKCkvKDEwKnRoaXMudmlldy5jdXJyZW50U2xpZGUuZGVsYXkpLHRoaXMuc28uaGlkZUxheWVycyYmIXRoaXMuaGlkZUNhbGxlZCYmMWUzKnRoaXMudmlldy5jdXJyZW50U2xpZGUuZGVsYXktdGhpcy5fdGltZXIuZ2V0VGltZSgpPD0zMDApe3ZhciBjdXJyZW50U2xpZGU9dGhpcy52aWV3LmN1cnJlbnRTbGlkZTtjdXJyZW50U2xpZGUuaGFzTGF5ZXJzJiZjdXJyZW50U2xpZGUubGF5ZXJDb250cm9sbGVyLmFuaW1IaWRlTGF5ZXJzKCksdGhpcy5oaWRlQ2FsbGVkPSEwfXRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNTbGlkZXJFdmVudChNU1NsaWRlckV2ZW50LldBSVRJTkcpKX0scC5fc3RvcFRpbWVyPWZ1bmN0aW9uKCl7dGhpcy5fdGltZXImJnRoaXMuX3RpbWVyLnN0b3AoKX0scC5fc3RhcnRUaW1lcj1mdW5jdGlvbigpe3RoaXMucGF1c2VkfHx0aGlzLmlzX292ZXJ8fCF0aGlzLmN1cnJlbnRTbGlkZXx8IXRoaXMuY3VycmVudFNsaWRlLnJlYWR5fHx0aGlzLmNoYW5nZV9zdGFydGVkfHx0aGlzLl90aW1lci5zdGFydCgpfSxwLl9fYXBwZW5kU2xpZGVzPWZ1bmN0aW9uKCl7dmFyIHNsaWRlLGxvYyxpPTAsbD10aGlzLnZpZXcuc2xpZGVMaXN0Lmxlbmd0aC0xO2ZvcihpO2w+aTsrK2kpc2xpZGU9dGhpcy52aWV3LnNsaWRlTGlzdFtpXSxzbGlkZS5kZXRhY2hlZHx8KHNsaWRlLiRlbGVtZW50LmRldGFjaCgpLHNsaWRlLmRldGFjaGVkPSEwKTtmb3IodGhpcy52aWV3LmFwcGVuZFNsaWRlKHRoaXMudmlldy5zbGlkZUxpc3RbdGhpcy52aWV3LmluZGV4XSksbD0zLGk9MTtsPj1pOysraSl7aWYobG9jPXRoaXMudmlldy5pbmRleCtpLGxvYz49dGhpcy52aWV3LnNsaWRlTGlzdC5sZW5ndGgpe2lmKCF0aGlzLnNvLmxvb3Ape2k9bDtjb250aW51ZX1sb2MtPXRoaXMudmlldy5zbGlkZUxpc3QubGVuZ3RofXNsaWRlPXRoaXMudmlldy5zbGlkZUxpc3RbbG9jXSxzbGlkZS5kZXRhY2hlZD0hMSx0aGlzLnZpZXcuYXBwZW5kU2xpZGUoc2xpZGUpfWZvcihsPnRoaXMudmlldy5zbGlkZUxpc3QubGVuZ3RoLzImJihsPU1hdGguZmxvb3IodGhpcy52aWV3LnNsaWRlTGlzdC5sZW5ndGgvMikpLGk9MTtsPj1pOysraSl7aWYobG9jPXRoaXMudmlldy5pbmRleC1pLDA+bG9jKXtpZighdGhpcy5zby5sb29wKXtpPWw7Y29udGludWV9bG9jPXRoaXMudmlldy5zbGlkZUxpc3QubGVuZ3RoK2xvY31zbGlkZT10aGlzLnZpZXcuc2xpZGVMaXN0W2xvY10sc2xpZGUuZGV0YWNoZWQ9ITEsdGhpcy52aWV3LmFwcGVuZFNsaWRlKHNsaWRlKX19LHAuX19yZXNpemU9ZnVuY3Rpb24oaGFyZCl7dGhpcy5jcmVhdGVkJiYodGhpcy53aWR0aD10aGlzLnNsaWRlci4kZWxlbWVudFswXS5jbGllbnRXaWR0aHx8dGhpcy5zby53aWR0aCx0aGlzLnNvLmZ1bGx3aWR0aHx8KHRoaXMud2lkdGg9TWF0aC5taW4odGhpcy53aWR0aCx0aGlzLnNvLndpZHRoKSksdGhpcy5zby5mdWxsaGVpZ2h0Pyh0aGlzLnNvLmhlaWdodExpbWl0PSExLHRoaXMuc28uYXV0b0hlaWdodD0hMSx0aGlzLmhlaWdodD10aGlzLnNsaWRlci4kZWxlbWVudFswXS5jbGllbnRIZWlnaHQpOnRoaXMuaGVpZ2h0PXRoaXMud2lkdGgvdGhpcy5zbGlkZXIuYXNwZWN0LHRoaXMuc28uYXV0b0hlaWdodD8odGhpcy5jdXJyZW50U2xpZGUuc2V0U2l6ZSh0aGlzLndpZHRoLG51bGwsaGFyZCksdGhpcy52aWV3LnNldFNpemUodGhpcy53aWR0aCx0aGlzLmN1cnJlbnRTbGlkZS5nZXRIZWlnaHQoKSxoYXJkKSk6dGhpcy52aWV3LnNldFNpemUodGhpcy53aWR0aCxNYXRoLm1heCh0aGlzLnNvLm1pbkhlaWdodCx0aGlzLnNvLmhlaWdodExpbWl0P01hdGgubWluKHRoaXMuaGVpZ2h0LHRoaXMuc28uaGVpZ2h0KTp0aGlzLmhlaWdodCksaGFyZCksdGhpcy5zbGlkZXIuJGNvbnRyb2xzQ29udCYmdGhpcy5zby5jZW50ZXJDb250cm9scyYmdGhpcy5zby5mdWxsd2lkdGgmJnRoaXMudmlldy4kZWxlbWVudC5jc3MoXCJsZWZ0XCIsTWF0aC5taW4oMCwtKHRoaXMuc2xpZGVyLiRlbGVtZW50WzBdLmNsaWVudFdpZHRoLXRoaXMuc28ud2lkdGgpLzIpK1wicHhcIiksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1NsaWRlckV2ZW50KE1TU2xpZGVyRXZlbnQuUkVTSVpFKSkpfSxwLl9fZGlzcGF0Y2hJbml0PWZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1NsaWRlckV2ZW50KE1TU2xpZGVyRXZlbnQuSU5JVCkpfSxwLl9fdXBkYXRlV2luZG93SGFzaD1mdW5jdGlvbigpe3ZhciBoYXNoPXdpbmRvdy5sb2NhdGlvbi5oYXNoLGRsPXRoaXMuc28uZGVlcExpbmssZGx0PXRoaXMuc28uZGVlcExpbmtUeXBlLGVxPVwicGF0aFwiPT09ZGx0P1wiL1wiOlwiPVwiLHNlcD1cInBhdGhcIj09PWRsdD9cIi9cIjpcIiZcIixzbGlkZXJIYXNoPWRsK2VxKyh0aGlzLnZpZXcuaW5kZXgrMSkscmVnVGVzdD1uZXcgUmVnRXhwKGRsK2VxK1wiWzAtOV0rXCIsXCJnXCIpO3dpbmRvdy5sb2NhdGlvbi5oYXNoPVwiXCI9PT1oYXNoP3NlcCtzbGlkZXJIYXNoOnJlZ1Rlc3QudGVzdChoYXNoKT9oYXNoLnJlcGxhY2UocmVnVGVzdCxzbGlkZXJIYXNoKTpoYXNoK3NlcCtzbGlkZXJIYXNofSxwLl9fY3VyZW50U2xpZGVJbkhhc2g9ZnVuY3Rpb24oKXt2YXIgaGFzaD13aW5kb3cubG9jYXRpb24uaGFzaCxkbD10aGlzLnNvLmRlZXBMaW5rLGRsdD10aGlzLnNvLmRlZXBMaW5rVHlwZSxlcT1cInBhdGhcIj09PWRsdD9cIi9cIjpcIj1cIixyZWdUZXN0PW5ldyBSZWdFeHAoZGwrZXErXCJbMC05XStcIixcImdcIik7aWYocmVnVGVzdC50ZXN0KGhhc2gpKXt2YXIgaW5kZXg9TnVtYmVyKGhhc2gubWF0Y2gocmVnVGVzdClbMF0ubWF0Y2goL1swLTldKy9nKS5wb3AoKSk7aWYoIWlzTmFOKGluZGV4KSlyZXR1cm4gaW5kZXgtMX1yZXR1cm4tMX0scC5fX29uSGFzaENoYW5nZWQ9ZnVuY3Rpb24oKXt2YXIgaW5kZXg9dGhpcy5fX2N1cmVudFNsaWRlSW5IYXNoKCk7LTEhPT1pbmRleCYmdGhpcy5nb3RvU2xpZGUoaW5kZXgpfSxwLnNldHVwPWZ1bmN0aW9uKCl7dGhpcy5jcmVhdGVkPSEwLHRoaXMucGF1c2VkPSF0aGlzLnNvLmF1dG9wbGF5LHRoaXMudmlldy5hZGRFdmVudExpc3RlbmVyKE1TVmlld0V2ZW50cy5DSEFOR0VfU1RBUlQsdGhpcy5vbkNoYW5nZVN0YXJ0LHRoaXMpLHRoaXMudmlldy5hZGRFdmVudExpc3RlbmVyKE1TVmlld0V2ZW50cy5DSEFOR0VfRU5ELHRoaXMub25DaGFuZ2VFbmQsdGhpcyksdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoTVNWaWV3RXZlbnRzLlNXSVBFX1NUQVJULHRoaXMub25Td2lwZVN0YXJ0LHRoaXMpLHRoaXMuY3VycmVudFNsaWRlPXRoaXMudmlldy5zbGlkZUxpc3RbdGhpcy5zby5zdGFydC0xXSx0aGlzLl9fcmVzaXplKCk7dmFyIHNsaWRlSW5IYXNoPXRoaXMuX19jdXJlbnRTbGlkZUluSGFzaCgpLHN0YXJ0U2xpZGU9LTEhPT1zbGlkZUluSGFzaD9zbGlkZUluSGFzaDp0aGlzLnNvLnN0YXJ0LTE7aWYodGhpcy52aWV3LmNyZWF0ZShzdGFydFNsaWRlKSwwPT09dGhpcy5zby5wcmVsb2FkJiZ0aGlzLnZpZXcuc2xpZGVMaXN0WzBdLmxvYWRJbWFnZXMoKSx0aGlzLnNjcm9sbGVyPXRoaXMudmlldy5jb250cm9sbGVyLHRoaXMuc28ud2hlZWwpe3ZhciB0aGF0PXRoaXMsbGFzdF90aW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3RoaXMud2hlZWxsaXN0ZW5lcj1mdW5jdGlvbihldmVudCl7dmFyIGU9d2luZG93LmV2ZW50fHxldmVudC5vcmdpbmFsRXZlbnR8fGV2ZW50O2UucHJldmVudERlZmF1bHQoKTt2YXIgY3VycmVudF90aW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2lmKCEoNDAwPmN1cnJlbnRfdGltZS1sYXN0X3RpbWUpKXtsYXN0X3RpbWU9Y3VycmVudF90aW1lO3ZhciBkZWx0YT1NYXRoLmFicyhlLmRldGFpbHx8ZS53aGVlbERlbHRhKTskLmJyb3dzZXIubW96aWxsYSYmKGRlbHRhKj0xMDApO3ZhciBzY3JvbGxUaHJlc2hvbGQ9MTU7cmV0dXJuIGUuZGV0YWlsPDB8fGUud2hlZWxEZWx0YT4wP2RlbHRhPj1zY3JvbGxUaHJlc2hvbGQmJnRoYXQucHJldmlvdXMoITApOmRlbHRhPj1zY3JvbGxUaHJlc2hvbGQmJnRoYXQubmV4dCghMCksITF9fSwkLmJyb3dzZXIubW96aWxsYT90aGlzLnNsaWRlci4kZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIix0aGlzLndoZWVsbGlzdGVuZXIpOnRoaXMuc2xpZGVyLiRlbGVtZW50LmJpbmQoXCJtb3VzZXdoZWVsXCIsdGhpcy53aGVlbGxpc3RlbmVyKX0wPT09dGhpcy5zbGlkZXIuJGVsZW1lbnRbMF0uY2xpZW50V2lkdGgmJih0aGlzLnNsaWRlci5pbml0X3NhZmVtb2RlPSEwKSx0aGlzLl9fcmVzaXplKCk7dmFyIHRoYXQ9dGhpczt0aGlzLnNvLmRlZXBMaW5rJiYkKHdpbmRvdykub24oXCJoYXNoY2hhbmdlXCIsZnVuY3Rpb24oKXt0aGF0Ll9fb25IYXNoQ2hhbmdlZCgpfSl9LHAuaW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmluZGV4fSxwLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5zbGlkZXNDb3VudH0scC5uZXh0PWZ1bmN0aW9uKGNoZWNrTG9vcCl7dGhpcy5za2lwVGltZXIoKSx0aGlzLnZpZXcubmV4dChjaGVja0xvb3ApfSxwLnByZXZpb3VzPWZ1bmN0aW9uKGNoZWNrTG9vcCl7dGhpcy5za2lwVGltZXIoKSx0aGlzLnZpZXcucHJldmlvdXMoY2hlY2tMb29wKX0scC5nb3RvU2xpZGU9ZnVuY3Rpb24oaW5kZXgpe2luZGV4PU1hdGgubWluKGluZGV4LHRoaXMuY291bnQoKS0xKSx0aGlzLnNraXBUaW1lcigpLHRoaXMudmlldy5nb3RvU2xpZGUoaW5kZXgpfSxwLmRlc3Ryb3k9ZnVuY3Rpb24ocmVzZXQpe3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNTbGlkZXJFdmVudChNU1NsaWRlckV2ZW50LkRFU1RST1kpKSx0aGlzLnNsaWRlci5kZXN0cm95KHJlc2V0KX0scC5fZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX3RpbWVyLnJlc2V0KCksdGhpcy5fdGltZXI9bnVsbCwkKHdpbmRvdykudW5iaW5kKFwicmVzaXplXCIsdGhpcy5yZXNpemVfbGlzdGVuZXIpLHRoaXMudmlldy5kZXN0cm95KCksdGhpcy52aWV3PW51bGwsdGhpcy5zby53aGVlbCYmKCQuYnJvd3Nlci5tb3ppbGxhP3RoaXMuc2xpZGVyLiRlbGVtZW50WzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLHRoaXMud2hlZWxsaXN0ZW5lcik6dGhpcy5zbGlkZXIuJGVsZW1lbnQudW5iaW5kKFwibW91c2V3aGVlbFwiLHRoaXMud2hlZWxsaXN0ZW5lciksdGhpcy53aGVlbGxpc3RlbmVyPW51bGwpLHRoaXMuc289bnVsbH0scC5ydW5BY3Rpb249ZnVuY3Rpb24oYWN0aW9uKXt2YXIgYWN0aW9uUGFyYW1zPVtdO2lmKC0xIT09YWN0aW9uLmluZGV4T2YoXCIoXCIpKXt2YXIgdGVtcD1hY3Rpb24uc2xpY2UoMCxhY3Rpb24uaW5kZXhPZihcIihcIikpO2FjdGlvblBhcmFtcz1hY3Rpb24uc2xpY2UoYWN0aW9uLmluZGV4T2YoXCIoXCIpKzEsLTEpLnJlcGxhY2UoL1xcXCJ8XFwnfFxccy9nLFwiXCIpLnNwbGl0KFwiLFwiKSxhY3Rpb249dGVtcH1hY3Rpb24gaW4gdGhpcz90aGlzW2FjdGlvbl0uYXBwbHkodGhpcyxhY3Rpb25QYXJhbXMpOmNvbnNvbGV9LHAudXBkYXRlPWZ1bmN0aW9uKGhhcmQpe3RoaXMuc2xpZGVyLmluaXRfc2FmZW1vZGUmJmhhcmQmJih0aGlzLnNsaWRlci5pbml0X3NhZmVtb2RlPSExKSx0aGlzLl9fcmVzaXplKGhhcmQpLGhhcmQmJnRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNTbGlkZXJFdmVudChNU1NsaWRlckV2ZW50LkhBUkRfVVBEQVRFKSl9LHAubG9jYXRlPWZ1bmN0aW9uKCl7dGhpcy5fX3Jlc2l6ZSgpfSxwLnJlc3VtZT1mdW5jdGlvbigpe3RoaXMucGF1c2VkJiYodGhpcy5wYXVzZWQ9ITEsdGhpcy5fc3RhcnRUaW1lcigpKX0scC5wYXVzZT1mdW5jdGlvbigpe3RoaXMucGF1c2VkfHwodGhpcy5wYXVzZWQ9ITAsdGhpcy5fc3RvcFRpbWVyKCkpfSxwLmN1cnJlbnRUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGF5UHJvZ3Jlc3N9LGF2ZXJ0YS5FdmVudERpc3BhdGNoZXIuZXh0ZW5kKHApfShqUXVlcnkpLGZ1bmN0aW9uKCQpe1widXNlIHN0cmljdFwiO3ZhciBMYXllclR5cGVzPXtpbWFnZTpNU0ltYWdlTGF5ZXJFbGVtZW50LHRleHQ6TVNMYXllckVsZW1lbnQsdmlkZW86TVNWaWRlb0xheWVyRWxlbWVudCxob3RzcG90Ok1TSG90c3BvdExheWVyLGJ1dHRvbjpNU0J1dHRvbkxheWVyfTt3aW5kb3cuTWFzdGVyU2xpZGVyPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zPXthdXRvcGxheTohMSxsb29wOiExLG1vdXNlOiEwLHN3aXBlOiEwLGdyYWJDdXJzb3I6ITAsc3BhY2U6MCxmaWxsTW9kZTpcImZpbGxcIixzdGFydDoxLHZpZXc6XCJiYXNpY1wiLHdpZHRoOjMwMCxoZWlnaHQ6MTUwLGluVmlldzoxNSxjcml0TWFyZ2luOjEsaGVpZ2h0TGltaXQ6ITAsc21vb3RoSGVpZ2h0OiEwLGF1dG9IZWlnaHQ6ITEsbWluSGVpZ2h0Oi0xLGZ1bGx3aWR0aDohMSxmdWxsaGVpZ2h0OiExLGF1dG9maWxsOiExLGxheWVyc01vZGU6XCJjZW50ZXJcIixoaWRlTGF5ZXJzOiExLGVuZFBhdXNlOiExLGNlbnRlckNvbnRyb2xzOiEwLG92ZXJQYXVzZTohMCxzaHVmZmxlOiExLHNwZWVkOjE3LGRpcjpcImhcIixwcmVsb2FkOjAsd2hlZWw6ITEsbGF5b3V0OlwiYm94ZWRcIixhdXRvZmlsbFRhcmdldDpudWxsLGZ1bGxzY3JlZW5NYXJnaW46MCxpbnN0YW50U3RhcnRMYXllcnM6ITEscGFyYWxsYXhNb2RlOlwibW91c2VcIixydGw6ITEsZGVlcExpbms6bnVsbCxkZWVwTGlua1R5cGU6XCJwYXRoXCIsZGlzYWJsZVBsdWdpbnM6W119LHRoaXMuc2xpZGVzPVtdLHRoaXMuYWN0aXZlUGx1Z2lucz1bXSx0aGlzLiRlbGVtZW50PW51bGwsdGhpcy5sYXN0TWFyZ2luPTAsdGhpcy5sZWZ0U3BhY2U9MCx0aGlzLnRvcFNwYWNlPTAsdGhpcy5yaWdodFNwYWNlPTAsdGhpcy5ib3R0b21TcGFjZT0wLHRoaXMuX2hvbGRPbj0wO3ZhciB0aGF0PXRoaXM7dGhpcy5yZXNpemVfbGlzdGVuZXI9ZnVuY3Rpb24oKXt0aGF0Ll9yZXNpemUoKX0sJCh3aW5kb3cpLmJpbmQoXCJyZXNpemVcIix0aGlzLnJlc2l6ZV9saXN0ZW5lcil9LE1hc3RlclNsaWRlci5hdXRob3I9XCJBdmVydGEgTHRkLiAod3d3LmF2ZXJ0YS5uZXQpXCIsTWFzdGVyU2xpZGVyLnZlcnNpb249XCIyLjE0LjZcIixNYXN0ZXJTbGlkZXIucmVsZWFzZURhdGU9XCJNYXkgMjAxNVwiLE1hc3RlclNsaWRlci5fcGx1Z2lucz1bXTt2YXIgTVM9TWFzdGVyU2xpZGVyO01TLnJlZ2lzdGVyUGx1Z2luPWZ1bmN0aW9uKHBsdWdpbil7LTE9PT1NUy5fcGx1Z2lucy5pbmRleE9mKHBsdWdpbikmJk1TLl9wbHVnaW5zLnB1c2gocGx1Z2luKX07dmFyIHA9TWFzdGVyU2xpZGVyLnByb3RvdHlwZTtwLl9fc2V0dXBTbGlkZXM9ZnVuY3Rpb24oKXt2YXIgbmV3X3NsaWRlLHRoYXQ9dGhpcyxpbmQ9MDt0aGlzLiRlbGVtZW50LmNoaWxkcmVuKFwiLm1zLXNsaWRlXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgJHNsaWRlX2VsZT0kKHRoaXMpO25ld19zbGlkZT1uZXcgTVNTbGlkZSxuZXdfc2xpZGUuJGVsZW1lbnQ9JHNsaWRlX2VsZSxuZXdfc2xpZGUuc2xpZGVyPXRoYXQsbmV3X3NsaWRlLmRlbGF5PXZvaWQgMCE9PSRzbGlkZV9lbGUuZGF0YShcImRlbGF5XCIpPyRzbGlkZV9lbGUuZGF0YShcImRlbGF5XCIpOjMsbmV3X3NsaWRlLmZpbGxNb2RlPXZvaWQgMCE9PSRzbGlkZV9lbGUuZGF0YShcImZpbGwtbW9kZVwiKT8kc2xpZGVfZWxlLmRhdGEoXCJmaWxsLW1vZGVcIik6dGhhdC5vcHRpb25zLmZpbGxNb2RlLG5ld19zbGlkZS5pbmRleD1pbmQrKzt2YXIgc2xpZGVfaW1nPSRzbGlkZV9lbGUuY2hpbGRyZW4oXCJpbWc6bm90KC5tcy1sYXllcilcIik7c2xpZGVfaW1nLmxlbmd0aD4wJiZuZXdfc2xpZGUuc2V0Qkcoc2xpZGVfaW1nWzBdKTt2YXIgc2xpZGVfdmlkZW89JHNsaWRlX2VsZS5jaGlsZHJlbihcInZpZGVvXCIpO2lmKHNsaWRlX3ZpZGVvLmxlbmd0aD4wJiZuZXdfc2xpZGUuc2V0QkdWaWRlbyhzbGlkZV92aWRlbyksdGhhdC5jb250cm9scylmb3IodmFyIGk9MCxsPXRoYXQuY29udHJvbHMubGVuZ3RoO2w+aTsrK2kpdGhhdC5jb250cm9sc1tpXS5zbGlkZUFjdGlvbihuZXdfc2xpZGUpOyRzbGlkZV9lbGUuY2hpbGRyZW4oXCJhXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKTtcInZpZGVvXCI9PT10aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiKT8obmV3X3NsaWRlLnZpZGVvPXRoaXMuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSxuZXdfc2xpZGUudmlkZW9BdXRvUGxheT0kdGhpcy5kYXRhKFwiYXV0b3BsYXlcIiksJHRoaXMucmVtb3ZlKCkpOiR0aGlzLmhhc0NsYXNzKFwibXMtbGF5ZXJcIil8fChuZXdfc2xpZGUubGluaz0kKHRoaXMpKX0pO3RoYXQuX19jcmVhdGVTbGlkZUxheWVycyhuZXdfc2xpZGUsJHNsaWRlX2VsZS5maW5kKFwiLm1zLWxheWVyXCIpKSx0aGF0LnNsaWRlcy5wdXNoKG5ld19zbGlkZSksdGhhdC5zbGlkZUNvbnRyb2xsZXIudmlldy5hZGRTbGlkZShuZXdfc2xpZGUpfSl9LHAuX19jcmVhdGVTbGlkZUxheWVycz1mdW5jdGlvbihzbGlkZSxsYXllcnMpezAhPWxheWVycy5sZW5ndGgmJihzbGlkZS5zZXR1cExheWVyQ29udHJvbGxlcigpLGxheWVycy5lYWNoKGZ1bmN0aW9uKGluZGV4LGRvbUVsZSl7dmFyICRwYXJlbnRfZWxlLCRsYXllcl9lbGVtZW50PSQodGhpcyk7XCJBXCI9PT1kb21FbGUubm9kZU5hbWUmJlwiaW1hZ2VcIj09PSRsYXllcl9lbGVtZW50LmZpbmQoXCI+aW1nXCIpLmRhdGEoXCJ0eXBlXCIpJiYoJHBhcmVudF9lbGU9JCh0aGlzKSwkbGF5ZXJfZWxlbWVudD0kcGFyZW50X2VsZS5maW5kKFwiaW1nXCIpKTt2YXIgbGF5ZXI9bmV3KExheWVyVHlwZXNbJGxheWVyX2VsZW1lbnQuZGF0YShcInR5cGVcIil8fFwidGV4dFwiXSk7bGF5ZXIuJGVsZW1lbnQ9JGxheWVyX2VsZW1lbnQsbGF5ZXIubGluaz0kcGFyZW50X2VsZTt2YXIgZWZmX3BhcmFtZXRlcnM9e30sZW5kX2VmZl9wYXJhbWV0ZXJzPXt9O3ZvaWQgMCE9PSRsYXllcl9lbGVtZW50LmRhdGEoXCJlZmZlY3RcIikmJihlZmZfcGFyYW1ldGVycy5uYW1lPSRsYXllcl9lbGVtZW50LmRhdGEoXCJlZmZlY3RcIikpLHZvaWQgMCE9PSRsYXllcl9lbGVtZW50LmRhdGEoXCJlYXNlXCIpJiYoZWZmX3BhcmFtZXRlcnMuZWFzZT0kbGF5ZXJfZWxlbWVudC5kYXRhKFwiZWFzZVwiKSksdm9pZCAwIT09JGxheWVyX2VsZW1lbnQuZGF0YShcImR1cmF0aW9uXCIpJiYoZWZmX3BhcmFtZXRlcnMuZHVyYXRpb249JGxheWVyX2VsZW1lbnQuZGF0YShcImR1cmF0aW9uXCIpKSx2b2lkIDAhPT0kbGF5ZXJfZWxlbWVudC5kYXRhKFwiZGVsYXlcIikmJihlZmZfcGFyYW1ldGVycy5kZWxheT0kbGF5ZXJfZWxlbWVudC5kYXRhKFwiZGVsYXlcIikpLCRsYXllcl9lbGVtZW50LmRhdGEoXCJoaWRlLWVmZmVjdFwiKSYmKGVuZF9lZmZfcGFyYW1ldGVycy5uYW1lPSRsYXllcl9lbGVtZW50LmRhdGEoXCJoaWRlLWVmZmVjdFwiKSksJGxheWVyX2VsZW1lbnQuZGF0YShcImhpZGUtZWFzZVwiKSYmKGVuZF9lZmZfcGFyYW1ldGVycy5lYXNlPSRsYXllcl9lbGVtZW50LmRhdGEoXCJoaWRlLWVhc2VcIikpLHZvaWQgMCE9PSRsYXllcl9lbGVtZW50LmRhdGEoXCJoaWRlLWR1cmF0aW9uXCIpJiYoZW5kX2VmZl9wYXJhbWV0ZXJzLmR1cmF0aW9uPSRsYXllcl9lbGVtZW50LmRhdGEoXCJoaWRlLWR1cmF0aW9uXCIpKSx2b2lkIDAhPT0kbGF5ZXJfZWxlbWVudC5kYXRhKFwiaGlkZS10aW1lXCIpJiYoZW5kX2VmZl9wYXJhbWV0ZXJzLnRpbWU9JGxheWVyX2VsZW1lbnQuZGF0YShcImhpZGUtdGltZVwiKSksbGF5ZXIuc2V0U3RhcnRBbmltKGVmZl9wYXJhbWV0ZXJzKSxsYXllci5zZXRFbmRBbmltKGVuZF9lZmZfcGFyYW1ldGVycyksc2xpZGUubGF5ZXJDb250cm9sbGVyLmFkZExheWVyKGxheWVyKX0pKX0scC5fcmVtb3ZlTG9hZGluZz1mdW5jdGlvbigpeyQod2luZG93KS51bmJpbmQoXCJyZXNpemVcIix0aGlzLnJlc2l6ZV9saXN0ZW5lciksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcImJlZm9yZS1pbml0XCIpLmNzcyhcInZpc2liaWxpdHlcIixcInZpc2libGVcIikuY3NzKFwiaGVpZ2h0XCIsXCJcIikuY3NzKFwib3BhY2l0eVwiLDApLENUd2Vlbi5mYWRlSW4odGhpcy4kZWxlbWVudCksdGhpcy4kbG9hZGluZy5yZW1vdmUoKSx0aGlzLnNsaWRlQ29udHJvbGxlciYmdGhpcy5zbGlkZUNvbnRyb2xsZXIuX19yZXNpemUoKX0scC5fcmVzaXplPWZ1bmN0aW9uKCl7aWYodGhpcy4kbG9hZGluZyl7dmFyIGg9dGhpcy4kbG9hZGluZ1swXS5jbGllbnRXaWR0aC90aGlzLmFzcGVjdDtoPXRoaXMub3B0aW9ucy5oZWlnaHRMaW1pdD9NYXRoLm1pbihoLHRoaXMub3B0aW9ucy5oZWlnaHQpOmgsdGhpcy4kbG9hZGluZy5oZWlnaHQoaCksdGhpcy4kZWxlbWVudC5oZWlnaHQoaCl9fSxwLl9zaHVmZmxlU2xpZGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciByLHNsaWRlcz10aGlzLiRlbGVtZW50LmNoaWxkcmVuKFwiLm1zLXNsaWRlXCIpLGk9MCxsPXNsaWRlcy5sZW5ndGg7bD5pOysraSlyPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoobC0xKSksaSE9ciYmKHRoaXMuJGVsZW1lbnRbMF0uaW5zZXJ0QmVmb3JlKHNsaWRlc1tpXSxzbGlkZXNbcl0pLHNsaWRlcz10aGlzLiRlbGVtZW50LmNoaWxkcmVuKFwiLm1zLXNsaWRlXCIpKX0scC5fc2V0dXBTbGlkZXJMYXlvdXQ9ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVTaWRlTWFyZ2lucygpLHRoaXMubGFzdE1hcmdpbj10aGlzLmxlZnRTcGFjZTt2YXIgbG89dGhpcy5vcHRpb25zLmxheW91dDtcImJveGVkXCIhPT1sbyYmXCJwYXJ0aWFsdmlld1wiIT09bG8mJih0aGlzLm9wdGlvbnMuZnVsbHdpZHRoPSEwKSwoXCJmdWxsc2NyZWVuXCI9PT1sb3x8XCJhdXRvZmlsbFwiPT09bG8pJiYodGhpcy5vcHRpb25zLmZ1bGxoZWlnaHQ9ITAsXCJhdXRvZmlsbFwiPT09bG8mJih0aGlzLiRhdXRvZmlsbFRhcmdldD0kKHRoaXMub3B0aW9ucy5hdXRvZmlsbFRhcmdldCksMD09PXRoaXMuJGF1dG9maWxsVGFyZ2V0Lmxlbmd0aCYmKHRoaXMuJGF1dG9maWxsVGFyZ2V0PXRoaXMuJGVsZW1lbnQucGFyZW50KCkpKSksXCJwYXJ0aWFsdmlld1wiPT09bG8mJnRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoXCJtcy1sYXlvdXQtcGFydGlhbHZpZXdcIiksKFwiZnVsbHNjcmVlblwiPT09bG98fFwiZnVsbHdpZHRoXCI9PT1sb3x8XCJhdXRvZmlsbFwiPT09bG8pJiYoJCh3aW5kb3cpLmJpbmQoXCJyZXNpemVcIix7dGhhdDp0aGlzfSx0aGlzLl91cGRhdGVMYXlvdXQpLHRoaXMuX3VwZGF0ZUxheW91dCgpKSwkKHdpbmRvdykuYmluZChcInJlc2l6ZVwiLHRoaXMuc2xpZGVDb250cm9sbGVyLnJlc2l6ZV9saXN0ZW5lcil9LHAuX3VwZGF0ZUxheW91dD1mdW5jdGlvbihldmVudCl7dmFyIHRoYXQ9ZXZlbnQ/ZXZlbnQuZGF0YS50aGF0OnRoaXMsbG89dGhhdC5vcHRpb25zLmxheW91dCwkZWxlbWVudD10aGF0LiRlbGVtZW50LCR3aW49JCh3aW5kb3cpO2lmKFwiZnVsbHNjcmVlblwiPT09bG8pZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLCRlbGVtZW50LmhlaWdodCgkd2luLmhlaWdodCgpLXRoYXQub3B0aW9ucy5mdWxsc2NyZWVuTWFyZ2luLXRoYXQudG9wU3BhY2UtdGhhdC5ib3R0b21TcGFjZSksZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1cIlwiO2Vsc2UgaWYoXCJhdXRvZmlsbFwiPT09bG8pcmV0dXJuIHZvaWQgJGVsZW1lbnQuaGVpZ2h0KHRoYXQuJGF1dG9maWxsVGFyZ2V0LmhlaWdodCgpLXRoYXQub3B0aW9ucy5mdWxsc2NyZWVuTWFyZ2luLXRoYXQudG9wU3BhY2UtdGhhdC5ib3R0b21TcGFjZSkud2lkdGgodGhhdC4kYXV0b2ZpbGxUYXJnZXQud2lkdGgoKS10aGF0LmxlZnRTcGFjZS10aGF0LnJpZ2h0U3BhY2UpOyRlbGVtZW50LndpZHRoKCR3aW4ud2lkdGgoKS10aGF0LmxlZnRTcGFjZS10aGF0LnJpZ2h0U3BhY2UpO3ZhciBtYXJnaW49LSRlbGVtZW50Lm9mZnNldCgpLmxlZnQrdGhhdC5sZWZ0U3BhY2UrdGhhdC5sYXN0TWFyZ2luOyRlbGVtZW50LmNzcyhcIm1hcmdpbi1sZWZ0XCIsbWFyZ2luKSx0aGF0Lmxhc3RNYXJnaW49bWFyZ2lufSxwLl9pbml0PWZ1bmN0aW9uKCl7aWYoISh0aGlzLl9ob2xkT24+MCkmJnRoaXMuX2RvY1JlYWR5KXtpZih0aGlzLmluaXRpYWxpemVkPSEwLFwiYWxsXCIhPT10aGlzLm9wdGlvbnMucHJlbG9hZCYmdGhpcy5fcmVtb3ZlTG9hZGluZygpLHRoaXMub3B0aW9ucy5zaHVmZmxlJiZ0aGlzLl9zaHVmZmxlU2xpZGVzKCksTVNMYXllckVmZmVjdHMuc2V0dXAoKSx0aGlzLnNsaWRlQ29udHJvbGxlci5zZXR1cFZpZXcoKSx0aGlzLnZpZXc9dGhpcy5zbGlkZUNvbnRyb2xsZXIudmlldyx0aGlzLiRjb250cm9sc0NvbnQ9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtaW5uZXItY29udHJvbHMtY29udFwiKSx0aGlzLm9wdGlvbnMuY2VudGVyQ29udHJvbHMmJnRoaXMuJGNvbnRyb2xzQ29udC5jc3MoXCJtYXgtd2lkdGhcIix0aGlzLm9wdGlvbnMud2lkdGgrXCJweFwiKSx0aGlzLiRjb250cm9sc0NvbnQucHJlcGVuZCh0aGlzLnZpZXcuJGVsZW1lbnQpLHRoaXMuJG1zQ29udGFpbmVyPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLWNvbnRhaW5lclwiKS5wcmVwZW5kVG8odGhpcy4kZWxlbWVudCkuYXBwZW5kKHRoaXMuJGNvbnRyb2xzQ29udCksdGhpcy5jb250cm9scylmb3IodmFyIGk9MCxsPXRoaXMuY29udHJvbHMubGVuZ3RoO2w+aTsrK2kpdGhpcy5jb250cm9sc1tpXS5zZXR1cCgpO2lmKHRoaXMuX3NldHVwU2xpZGVyTGF5b3V0KCksdGhpcy5fX3NldHVwU2xpZGVzKCksdGhpcy5zbGlkZUNvbnRyb2xsZXIuc2V0dXAoKSx0aGlzLmNvbnRyb2xzKWZvcihpPTAsbD10aGlzLmNvbnRyb2xzLmxlbmd0aDtsPmk7KytpKXRoaXMuY29udHJvbHNbaV0uY3JlYXRlKCk7aWYodGhpcy5vcHRpb25zLmF1dG9IZWlnaHQmJnRoaXMuc2xpZGVDb250cm9sbGVyLnZpZXcuJGVsZW1lbnQuaGVpZ2h0KHRoaXMuc2xpZGVDb250cm9sbGVyLmN1cnJlbnRTbGlkZS5nZXRIZWlnaHQoKSksdGhpcy5vcHRpb25zLnN3aXBlJiYhd2luZG93Ll90b3VjaCYmdGhpcy5vcHRpb25zLmdyYWJDdXJzb3ImJnRoaXMub3B0aW9ucy5tb3VzZSl7dmFyICR2aWV3PXRoaXMudmlldy4kZWxlbWVudDskdmlldy5tb3VzZWRvd24oZnVuY3Rpb24oKXskdmlldy5yZW1vdmVDbGFzcyhcIm1zLWdyYWItY3Vyc29yXCIpLCR2aWV3LmFkZENsYXNzKFwibXMtZ3JhYmJpbmctY3Vyc29yXCIpLCQuYnJvd3Nlci5tc2llJiZ3aW5kb3cubXNfZ3JhYmJpbmdfY3Vyb3NyJiYoJHZpZXdbMF0uc3R5bGUuY3Vyc29yPVwidXJsKFwiK3dpbmRvdy5tc19ncmFiYmluZ19jdXJvc3IrXCIpLCBtb3ZlXCIpfSkuYWRkQ2xhc3MoXCJtcy1ncmFiLWN1cnNvclwiKSwkKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uKCl7JHZpZXcucmVtb3ZlQ2xhc3MoXCJtcy1ncmFiYmluZy1jdXJzb3JcIiksJHZpZXcuYWRkQ2xhc3MoXCJtcy1ncmFiLWN1cnNvclwiKSwkLmJyb3dzZXIubXNpZSYmd2luZG93Lm1zX2dyYWJfY3Vyb3NyJiYoJHZpZXdbMF0uc3R5bGUuY3Vyc29yPVwidXJsKFwiK3dpbmRvdy5tc19ncmFiX2N1cm9zcitcIiksIG1vdmVcIil9KX10aGlzLnNsaWRlQ29udHJvbGxlci5fX2Rpc3BhdGNoSW5pdCgpfX0scC5zZXRIZWlnaHQ9ZnVuY3Rpb24odmFsdWUpe3RoaXMub3B0aW9ucy5zbW9vdGhIZWlnaHQ/KHRoaXMuaHR3ZWVuJiYodGhpcy5odHdlZW4ucmVzZXQ/dGhpcy5odHdlZW4ucmVzZXQoKTp0aGlzLmh0d2Vlbi5zdG9wKCEwKSksdGhpcy5odHdlZW49Q1R3ZWVuLmFuaW1hdGUodGhpcy5zbGlkZUNvbnRyb2xsZXIudmlldy4kZWxlbWVudCw1MDAse2hlaWdodDp2YWx1ZX0se2Vhc2U6XCJlYXNlT3V0UXVhcnRcIn0pKTp0aGlzLnNsaWRlQ29udHJvbGxlci52aWV3LiRlbGVtZW50LmhlaWdodCh2YWx1ZSl9LHAucmVzZXJ2ZVNwYWNlPWZ1bmN0aW9uKHNpZGUsc3BhY2Upe3ZhciBzaWRlU3BhY2U9c2lkZStcIlNwYWNlXCIscG9zPXRoaXNbc2lkZVNwYWNlXTtyZXR1cm4gdGhpc1tzaWRlU3BhY2VdKz1zcGFjZSx0aGlzLl91cGRhdGVTaWRlTWFyZ2lucygpLHBvc30scC5fdXBkYXRlU2lkZU1hcmdpbnM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmNzcyhcIm1hcmdpblwiLHRoaXMudG9wU3BhY2UrXCJweCBcIit0aGlzLnJpZ2h0U3BhY2UrXCJweCBcIit0aGlzLmJvdHRvbVNwYWNlK1wicHggXCIrdGhpcy5sZWZ0U3BhY2UrXCJweFwiKX0scC5fcmVhbGlnbkNvbnRyb2xzPWZ1bmN0aW9uKCl7dGhpcy5yaWdodFNwYWNlPXRoaXMubGVmdFNwYWNlPXRoaXMudG9wU3BhY2U9dGhpcy5ib3R0b21TcGFjZT0wLHRoaXMuX3VwZGF0ZVNpZGVNYXJnaW5zKCksdGhpcy5hcGkuZGlzcGF0Y2hFdmVudChuZXcgTVNTbGlkZXJFdmVudChNU1NsaWRlckV2ZW50LlJFU0VSVkVEX1NQQUNFX0NIQU5HRSkpfSxwLmNvbnRyb2w9ZnVuY3Rpb24oY29udHJvbCxvcHRpb25zKXtpZihjb250cm9sIGluIE1TU2xpZGVDb250cm9sbGVyLlNsaWRlckNvbnRyb2xMaXN0KXt0aGlzLmNvbnRyb2xzfHwodGhpcy5jb250cm9scz1bXSk7dmFyIGlucz1uZXcgTVNTbGlkZUNvbnRyb2xsZXIuU2xpZGVyQ29udHJvbExpc3RbY29udHJvbF0ob3B0aW9ucyk7cmV0dXJuIGlucy5zbGlkZXI9dGhpcyx0aGlzLmNvbnRyb2xzLnB1c2goaW5zKSx0aGlzfX0scC5ob2xkT249ZnVuY3Rpb24oKXt0aGlzLl9ob2xkT24rK30scC5yZWxlYXNlPWZ1bmN0aW9uKCl7dGhpcy5faG9sZE9uLS0sdGhpcy5faW5pdCgpfSxwLnNldHVwPWZ1bmN0aW9uKHRhcmdldCxvcHRpb25zKXtpZih0aGlzLiRlbGVtZW50PVwic3RyaW5nXCI9PXR5cGVvZiB0YXJnZXQ/JChcIiNcIit0YXJnZXQpOnRhcmdldC5lcSgwKSx0aGlzLnNldHVwTWFya3VwPXRoaXMuJGVsZW1lbnQuaHRtbCgpLDAhPT10aGlzLiRlbGVtZW50Lmxlbmd0aCl7dGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcIm1hc3Rlci1zbGlkZXJcIikuYWRkQ2xhc3MoXCJiZWZvcmUtaW5pdFwiKSwkLmJyb3dzZXIubXNpZT90aGlzLiRlbGVtZW50LmFkZENsYXNzKFwibXMtaWVcIikuYWRkQ2xhc3MoXCJtcy1pZVwiKyQuYnJvd3Nlci52ZXJzaW9uLnNsaWNlKDAsJC5icm93c2VyLnZlcnNpb24uaW5kZXhPZihcIi5cIikpKTokLmJyb3dzZXIud2Via2l0P3RoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoXCJtcy13a1wiKTokLmJyb3dzZXIubW96aWxsYSYmdGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcIm1zLW1velwiKTt2YXIgdWE9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLGlzQW5kcm9pZD11YS5pbmRleE9mKFwiYW5kcm9pZFwiKT4tMTtpc0FuZHJvaWQmJnRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoXCJtcy1hbmRyb2lkXCIpO3ZhciB0aGF0PXRoaXM7JC5leHRlbmQodGhpcy5vcHRpb25zLG9wdGlvbnMpLHRoaXMuYXNwZWN0PXRoaXMub3B0aW9ucy53aWR0aC90aGlzLm9wdGlvbnMuaGVpZ2h0LHRoaXMuJGxvYWRpbmc9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtbG9hZGluZy1jb250YWluZXJcIikuaW5zZXJ0QmVmb3JlKHRoaXMuJGVsZW1lbnQpLmFwcGVuZCgkKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1sb2FkaW5nXCIpKSx0aGlzLiRsb2FkaW5nLnBhcmVudCgpLmNzcyhcInBvc2l0aW9uXCIsXCJyZWxhdGl2ZVwiKSx0aGlzLm9wdGlvbnMuYXV0b2ZpbGwmJih0aGlzLm9wdGlvbnMuZnVsbHdpZHRoPSEwLHRoaXMub3B0aW9ucy5mdWxsaGVpZ2h0PSEwKSx0aGlzLm9wdGlvbnMuZnVsbGhlaWdodCYmdGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcIm1zLWZ1bGxoZWlnaHRcIiksdGhpcy5fcmVzaXplKCksdGhpcy5zbGlkZUNvbnRyb2xsZXI9bmV3IE1TU2xpZGVDb250cm9sbGVyKHRoaXMpLHRoaXMuYXBpPXRoaXMuc2xpZGVDb250cm9sbGVyO2Zvcih2YXIgaT0wLGw9TVMuX3BsdWdpbnMubGVuZ3RoO2khPT1sO2krKyl7dmFyIHBsdWdpbj1NUy5fcGx1Z2luc1tpXTstMT09PXRoaXMub3B0aW9ucy5kaXNhYmxlUGx1Z2lucy5pbmRleE9mKHBsdWdpbi5uYW1lKSYmdGhpcy5hY3RpdmVQbHVnaW5zLnB1c2gobmV3IHBsdWdpbih0aGlzKSl9cmV0dXJuICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dGhhdC5fZG9jUmVhZHk9ITAsdGhhdC5faW5pdCgpfSksdGhpc319LHAuZGVzdHJveT1mdW5jdGlvbihpbnNlcnRNYXJrdXApe2Zvcih2YXIgaT0wLGw9dGhpcy5hY3RpdmVQbHVnaW5zLmxlbmd0aDtpIT09bDtpKyspdGhpcy5hY3RpdmVQbHVnaW5zW2ldLmRlc3Ryb3koKTtpZih0aGlzLmNvbnRyb2xzKWZvcihpPTAsbD10aGlzLmNvbnRyb2xzLmxlbmd0aDtpIT09bDtpKyspdGhpcy5jb250cm9sc1tpXS5kZXN0cm95KCk7dGhpcy5zbGlkZUNvbnRyb2xsZXImJnRoaXMuc2xpZGVDb250cm9sbGVyLl9kZXN0cm95KCksdGhpcy4kbG9hZGluZyYmdGhpcy4kbG9hZGluZy5yZW1vdmUoKSxpbnNlcnRNYXJrdXA/dGhpcy4kZWxlbWVudC5odG1sKHRoaXMuc2V0dXBNYXJrdXApLmNzcyhcInZpc2liaWxpdHlcIixcImhpZGRlblwiKTp0aGlzLiRlbGVtZW50LnJlbW92ZSgpO3ZhciBsbz10aGlzLm9wdGlvbnMubGF5b3V0OyhcImZ1bGxzY3JlZW5cIj09PWxvfHxcImZ1bGx3aWR0aFwiPT09bG8pJiYkKHdpbmRvdykudW5iaW5kKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlTGF5b3V0KSx0aGlzLnZpZXc9bnVsbCx0aGlzLnNsaWRlcz1udWxsLHRoaXMub3B0aW9ucz1udWxsLHRoaXMuc2xpZGVDb250cm9sbGVyPW51bGwsdGhpcy5hcGk9bnVsbCx0aGlzLnJlc2l6ZV9saXN0ZW5lcj1udWxsLHRoaXMuYWN0aXZlUGx1Z2lucz1udWxsfX0oalF1ZXJ5KSxmdW5jdGlvbigkLHdpbmRvdyxkb2N1bWVudCx1bmRlZmluZWQpe2Z1bmN0aW9uIE1hc3RlclNsaWRlclBsdWdpbihlbGVtZW50LG9wdGlvbnMpe3RoaXMuZWxlbWVudD1lbGVtZW50LHRoaXMuJGVsZW1lbnQ9JChlbGVtZW50KSx0aGlzLnNldHRpbmdzPSQuZXh0ZW5kKHt9LGRlZmF1bHRzLG9wdGlvbnMpLHRoaXMuX2RlZmF1bHRzPWRlZmF1bHRzLHRoaXMuX25hbWU9cGx1Z2luTmFtZSx0aGlzLmluaXQoKX12YXIgcGx1Z2luTmFtZT1cIm1hc3RlcnNsaWRlclwiLGRlZmF1bHRzPXtjb250cm9sczp7fX07JC5leHRlbmQoTWFzdGVyU2xpZGVyUGx1Z2luLnByb3RvdHlwZSx7aW5pdDpmdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7dGhpcy5fc2xpZGVyPW5ldyBNYXN0ZXJTbGlkZXI7Zm9yKHZhciBjb250cm9sIGluIHRoaXMuc2V0dGluZ3MuY29udHJvbHMpdGhpcy5fc2xpZGVyLmNvbnRyb2woY29udHJvbCx0aGlzLnNldHRpbmdzLmNvbnRyb2xzW2NvbnRyb2xdKTt0aGlzLl9zbGlkZXIuc2V0dXAodGhpcy4kZWxlbWVudCx0aGlzLnNldHRpbmdzKTt2YXIgX3N1cGVyRGlzcGF0Y2g9dGhpcy5fc2xpZGVyLmFwaS5kaXNwYXRjaEV2ZW50O3RoaXMuX3NsaWRlci5hcGkuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihldmVudCl7c2VsZi4kZWxlbWVudC50cmlnZ2VyKGV2ZW50LnR5cGUpLF9zdXBlckRpc3BhdGNoLmNhbGwodGhpcyxldmVudCl9fSxhcGk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2xpZGVyLmFwaX0sc2xpZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NsaWRlcn19KSwkLmZuW3BsdWdpbk5hbWVdPWZ1bmN0aW9uKG9wdGlvbnMpe3ZhciBhcmdzPWFyZ3VtZW50cyxwbHVnaW49XCJwbHVnaW5fXCIrcGx1Z2luTmFtZTtpZihvcHRpb25zPT09dW5kZWZpbmVkfHxcIm9iamVjdFwiPT10eXBlb2Ygb3B0aW9ucylyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7JC5kYXRhKHRoaXMscGx1Z2luKXx8JC5kYXRhKHRoaXMscGx1Z2luLG5ldyBNYXN0ZXJTbGlkZXJQbHVnaW4odGhpcyxvcHRpb25zKSl9KTtpZihcInN0cmluZ1wiPT10eXBlb2Ygb3B0aW9ucyYmXCJfXCIhPT1vcHRpb25zWzBdJiZcImluaXRcIiE9PW9wdGlvbnMpe3ZhciByZXR1cm5zO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaW5zdGFuY2U9JC5kYXRhKHRoaXMscGx1Z2luKTtpbnN0YW5jZSBpbnN0YW5jZW9mIE1hc3RlclNsaWRlclBsdWdpbiYmXCJmdW5jdGlvblwiPT10eXBlb2YgaW5zdGFuY2Vbb3B0aW9uc10mJihyZXR1cm5zPWluc3RhbmNlW29wdGlvbnNdLmFwcGx5KGluc3RhbmNlLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MsMSkpKSxpbnN0YW5jZSBpbnN0YW5jZW9mIE1hc3RlclNsaWRlclBsdWdpbiYmXCJmdW5jdGlvblwiPT10eXBlb2YgaW5zdGFuY2UuX3NsaWRlci5hcGlbb3B0aW9uc10mJihyZXR1cm5zPWluc3RhbmNlLl9zbGlkZXIuYXBpW29wdGlvbnNdLmFwcGx5KGluc3RhbmNlLl9zbGlkZXIuYXBpLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MsMSkpKSxcImRlc3Ryb3lcIj09PW9wdGlvbnMmJiQuZGF0YSh0aGlzLHBsdWdpbixudWxsKX0pLHJldHVybnMhPT11bmRlZmluZWQ/cmV0dXJuczp0aGlzfX19KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLHdpbmRvdy5NU1ZpZXdFdmVudHM9ZnVuY3Rpb24odHlwZSxkYXRhKXt0aGlzLnR5cGU9dHlwZSx0aGlzLmRhdGE9ZGF0YX0sTVNWaWV3RXZlbnRzLlNXSVBFX1NUQVJUPVwic3dpcGVTdGFydFwiLE1TVmlld0V2ZW50cy5TV0lQRV9FTkQ9XCJzd2lwZUVuZFwiLE1TVmlld0V2ZW50cy5TV0lQRV9NT1ZFPVwic3dpcGVNb3ZlXCIsTVNWaWV3RXZlbnRzLlNXSVBFX0NBTkNFTD1cInN3aXBlQ2FuY2VsXCIsTVNWaWV3RXZlbnRzLlNDUk9MTD1cInNjcm9sbFwiLE1TVmlld0V2ZW50cy5DSEFOR0VfU1RBUlQ9XCJzbGlkZUNoYW5nZVN0YXJ0XCIsTVNWaWV3RXZlbnRzLkNIQU5HRV9FTkQ9XCJzbGlkZUNoYW5nZUVuZFwiLGZ1bmN0aW9uKCQpe1widXNlIHN0cmljdFwiO3dpbmRvdy5NU0Jhc2ljVmlldz1mdW5jdGlvbihvcHRpb25zKXt0aGlzLm9wdGlvbnM9e2xvb3A6ITEsZGlyOlwiaFwiLGF1dG9IZWlnaHQ6ITEsc3BhY2luZzo1LG1vdXNlU3dpcGU6ITAsc3dpcGU6ITAsc3BlZWQ6MTcsbWluU2xpZGVTcGVlZDoyLHZpZXdOdW06MjAsY3JpdE1hcmdpbjoxfSwkLmV4dGVuZCh0aGlzLm9wdGlvbnMsb3B0aW9ucyksdGhpcy5kaXI9dGhpcy5vcHRpb25zLmRpcix0aGlzLmxvb3A9dGhpcy5vcHRpb25zLmxvb3AsdGhpcy5zcGFjaW5nPXRoaXMub3B0aW9ucy5zcGFjaW5nLHRoaXMuX193aWR0aD0wLHRoaXMuX19oZWlnaHQ9MCx0aGlzLl9fY3NzUHJvYj1cImhcIj09PXRoaXMuZGlyP1wibGVmdFwiOlwidG9wXCIsdGhpcy5fX29mZnNldD1cImhcIj09PXRoaXMuZGlyP1wib2Zmc2V0TGVmdFwiOlwib2Zmc2V0VG9wXCIsdGhpcy5fX2RpbWVuc2lvbj1cImhcIj09PXRoaXMuZGlyP1wiX193aWR0aFwiOlwiX19oZWlnaHRcIix0aGlzLl9fdHJhbnNsYXRlX2VuZD13aW5kb3cuX2NzczNkP1wiIHRyYW5zbGF0ZVooMHB4KVwiOlwiXCIsdGhpcy4kc2xpZGVDb250PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXNsaWRlLWNvbnRhaW5lclwiKSx0aGlzLiRlbGVtZW50PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXZpZXdcIikuYWRkQ2xhc3MoXCJtcy1iYXNpYy12aWV3XCIpLmFwcGVuZCh0aGlzLiRzbGlkZUNvbnQpLHRoaXMuY3VycmVudFNsaWRlPW51bGwsdGhpcy5pbmRleD0tMSx0aGlzLnNsaWRlc0NvdW50PTAsdGhpcy5zbGlkZXM9W10sdGhpcy5zbGlkZUxpc3Q9W10sdGhpcy52aWV3U2xpZGVzTGlzdD1bXSx0aGlzLmNzczM9d2luZG93Ll9jc3NhbmltLHRoaXMuc3RhcnRfYnVmZmVyPTAsdGhpcy5maXJzdHNsaWRlX3NuYXA9MCx0aGlzLnNsaWRlQ2hhbmdlZD0hMSx0aGlzLmNvbnRyb2xsZXI9bmV3IENvbnRyb2xsZXIoMCwwLHtzbmFwcGluZzohMCxzbmFwc2l6ZToxMDAscGFnaW5nOiEwLHNuYXBwaW5nTWluU3BlZWQ6dGhpcy5vcHRpb25zLm1pblNsaWRlU3BlZWQsZnJpY3Rpb246KDEwMC0uNSp0aGlzLm9wdGlvbnMuc3BlZWQpLzEwMCxlbmRsZXNzOnRoaXMubG9vcH0pLHRoaXMuY29udHJvbGxlci5yZW5kZXJDYWxsYmFjayhcImhcIj09PXRoaXMuZGlyP3RoaXMuX2hvcml6VXBkYXRlOnRoaXMuX3ZlcnRpVXBkYXRlLHRoaXMpLHRoaXMuY29udHJvbGxlci5zbmFwcGluZ0NhbGxiYWNrKHRoaXMuX19zbmFwVXBkYXRlLHRoaXMpLHRoaXMuY29udHJvbGxlci5zbmFwQ29tcGxldGVDYWxsYmFjayh0aGlzLl9fc25hcENvbXBlbGV0LHRoaXMpLGF2ZXJ0YS5FdmVudERpc3BhdGNoZXIuY2FsbCh0aGlzKX07dmFyIHA9TVNCYXNpY1ZpZXcucHJvdG90eXBlO3AuX19zbmFwQ29tcGVsZXQ9ZnVuY3Rpb24oKXt0aGlzLnNsaWRlQ2hhbmdlZCYmKHRoaXMuc2xpZGVDaGFuZ2VkPSExLHRoaXMuX19sb2NhdGVTbGlkZXMoKSx0aGlzLnN0YXJ0X2J1ZmZlcj0wLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNWaWV3RXZlbnRzKE1TVmlld0V2ZW50cy5DSEFOR0VfRU5EKSkpfSxwLl9fc25hcFVwZGF0ZT1mdW5jdGlvbihjb250cm9sbGVyLHNuYXAsY2hhbmdlKXtpZih0aGlzLmxvb3Ape3ZhciB0YXJnZXRfaW5kZXg9dGhpcy5pbmRleCtjaGFuZ2U7dGhpcy51cGRhdGVMb29wKHRhcmdldF9pbmRleCksdGFyZ2V0X2luZGV4Pj10aGlzLnNsaWRlc0NvdW50JiYodGFyZ2V0X2luZGV4LT10aGlzLnNsaWRlc0NvdW50KSwwPnRhcmdldF9pbmRleCYmKHRhcmdldF9pbmRleD10aGlzLnNsaWRlc0NvdW50K3RhcmdldF9pbmRleCksdGhpcy5pbmRleD10YXJnZXRfaW5kZXh9ZWxzZXtpZigwPnNuYXB8fHNuYXA+PXRoaXMuc2xpZGVzQ291bnQpcmV0dXJuO3RoaXMuaW5kZXg9c25hcH10aGlzLl9jaGVja0NyaXRNYXJnaW5zKCksJC5icm93c2VyLm1vemlsbGEmJih0aGlzLnNsaWRlTGlzdFt0aGlzLmluZGV4XS4kZWxlbWVudFswXS5zdHlsZS5tYXJnaW5Ub3A9XCIwLjFweFwiLHRoaXMuY3VycmVudFNsaWRlJiYodGhpcy5jdXJyZW50U2xpZGUuJGVsZW1lbnRbMF0uc3R5bGUubWFyZ2luVG9wPVwiXCIpKTt2YXIgbmV3X3NsaWRlPXRoaXMuc2xpZGVMaXN0W3RoaXMuaW5kZXhdO25ld19zbGlkZSE9PXRoaXMuY3VycmVudFNsaWRlJiYodGhpcy5jdXJyZW50U2xpZGU9bmV3X3NsaWRlLHRoaXMuYXV0b1VwZGF0ZVpJbmRleCYmdGhpcy5fX3VwZGF0ZVNsaWRlc1ppbmRleCgpLHRoaXMuc2xpZGVDaGFuZ2VkPSEwLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNWaWV3RXZlbnRzKE1TVmlld0V2ZW50cy5DSEFOR0VfU1RBUlQpKSl9LHAuX2NoZWNrQ3JpdE1hcmdpbnM9ZnVuY3Rpb24oKXtpZighdGhpcy5ub3JtYWxNb2RlKXt2YXIgaGxmPU1hdGguZmxvb3IodGhpcy5vcHRpb25zLnZpZXdOdW0vMiksaW5WaWV3PXRoaXMudmlld1NsaWRlc0xpc3QuaW5kZXhPZih0aGlzLnNsaWRlTGlzdFt0aGlzLmluZGV4XSksc2l6ZT10aGlzW3RoaXMuX19kaW1lbnNpb25dK3RoaXMuc3BhY2luZyxjbT10aGlzLm9wdGlvbnMuY3JpdE1hcmdpbjtyZXR1cm4gdGhpcy5sb29wP3ZvaWQoKGNtPj1pblZpZXd8fGluVmlldz49dGhpcy52aWV3U2xpZGVzTGlzdC5sZW5ndGgtY20pJiYoc2l6ZSo9aW5WaWV3LWhsZix0aGlzLl9fbG9jYXRlU2xpZGVzKCExLHNpemUrdGhpcy5zdGFydF9idWZmZXIpLHRoaXMuc3RhcnRfYnVmZmVyKz1zaXplKSk6dm9pZCgoY20+aW5WaWV3JiZ0aGlzLmluZGV4Pj1jbXx8aW5WaWV3Pj10aGlzLnZpZXdTbGlkZXNMaXN0Lmxlbmd0aC1jbSYmdGhpcy5pbmRleDx0aGlzLnNsaWRlc0NvdW50LWNtKSYmdGhpcy5fX2xvY2F0ZVNsaWRlcyghMSkpfX0scC5fdmVydGlVcGRhdGU9ZnVuY3Rpb24oY29udHJvbGxlcix2YWx1ZSl7cmV0dXJuIHRoaXMuX19jb250UG9zPXZhbHVlLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNWaWV3RXZlbnRzKE1TVmlld0V2ZW50cy5TQ1JPTEwpKSx0aGlzLmNzczM/dm9pZCh0aGlzLiRzbGlkZUNvbnRbMF0uc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwidHJhbnNsYXRlWShcIistdmFsdWUrXCJweClcIit0aGlzLl9fdHJhbnNsYXRlX2VuZCk6dm9pZCh0aGlzLiRzbGlkZUNvbnRbMF0uc3R5bGUudG9wPS12YWx1ZStcInB4XCIpfSxwLl9ob3JpelVwZGF0ZT1mdW5jdGlvbihjb250cm9sbGVyLHZhbHVlKXtyZXR1cm4gdGhpcy5fX2NvbnRQb3M9dmFsdWUsdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1ZpZXdFdmVudHMoTVNWaWV3RXZlbnRzLlNDUk9MTCkpLHRoaXMuY3NzMz92b2lkKHRoaXMuJHNsaWRlQ29udFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVYKFwiKy12YWx1ZStcInB4KVwiK3RoaXMuX190cmFuc2xhdGVfZW5kKTp2b2lkKHRoaXMuJHNsaWRlQ29udFswXS5zdHlsZS5sZWZ0PS12YWx1ZStcInB4XCIpfSxwLl9fdXBkYXRlVmlld0xpc3Q9ZnVuY3Rpb24oKXtpZih0aGlzLm5vcm1hbE1vZGUpcmV0dXJuIHZvaWQodGhpcy52aWV3U2xpZGVzTGlzdD10aGlzLnNsaWRlcyk7dmFyIHRlbXA9dGhpcy52aWV3U2xpZGVzTGlzdC5zbGljZSgpO3RoaXMudmlld1NsaWRlc0xpc3Q9W107dmFyIGwsaT0wLGhsZj1NYXRoLmZsb29yKHRoaXMub3B0aW9ucy52aWV3TnVtLzIpO2lmKHRoaXMubG9vcClmb3IoO2khPT10aGlzLm9wdGlvbnMudmlld051bTtpKyspdGhpcy52aWV3U2xpZGVzTGlzdC5wdXNoKHRoaXMuc2xpZGVzW3RoaXMuY3VycmVudFNsaWRlTG9jLWhsZitpXSk7ZWxzZXtmb3IoaT0wO2khPT1obGYmJnRoaXMuaW5kZXgtaSE9PS0xO2krKyl0aGlzLnZpZXdTbGlkZXNMaXN0LnVuc2hpZnQodGhpcy5zbGlkZUxpc3RbdGhpcy5pbmRleC1pXSk7Zm9yKGk9MTtpIT09aGxmJiZ0aGlzLmluZGV4K2khPT10aGlzLnNsaWRlc0NvdW50O2krKyl0aGlzLnZpZXdTbGlkZXNMaXN0LnB1c2godGhpcy5zbGlkZUxpc3RbdGhpcy5pbmRleCtpXSl9Zm9yKGk9MCxsPXRlbXAubGVuZ3RoO2khPT1sO2krKyktMT09PXRoaXMudmlld1NsaWRlc0xpc3QuaW5kZXhPZih0ZW1wW2ldKSYmdGVtcFtpXS5zbGVlcCgpO3RlbXA9bnVsbCx0aGlzLmN1cnJlbnRTbGlkZSYmdGhpcy5fX3VwZGF0ZVNsaWRlc1ppbmRleCgpfSxwLl9fbG9jYXRlU2xpZGVzPWZ1bmN0aW9uKG1vdmUsc3RhcnQpe3RoaXMuX191cGRhdGVWaWV3TGlzdCgpLHN0YXJ0PXRoaXMubG9vcD9zdGFydHx8MDp0aGlzLnNsaWRlcy5pbmRleE9mKHRoaXMudmlld1NsaWRlc0xpc3RbMF0pKih0aGlzW3RoaXMuX19kaW1lbnNpb25dK3RoaXMuc3BhY2luZyk7Zm9yKHZhciBzbGlkZSxsPXRoaXMudmlld1NsaWRlc0xpc3QubGVuZ3RoLGk9MDtpIT09bDtpKyspe3ZhciBwb3M9c3RhcnQraSoodGhpc1t0aGlzLl9fZGltZW5zaW9uXSt0aGlzLnNwYWNpbmcpO3NsaWRlPXRoaXMudmlld1NsaWRlc0xpc3RbaV0sc2xpZGUud2FrZXVwKCksc2xpZGUucG9zaXRpb249cG9zLHNsaWRlLiRlbGVtZW50WzBdLnN0eWxlW3RoaXMuX19jc3NQcm9iXT1wb3MrXCJweFwifW1vdmUhPT0hMSYmdGhpcy5jb250cm9sbGVyLmNoYW5nZVRvKHRoaXMuc2xpZGVMaXN0W3RoaXMuaW5kZXhdLnBvc2l0aW9uLCExLG51bGwsbnVsbCwhMSl9LHAuX19jcmVhdGVMb29wTGlzdD1mdW5jdGlvbigpe3ZhciByZXR1cm5fYXJyPVtdLGk9MCxjb3VudD10aGlzLnNsaWRlc0NvdW50LzIsYmVmb3JlX2NvdW50PXRoaXMuc2xpZGVzQ291bnQlMj09PTA/Y291bnQtMTpNYXRoLmZsb29yKGNvdW50KSxhZnRlcl9jb3VudD10aGlzLnNsaWRlc0NvdW50JTI9PT0wP2NvdW50Ok1hdGguZmxvb3IoY291bnQpO2Zvcih0aGlzLmN1cnJlbnRTbGlkZUxvYz1iZWZvcmVfY291bnQsaT0xO2JlZm9yZV9jb3VudD49aTsrK2kpcmV0dXJuX2Fyci51bnNoaWZ0KHRoaXMuc2xpZGVMaXN0W3RoaXMuaW5kZXgtaTwwP3RoaXMuc2xpZGVzQ291bnQtaSt0aGlzLmluZGV4OnRoaXMuaW5kZXgtaV0pO2ZvcihyZXR1cm5fYXJyLnB1c2godGhpcy5zbGlkZUxpc3RbdGhpcy5pbmRleF0pLGk9MTthZnRlcl9jb3VudD49aTsrK2kpcmV0dXJuX2Fyci5wdXNoKHRoaXMuc2xpZGVMaXN0W3RoaXMuaW5kZXgraT49dGhpcy5zbGlkZXNDb3VudD90aGlzLmluZGV4K2ktdGhpcy5zbGlkZXNDb3VudDp0aGlzLmluZGV4K2ldKTtyZXR1cm4gcmV0dXJuX2Fycn0scC5fX2dldFN0ZXBzPWZ1bmN0aW9uKGluZGV4LHRhcmdldCl7dmFyIHJpZ2h0PWluZGV4PnRhcmdldD90aGlzLnNsaWRlc0NvdW50LWluZGV4K3RhcmdldDp0YXJnZXQtaW5kZXgsbGVmdD1NYXRoLmFicyh0aGlzLnNsaWRlc0NvdW50LXJpZ2h0KTtyZXR1cm4gbGVmdD5yaWdodD9yaWdodDotbGVmdH0scC5fX3B1c2hFbmQ9ZnVuY3Rpb24oKXt2YXIgZmlyc3Rfc2xpZGU9dGhpcy5zbGlkZXMuc2hpZnQoKSxsYXN0X3NsaWRlPXRoaXMuc2xpZGVzW3RoaXMuc2xpZGVzQ291bnQtMl07aWYodGhpcy5zbGlkZXMucHVzaChmaXJzdF9zbGlkZSksdGhpcy5ub3JtYWxNb2RlKXt2YXIgcG9zPWxhc3Rfc2xpZGUuJGVsZW1lbnRbMF1bdGhpcy5fX29mZnNldF0rdGhpcy5zcGFjaW5nK3RoaXNbdGhpcy5fX2RpbWVuc2lvbl07Zmlyc3Rfc2xpZGUuJGVsZW1lbnRbMF0uc3R5bGVbdGhpcy5fX2Nzc1Byb2JdPXBvcytcInB4XCIsZmlyc3Rfc2xpZGUucG9zaXRpb249cG9zfX0scC5fX3B1c2hTdGFydD1mdW5jdGlvbigpe3ZhciBsYXN0X3NsaWRlPXRoaXMuc2xpZGVzLnBvcCgpLGZpcnN0X3NsaWRlPXRoaXMuc2xpZGVzWzBdO2lmKHRoaXMuc2xpZGVzLnVuc2hpZnQobGFzdF9zbGlkZSksdGhpcy5ub3JtYWxNb2RlKXt2YXIgcG9zPWZpcnN0X3NsaWRlLiRlbGVtZW50WzBdW3RoaXMuX19vZmZzZXRdLXRoaXMuc3BhY2luZy10aGlzW3RoaXMuX19kaW1lbnNpb25dO2xhc3Rfc2xpZGUuJGVsZW1lbnRbMF0uc3R5bGVbdGhpcy5fX2Nzc1Byb2JdPXBvcytcInB4XCIsbGFzdF9zbGlkZS5wb3NpdGlvbj1wb3N9fSxwLl9fdXBkYXRlU2xpZGVzWmluZGV4PWZ1bmN0aW9uKCl7e3ZhciBzbGlkZSxsPXRoaXMudmlld1NsaWRlc0xpc3QubGVuZ3RoO01hdGguZmxvb3IobC8yKX1pZih0aGlzLmxvb3ApZm9yKHZhciBsb2M9dGhpcy52aWV3U2xpZGVzTGlzdC5pbmRleE9mKHRoaXMuY3VycmVudFNsaWRlKSxpPTA7aSE9PWw7aSsrKXNsaWRlPXRoaXMudmlld1NsaWRlc0xpc3RbaV0sdGhpcy52aWV3U2xpZGVzTGlzdFtpXS4kZWxlbWVudC5jc3MoXCJ6LWluZGV4XCIsbG9jPj1pP2krMTpsLWkpO1xuZWxzZXtmb3IodmFyIGJlZm9yZU51bT10aGlzLmN1cnJlbnRTbGlkZS5pbmRleC10aGlzLnZpZXdTbGlkZXNMaXN0WzBdLmluZGV4LGk9MDtpIT09bDtpKyspdGhpcy52aWV3U2xpZGVzTGlzdFtpXS4kZWxlbWVudC5jc3MoXCJ6LWluZGV4XCIsYmVmb3JlTnVtPj1pP2krMTpsLWkpO3RoaXMuY3VycmVudFNsaWRlLiRlbGVtZW50LmNzcyhcInotaW5kZXhcIixsKX19LHAuYWRkU2xpZGU9ZnVuY3Rpb24oc2xpZGUpe3NsaWRlLnZpZXc9dGhpcyx0aGlzLnNsaWRlcy5wdXNoKHNsaWRlKSx0aGlzLnNsaWRlTGlzdC5wdXNoKHNsaWRlKSx0aGlzLnNsaWRlc0NvdW50Kyt9LHAuYXBwZW5kU2xpZGU9ZnVuY3Rpb24oc2xpZGUpe3RoaXMuJHNsaWRlQ29udC5hcHBlbmQoc2xpZGUuJGVsZW1lbnQpfSxwLnVwZGF0ZUxvb3A9ZnVuY3Rpb24oaW5kZXgpe2lmKHRoaXMubG9vcClmb3IodmFyIHN0ZXBzPXRoaXMuX19nZXRTdGVwcyh0aGlzLmluZGV4LGluZGV4KSxpPTAsbD1NYXRoLmFicyhzdGVwcyk7bD5pOysraSkwPnN0ZXBzP3RoaXMuX19wdXNoU3RhcnQoKTp0aGlzLl9fcHVzaEVuZCgpfSxwLmdvdG9TbGlkZT1mdW5jdGlvbihpbmRleCxmYXN0KXt0aGlzLnVwZGF0ZUxvb3AoaW5kZXgpLHRoaXMuaW5kZXg9aW5kZXg7dmFyIHRhcmdldF9zbGlkZT10aGlzLnNsaWRlTGlzdFtpbmRleF07dGhpcy5fY2hlY2tDcml0TWFyZ2lucygpLHRoaXMuY29udHJvbGxlci5jaGFuZ2VUbyh0YXJnZXRfc2xpZGUucG9zaXRpb24sIWZhc3QsbnVsbCxudWxsLCExKSx0YXJnZXRfc2xpZGUhPT10aGlzLmN1cnJlbnRTbGlkZSYmKHRoaXMuc2xpZGVDaGFuZ2VkPSEwLHRoaXMuY3VycmVudFNsaWRlPXRhcmdldF9zbGlkZSx0aGlzLmF1dG9VcGRhdGVaSW5kZXgmJnRoaXMuX191cGRhdGVTbGlkZXNaaW5kZXgoKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1TVmlld0V2ZW50cyhNU1ZpZXdFdmVudHMuQ0hBTkdFX1NUQVJUKSksZmFzdCYmdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1ZpZXdFdmVudHMoTVNWaWV3RXZlbnRzLkNIQU5HRV9FTkQpKSl9LHAubmV4dD1mdW5jdGlvbihjaGVja0xvb3Ape3JldHVybiBjaGVja0xvb3AmJiF0aGlzLmxvb3AmJnRoaXMuaW5kZXgrMT49dGhpcy5zbGlkZXNDb3VudD92b2lkIHRoaXMuY29udHJvbGxlci5ib3VuY2UoMTApOnZvaWQgdGhpcy5nb3RvU2xpZGUodGhpcy5pbmRleCsxPj10aGlzLnNsaWRlc0NvdW50PzA6dGhpcy5pbmRleCsxKX0scC5wcmV2aW91cz1mdW5jdGlvbihjaGVja0xvb3Ape3JldHVybiBjaGVja0xvb3AmJiF0aGlzLmxvb3AmJnRoaXMuaW5kZXgtMTwwP3ZvaWQgdGhpcy5jb250cm9sbGVyLmJvdW5jZSgtMTApOnZvaWQgdGhpcy5nb3RvU2xpZGUodGhpcy5pbmRleC0xPDA/dGhpcy5zbGlkZXNDb3VudC0xOnRoaXMuaW5kZXgtMSl9LHAuc2V0dXBTd2lwZT1mdW5jdGlvbigpe3RoaXMuc3dpcGVDb250cm9sPW5ldyBhdmVydGEuVG91Y2hTd2lwZSh0aGlzLiRlbGVtZW50KSx0aGlzLnN3aXBlQ29udHJvbC5zd2lwZVR5cGU9XCJoXCI9PT10aGlzLmRpcj9cImhvcml6b250YWxcIjpcInZlcnRpY2FsXCI7dmFyIHRoYXQ9dGhpczt0aGlzLnN3aXBlQ29udHJvbC5vblN3aXBlPVwiaFwiPT09dGhpcy5kaXI/ZnVuY3Rpb24oc3RhdHVzKXt0aGF0Lmhvcml6U3dpcGVNb3ZlKHN0YXR1cyl9OmZ1bmN0aW9uKHN0YXR1cyl7dGhhdC52ZXJ0U3dpcGVNb3ZlKHN0YXR1cyl9fSxwLnZlcnRTd2lwZU1vdmU9ZnVuY3Rpb24oc3RhdHVzKXt2YXIgcGhhc2U9c3RhdHVzLnBoYXNlO2lmKFwic3RhcnRcIj09PXBoYXNlKXRoaXMuY29udHJvbGxlci5zdG9wKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1ZpZXdFdmVudHMoTVNWaWV3RXZlbnRzLlNXSVBFX1NUQVJULHN0YXR1cykpO2Vsc2UgaWYoXCJtb3ZlXCI9PT1waGFzZSYmKCF0aGlzLmxvb3B8fE1hdGguYWJzKHRoaXMuY3VycmVudFNsaWRlLnBvc2l0aW9uLXRoaXMuY29udHJvbGxlci52YWx1ZStzdGF0dXMubW92ZVkpPHRoaXMuY29udF9zaXplLzIpKXRoaXMuY29udHJvbGxlci5kcmFnKHN0YXR1cy5tb3ZlWSksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1ZpZXdFdmVudHMoTVNWaWV3RXZlbnRzLlNXSVBFX01PVkUsc3RhdHVzKSk7ZWxzZSBpZihcImVuZFwiPT09cGhhc2V8fFwiY2FuY2VsXCI9PT1waGFzZSl7dmFyIHNwZWVkPXN0YXR1cy5kaXN0YW5jZVkvc3RhdHVzLmR1cmF0aW9uKjUwLzM7TWF0aC5hYnMoc3BlZWQpPi4xPyh0aGlzLmNvbnRyb2xsZXIucHVzaCgtc3BlZWQpLHNwZWVkPnRoaXMuY29udHJvbGxlci5vcHRpb25zLnNuYXBwaW5nTWluU3BlZWQmJnRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNWaWV3RXZlbnRzKE1TVmlld0V2ZW50cy5TV0lQRV9FTkQsc3RhdHVzKSkpOih0aGlzLmNvbnRyb2xsZXIuY2FuY2VsKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1ZpZXdFdmVudHMoTVNWaWV3RXZlbnRzLlNXSVBFX0NBTkNFTCxzdGF0dXMpKSl9fSxwLmhvcml6U3dpcGVNb3ZlPWZ1bmN0aW9uKHN0YXR1cyl7dmFyIHBoYXNlPXN0YXR1cy5waGFzZTtpZihcInN0YXJ0XCI9PT1waGFzZSl0aGlzLmNvbnRyb2xsZXIuc3RvcCgpLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNWaWV3RXZlbnRzKE1TVmlld0V2ZW50cy5TV0lQRV9TVEFSVCxzdGF0dXMpKTtlbHNlIGlmKFwibW92ZVwiPT09cGhhc2UmJighdGhpcy5sb29wfHxNYXRoLmFicyh0aGlzLmN1cnJlbnRTbGlkZS5wb3NpdGlvbi10aGlzLmNvbnRyb2xsZXIudmFsdWUrc3RhdHVzLm1vdmVYKTx0aGlzLmNvbnRfc2l6ZS8yKSl0aGlzLmNvbnRyb2xsZXIuZHJhZyhzdGF0dXMubW92ZVgpLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNWaWV3RXZlbnRzKE1TVmlld0V2ZW50cy5TV0lQRV9NT1ZFLHN0YXR1cykpO2Vsc2UgaWYoXCJlbmRcIj09PXBoYXNlfHxcImNhbmNlbFwiPT09cGhhc2Upe3ZhciBzcGVlZD1zdGF0dXMuZGlzdGFuY2VYL3N0YXR1cy5kdXJhdGlvbio1MC8zO01hdGguYWJzKHNwZWVkKT4uMT8odGhpcy5jb250cm9sbGVyLnB1c2goLXNwZWVkKSxzcGVlZD50aGlzLmNvbnRyb2xsZXIub3B0aW9ucy5zbmFwcGluZ01pblNwZWVkJiZ0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1TVmlld0V2ZW50cyhNU1ZpZXdFdmVudHMuU1dJUEVfRU5ELHN0YXR1cykpKToodGhpcy5jb250cm9sbGVyLmNhbmNlbCgpLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNWaWV3RXZlbnRzKE1TVmlld0V2ZW50cy5TV0lQRV9DQU5DRUwsc3RhdHVzKSkpfX0scC5zZXRTaXplPWZ1bmN0aW9uKHdpZHRoLGhlaWdodCxoYXJkKXtpZih0aGlzLmxhc3RXaWR0aCE9PXdpZHRofHxoZWlnaHQhPT10aGlzLmxhc3RIZWlnaHR8fGhhcmQpe3RoaXMuJGVsZW1lbnQud2lkdGgod2lkdGgpLmhlaWdodChoZWlnaHQpO2Zvcih2YXIgaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpdGhpcy5zbGlkZXNbaV0uc2V0U2l6ZSh3aWR0aCxoZWlnaHQsaGFyZCk7dGhpcy5fX3dpZHRoPXdpZHRoLHRoaXMuX19oZWlnaHQ9aGVpZ2h0LHRoaXMuX19jcmVhdGVkJiYodGhpcy5fX2xvY2F0ZVNsaWRlcygpLHRoaXMuY29udF9zaXplPSh0aGlzLnNsaWRlc0NvdW50LTEpKih0aGlzW3RoaXMuX19kaW1lbnNpb25dK3RoaXMuc3BhY2luZyksdGhpcy5sb29wfHwodGhpcy5jb250cm9sbGVyLl9tYXhfdmFsdWU9dGhpcy5jb250X3NpemUpLHRoaXMuY29udHJvbGxlci5vcHRpb25zLnNuYXBzaXplPXRoaXNbdGhpcy5fX2RpbWVuc2lvbl0rdGhpcy5zcGFjaW5nLHRoaXMuY29udHJvbGxlci5jaGFuZ2VUbyh0aGlzLmN1cnJlbnRTbGlkZS5wb3NpdGlvbiwhMSxudWxsLG51bGwsITEpLHRoaXMuY29udHJvbGxlci5jYW5jZWwoKSx0aGlzLmxhc3RXaWR0aD13aWR0aCx0aGlzLmxhc3RIZWlnaHQ9aGVpZ2h0KX19LHAuY3JlYXRlPWZ1bmN0aW9uKGluZGV4KXt0aGlzLl9fY3JlYXRlZD0hMCx0aGlzLmluZGV4PU1hdGgubWluKGluZGV4fHwwLHRoaXMuc2xpZGVzQ291bnQtMSksdGhpcy5sYXN0U25hcD10aGlzLmluZGV4LHRoaXMubG9vcCYmKHRoaXMuc2xpZGVzPXRoaXMuX19jcmVhdGVMb29wTGlzdCgpKSx0aGlzLm5vcm1hbE1vZGU9dGhpcy5zbGlkZXNDb3VudDw9dGhpcy5vcHRpb25zLnZpZXdOdW07Zm9yKHZhciBpPTA7aTx0aGlzLnNsaWRlc0NvdW50OysraSl0aGlzLnNsaWRlc1tpXS5jcmVhdGUoKTt0aGlzLl9fbG9jYXRlU2xpZGVzKCksdGhpcy5jb250cm9sbGVyLm9wdGlvbnMuc25hcHNpemU9dGhpc1t0aGlzLl9fZGltZW5zaW9uXSt0aGlzLnNwYWNpbmcsdGhpcy5sb29wfHwodGhpcy5jb250cm9sbGVyLl9tYXhfdmFsdWU9KHRoaXMuc2xpZGVzQ291bnQtMSkqKHRoaXNbdGhpcy5fX2RpbWVuc2lvbl0rdGhpcy5zcGFjaW5nKSksdGhpcy5nb3RvU2xpZGUodGhpcy5pbmRleCwhMCksdGhpcy5vcHRpb25zLnN3aXBlJiYod2luZG93Ll90b3VjaHx8dGhpcy5vcHRpb25zLm1vdXNlU3dpcGUpJiZ0aGlzLnNldHVwU3dpcGUoKX0scC5kZXN0cm95PWZ1bmN0aW9uKCl7aWYodGhpcy5fX2NyZWF0ZWQpe2Zvcih2YXIgaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpdGhpcy5zbGlkZXNbaV0uZGVzdHJveSgpO3RoaXMuc2xpZGVzPW51bGwsdGhpcy5zbGlkZUxpc3Q9bnVsbCx0aGlzLiRlbGVtZW50LnJlbW92ZSgpLHRoaXMuY29udHJvbGxlci5kZXN0cm95KCksdGhpcy5jb250cm9sbGVyPW51bGx9fSxhdmVydGEuRXZlbnREaXNwYXRjaGVyLmV4dGVuZChwKSxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlclZpZXcoXCJiYXNpY1wiLE1TQmFzaWNWaWV3KX0oalF1ZXJ5KSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3dpbmRvdy5NU1dhdmVWaWV3PWZ1bmN0aW9uKG9wdGlvbnMpe01TQmFzaWNWaWV3LmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwibXMtYmFzaWMtdmlld1wiKS5hZGRDbGFzcyhcIm1zLXdhdmUtdmlld1wiKSx0aGlzLiRzbGlkZUNvbnQuY3NzKHdpbmRvdy5fY3NzcGZ4K1widHJhbnNmb3JtLXN0eWxlXCIsXCJwcmVzZXJ2ZS0zZFwiKSx0aGlzLmF1dG9VcGRhdGVaSW5kZXg9ITB9LE1TV2F2ZVZpZXcuZXh0ZW5kKE1TQmFzaWNWaWV3KSxNU1dhdmVWaWV3Ll8zZHJlcT0hMCxNU1dhdmVWaWV3Ll9mYWxsYmFjaz1NU0Jhc2ljVmlldzt2YXIgcD1NU1dhdmVWaWV3LnByb3RvdHlwZSxfc3VwZXI9TVNCYXNpY1ZpZXcucHJvdG90eXBlO3AuX2hvcml6VXBkYXRlPWZ1bmN0aW9uKGNvbnRyb2xsZXIsdmFsdWUpe19zdXBlci5faG9yaXpVcGRhdGUuY2FsbCh0aGlzLGNvbnRyb2xsZXIsdmFsdWUpO2Zvcih2YXIgc2xpZGUsZGlzdGFuY2UsY29udF9zY3JvbGw9LXZhbHVlLGk9MDtpPHRoaXMuc2xpZGVzQ291bnQ7KytpKXNsaWRlPXRoaXMuc2xpZGVMaXN0W2ldLGRpc3RhbmNlPS1jb250X3Njcm9sbC1zbGlkZS5wb3NpdGlvbix0aGlzLl9fdXBkYXRlU2xpZGVzSG9yaXooc2xpZGUsZGlzdGFuY2UpfSxwLl92ZXJ0aVVwZGF0ZT1mdW5jdGlvbihjb250cm9sbGVyLHZhbHVlKXtfc3VwZXIuX3ZlcnRpVXBkYXRlLmNhbGwodGhpcyxjb250cm9sbGVyLHZhbHVlKTtmb3IodmFyIHNsaWRlLGRpc3RhbmNlLGNvbnRfc2Nyb2xsPS12YWx1ZSxpPTA7aTx0aGlzLnNsaWRlc0NvdW50OysraSlzbGlkZT10aGlzLnNsaWRlTGlzdFtpXSxkaXN0YW5jZT0tY29udF9zY3JvbGwtc2xpZGUucG9zaXRpb24sdGhpcy5fX3VwZGF0ZVNsaWRlc1ZlcnRpYyhzbGlkZSxkaXN0YW5jZSl9LHAuX191cGRhdGVTbGlkZXNIb3Jpej1mdW5jdGlvbihzbGlkZSxkaXN0YW5jZSl7dmFyIHZhbHVlPU1hdGguYWJzKDEwMCpkaXN0YW5jZS90aGlzLl9fd2lkdGgpO3NsaWRlLiRlbGVtZW50LmNzcyh3aW5kb3cuX2Nzc3BmeCtcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWihcIiszKi12YWx1ZStcInB4KSByb3RhdGVZKDAuMDFkZWcpXCIpfSxwLl9fdXBkYXRlU2xpZGVzVmVydGljPWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt0aGlzLl9fdXBkYXRlU2xpZGVzSG9yaXooc2xpZGUsZGlzdGFuY2UpfSxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlclZpZXcoXCJ3YXZlXCIsTVNXYXZlVmlldyl9KGpRdWVyeSksZnVuY3Rpb24oKXt3aW5kb3cuTVNGYWRlQmFzaWNWaWV3PWZ1bmN0aW9uKG9wdGlvbnMpe01TV2F2ZVZpZXcuY2FsbCh0aGlzLG9wdGlvbnMpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJtcy13YXZlLXZpZXdcIikuYWRkQ2xhc3MoXCJtcy1mYWRlLWJhc2ljLXZpZXdcIil9LE1TRmFkZUJhc2ljVmlldy5leHRlbmQoTVNXYXZlVmlldyk7e3ZhciBwPU1TRmFkZUJhc2ljVmlldy5wcm90b3R5cGU7TVNGYWRlQmFzaWNWaWV3LnByb3RvdHlwZX1wLl9fdXBkYXRlU2xpZGVzSG9yaXo9ZnVuY3Rpb24oc2xpZGUsZGlzdGFuY2Upe3ZhciB2YWx1ZT1NYXRoLmFicyguNipkaXN0YW5jZS90aGlzLl9fd2lkdGgpO3ZhbHVlPTEtTWF0aC5taW4odmFsdWUsLjYpLHNsaWRlLiRlbGVtZW50LmNzcyhcIm9wYWNpdHlcIix2YWx1ZSl9LHAuX191cGRhdGVTbGlkZXNWZXJ0aWM9ZnVuY3Rpb24oc2xpZGUsZGlzdGFuY2Upe3RoaXMuX191cGRhdGVTbGlkZXNIb3JpeihzbGlkZSxkaXN0YW5jZSl9LE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyVmlldyhcImZhZGVCYXNpY1wiLE1TRmFkZUJhc2ljVmlldyksTVNXYXZlVmlldy5fZmFsbGJhY2s9TVNGYWRlQmFzaWNWaWV3fSgpLGZ1bmN0aW9uKCl7d2luZG93Lk1TRmFkZVdhdmVWaWV3PWZ1bmN0aW9uKG9wdGlvbnMpe01TV2F2ZVZpZXcuY2FsbCh0aGlzLG9wdGlvbnMpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJtcy13YXZlLXZpZXdcIikuYWRkQ2xhc3MoXCJtcy1mYWRlLXdhdmUtdmlld1wiKX0sTVNGYWRlV2F2ZVZpZXcuZXh0ZW5kKE1TV2F2ZVZpZXcpLE1TRmFkZVdhdmVWaWV3Ll8zZHJlcT0hMCxNU0ZhZGVXYXZlVmlldy5fZmFsbGJhY2s9TVNGYWRlQmFzaWNWaWV3O3t2YXIgcD1NU0ZhZGVXYXZlVmlldy5wcm90b3R5cGU7TVNXYXZlVmlldy5wcm90b3R5cGV9cC5fX3VwZGF0ZVNsaWRlc0hvcml6PWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt2YXIgdmFsdWU9TWF0aC5hYnMoMTAwKmRpc3RhbmNlL3RoaXMuX193aWR0aCk7dmFsdWU9TWF0aC5taW4odmFsdWUsMTAwKSxzbGlkZS4kZWxlbWVudC5jc3MoXCJvcGFjaXR5XCIsMS12YWx1ZS8zMDApLHNsaWRlLiRlbGVtZW50WzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInNjYWxlKFwiKygxLXZhbHVlLzgwMCkrXCIpIHJvdGF0ZVkoMC4wMWRlZykgXCJ9LHAuX191cGRhdGVTbGlkZXNWZXJ0aWM9ZnVuY3Rpb24oc2xpZGUsZGlzdGFuY2Upe3RoaXMuX191cGRhdGVTbGlkZXNIb3JpeihzbGlkZSxkaXN0YW5jZSl9LE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyVmlldyhcImZhZGVXYXZlXCIsTVNGYWRlV2F2ZVZpZXcpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7d2luZG93Lk1TRmxvd1ZpZXc9ZnVuY3Rpb24ob3B0aW9ucyl7TVNXYXZlVmlldy5jYWxsKHRoaXMsb3B0aW9ucyksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcIm1zLXdhdmUtdmlld1wiKS5hZGRDbGFzcyhcIm1zLWZsb3ctdmlld1wiKX0sTVNGbG93Vmlldy5leHRlbmQoTVNXYXZlVmlldyksTVNGbG93Vmlldy5fM2RyZXE9ITAsTVNGbG93Vmlldy5fZmFsbGJhY2s9TVNGYWRlQmFzaWNWaWV3O3t2YXIgcD1NU0Zsb3dWaWV3LnByb3RvdHlwZTtNU1dhdmVWaWV3LnByb3RvdHlwZX1wLl9fdXBkYXRlU2xpZGVzSG9yaXo9ZnVuY3Rpb24oc2xpZGUsZGlzdGFuY2Upe3ZhciB2YWx1ZT1NYXRoLmFicygxMDAqZGlzdGFuY2UvdGhpcy5fX3dpZHRoKSxydmFsdWU9TWF0aC5taW4oLjMqdmFsdWUsMzApKigwPmRpc3RhbmNlPy0xOjEpLHp2YWx1ZT0xLjIqdmFsdWU7c2xpZGUuJGVsZW1lbnRbMF0uc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwidHJhbnNsYXRlWihcIis1Ki16dmFsdWUrXCJweCkgcm90YXRlWShcIitydmFsdWUrXCJkZWcpIFwifSxwLl9fdXBkYXRlU2xpZGVzVmVydGljPWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt2YXIgdmFsdWU9TWF0aC5hYnMoMTAwKmRpc3RhbmNlL3RoaXMuX193aWR0aCkscnZhbHVlPU1hdGgubWluKC4zKnZhbHVlLDMwKSooMD5kaXN0YW5jZT8tMToxKSx6dmFsdWU9MS4yKnZhbHVlO3NsaWRlLiRlbGVtZW50WzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVooXCIrNSotenZhbHVlK1wicHgpIHJvdGF0ZVgoXCIrLXJ2YWx1ZStcImRlZykgXCJ9LE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyVmlldyhcImZsb3dcIixNU0Zsb3dWaWV3KX0oalF1ZXJ5KSxmdW5jdGlvbigpe3dpbmRvdy5NU0ZhZGVGbG93Vmlldz1mdW5jdGlvbihvcHRpb25zKXtNU1dhdmVWaWV3LmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwibXMtd2F2ZS12aWV3XCIpLmFkZENsYXNzKFwibXMtZmFkZS1mbG93LXZpZXdcIil9LE1TRmFkZUZsb3dWaWV3LmV4dGVuZChNU1dhdmVWaWV3KSxNU0ZhZGVGbG93Vmlldy5fM2RyZXE9ITA7e3ZhciBwPU1TRmFkZUZsb3dWaWV3LnByb3RvdHlwZTtNU1dhdmVWaWV3LnByb3RvdHlwZX1wLl9fY2FsY3VsYXRlPWZ1bmN0aW9uKGRpc3RhbmNlKXt2YXIgdmFsdWU9TWF0aC5taW4oTWF0aC5hYnMoMTAwKmRpc3RhbmNlL3RoaXMuX193aWR0aCksMTAwKSxydmFsdWU9TWF0aC5taW4oLjUqdmFsdWUsNTApKigwPmRpc3RhbmNlPy0xOjEpO3JldHVybnt2YWx1ZTp2YWx1ZSxydmFsdWU6cnZhbHVlfX0scC5fX3VwZGF0ZVNsaWRlc0hvcml6PWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt2YXIgY2xjPXRoaXMuX19jYWxjdWxhdGUoZGlzdGFuY2UpO3NsaWRlLiRlbGVtZW50LmNzcyhcIm9wYWNpdHlcIiwxLWNsYy52YWx1ZS8zMDApLHNsaWRlLiRlbGVtZW50WzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVooXCIrLWNsYy52YWx1ZStcInB4KSByb3RhdGVZKFwiK2NsYy5ydmFsdWUrXCJkZWcpIFwifSxwLl9fdXBkYXRlU2xpZGVzVmVydGljPWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt2YXIgY2xjPXRoaXMuX19jYWxjdWxhdGUoZGlzdGFuY2UpO3NsaWRlLiRlbGVtZW50LmNzcyhcIm9wYWNpdHlcIiwxLWNsYy52YWx1ZS8zMDApLHNsaWRlLiRlbGVtZW50WzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVooXCIrLWNsYy52YWx1ZStcInB4KSByb3RhdGVYKFwiKy1jbGMucnZhbHVlK1wiZGVnKSBcIn0sTVNTbGlkZUNvbnRyb2xsZXIucmVnaXN0ZXJWaWV3KFwiZmFkZUZsb3dcIixNU0ZhZGVGbG93Vmlldyl9KCksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7d2luZG93Lk1TTWFza1ZpZXc9ZnVuY3Rpb24ob3B0aW9ucyl7TVNCYXNpY1ZpZXcuY2FsbCh0aGlzLG9wdGlvbnMpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJtcy1iYXNpYy12aWV3XCIpLmFkZENsYXNzKFwibXMtbWFzay12aWV3XCIpfSxNU01hc2tWaWV3LmV4dGVuZChNU0Jhc2ljVmlldyk7dmFyIHA9TVNNYXNrVmlldy5wcm90b3R5cGUsX3N1cGVyPU1TQmFzaWNWaWV3LnByb3RvdHlwZTtwLmFkZFNsaWRlPWZ1bmN0aW9uKHNsaWRlKXtzbGlkZS52aWV3PXRoaXMsc2xpZGUuJGZyYW1lPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLW1hc2stZnJhbWVcIikuYXBwZW5kKHNsaWRlLiRlbGVtZW50KSxzbGlkZS4kZWxlbWVudFswXS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsc2xpZGUuYXV0b0FwcGVuZD0hMSx0aGlzLnNsaWRlcy5wdXNoKHNsaWRlKSx0aGlzLnNsaWRlTGlzdC5wdXNoKHNsaWRlKSx0aGlzLnNsaWRlc0NvdW50Kyt9LHAuc2V0U2l6ZT1mdW5jdGlvbih3aWR0aCxoZWlnaHQpe2Zvcih2YXIgc2xpZGVyPXRoaXMuc2xpZGVzWzBdLnNsaWRlcixpPTA7aTx0aGlzLnNsaWRlc0NvdW50OysraSl0aGlzLnNsaWRlc1tpXS4kZnJhbWVbMF0uc3R5bGUud2lkdGg9d2lkdGgrXCJweFwiLHNsaWRlci5vcHRpb25zLmF1dG9IZWlnaHR8fCh0aGlzLnNsaWRlc1tpXS4kZnJhbWVbMF0uc3R5bGUuaGVpZ2h0PWhlaWdodCtcInB4XCIpO19zdXBlci5zZXRTaXplLmNhbGwodGhpcyx3aWR0aCxoZWlnaHQpfSxwLl9ob3JpelVwZGF0ZT1mdW5jdGlvbihjb250cm9sbGVyLHZhbHVlKXtfc3VwZXIuX2hvcml6VXBkYXRlLmNhbGwodGhpcyxjb250cm9sbGVyLHZhbHVlKTt2YXIgaT0wO2lmKHRoaXMuY3NzMylmb3IoaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpdGhpcy5zbGlkZUxpc3RbaV0uJGVsZW1lbnRbMF0uc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwidHJhbnNsYXRlWChcIisodmFsdWUtdGhpcy5zbGlkZUxpc3RbaV0ucG9zaXRpb24pK1wicHgpXCIrdGhpcy5fX3RyYW5zbGF0ZV9lbmQ7ZWxzZSBmb3IoaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpdGhpcy5zbGlkZUxpc3RbaV0uJGVsZW1lbnRbMF0uc3R5bGUubGVmdD12YWx1ZS10aGlzLnNsaWRlTGlzdFtpXS5wb3NpdGlvbitcInB4XCJ9LHAuX3ZlcnRpVXBkYXRlPWZ1bmN0aW9uKGNvbnRyb2xsZXIsdmFsdWUpe19zdXBlci5fdmVydGlVcGRhdGUuY2FsbCh0aGlzLGNvbnRyb2xsZXIsdmFsdWUpO3ZhciBpPTA7aWYodGhpcy5jc3MzKWZvcihpPTA7aTx0aGlzLnNsaWRlc0NvdW50OysraSl0aGlzLnNsaWRlTGlzdFtpXS4kZWxlbWVudFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVZKFwiKyh2YWx1ZS10aGlzLnNsaWRlTGlzdFtpXS5wb3NpdGlvbikrXCJweClcIit0aGlzLl9fdHJhbnNsYXRlX2VuZDtlbHNlIGZvcihpPTA7aTx0aGlzLnNsaWRlc0NvdW50OysraSl0aGlzLnNsaWRlTGlzdFtpXS4kZWxlbWVudFswXS5zdHlsZS50b3A9dmFsdWUtdGhpcy5zbGlkZUxpc3RbaV0ucG9zaXRpb24rXCJweFwifSxwLl9fcHVzaEVuZD1mdW5jdGlvbigpe3ZhciBmaXJzdF9zbGlkZT10aGlzLnNsaWRlcy5zaGlmdCgpLGxhc3Rfc2xpZGU9dGhpcy5zbGlkZXNbdGhpcy5zbGlkZXNDb3VudC0yXTtpZih0aGlzLnNsaWRlcy5wdXNoKGZpcnN0X3NsaWRlKSx0aGlzLm5vcm1hbE1vZGUpe3ZhciBwb3M9bGFzdF9zbGlkZS4kZnJhbWVbMF1bdGhpcy5fX29mZnNldF0rdGhpcy5zcGFjaW5nK3RoaXNbdGhpcy5fX2RpbWVuc2lvbl07Zmlyc3Rfc2xpZGUuJGZyYW1lWzBdLnN0eWxlW3RoaXMuX19jc3NQcm9iXT1wb3MrXCJweFwiLGZpcnN0X3NsaWRlLnBvc2l0aW9uPXBvc319LHAuX19wdXNoU3RhcnQ9ZnVuY3Rpb24oKXt2YXIgbGFzdF9zbGlkZT10aGlzLnNsaWRlcy5wb3AoKSxmaXJzdF9zbGlkZT10aGlzLnNsaWRlc1swXTtpZih0aGlzLnNsaWRlcy51bnNoaWZ0KGxhc3Rfc2xpZGUpLHRoaXMubm9ybWFsTW9kZSl7dmFyIHBvcz1maXJzdF9zbGlkZS4kZnJhbWVbMF1bdGhpcy5fX29mZnNldF0tdGhpcy5zcGFjaW5nLXRoaXNbdGhpcy5fX2RpbWVuc2lvbl07bGFzdF9zbGlkZS4kZnJhbWVbMF0uc3R5bGVbdGhpcy5fX2Nzc1Byb2JdPXBvcytcInB4XCIsbGFzdF9zbGlkZS5wb3NpdGlvbj1wb3N9fSxwLl9fdXBkYXRlVmlld0xpc3Q9ZnVuY3Rpb24oKXtpZih0aGlzLm5vcm1hbE1vZGUpcmV0dXJuIHZvaWQodGhpcy52aWV3U2xpZGVzTGlzdD10aGlzLnNsaWRlcyk7dmFyIHRlbXA9dGhpcy52aWV3U2xpZGVzTGlzdC5zbGljZSgpO3RoaXMudmlld1NsaWRlc0xpc3Q9W107dmFyIGwsaT0wLGhsZj1NYXRoLmZsb29yKHRoaXMub3B0aW9ucy52aWV3TnVtLzIpO2lmKHRoaXMubG9vcClmb3IoO2khPT10aGlzLm9wdGlvbnMudmlld051bTtpKyspdGhpcy52aWV3U2xpZGVzTGlzdC5wdXNoKHRoaXMuc2xpZGVzW3RoaXMuY3VycmVudFNsaWRlTG9jLWhsZitpXSk7ZWxzZXtmb3IoaT0wO2khPT1obGYmJnRoaXMuaW5kZXgtaSE9PS0xO2krKyl0aGlzLnZpZXdTbGlkZXNMaXN0LnVuc2hpZnQodGhpcy5zbGlkZUxpc3RbdGhpcy5pbmRleC1pXSk7Zm9yKGk9MTtpIT09aGxmJiZ0aGlzLmluZGV4K2khPT10aGlzLnNsaWRlc0NvdW50O2krKyl0aGlzLnZpZXdTbGlkZXNMaXN0LnB1c2godGhpcy5zbGlkZUxpc3RbdGhpcy5pbmRleCtpXSl9Zm9yKGk9MCxsPXRlbXAubGVuZ3RoO2khPT1sO2krKyktMT09PXRoaXMudmlld1NsaWRlc0xpc3QuaW5kZXhPZih0ZW1wW2ldKSYmKHRlbXBbaV0uc2xlZXAoKSx0ZW1wW2ldLiRmcmFtZS5kZXRhY2goKSk7dGVtcD1udWxsfSxwLl9fbG9jYXRlU2xpZGVzPWZ1bmN0aW9uKG1vdmUsc3RhcnQpe3RoaXMuX191cGRhdGVWaWV3TGlzdCgpLHN0YXJ0PXRoaXMubG9vcD9zdGFydHx8MDp0aGlzLnNsaWRlcy5pbmRleE9mKHRoaXMudmlld1NsaWRlc0xpc3RbMF0pKih0aGlzW3RoaXMuX19kaW1lbnNpb25dK3RoaXMuc3BhY2luZyk7Zm9yKHZhciBzbGlkZSxsPXRoaXMudmlld1NsaWRlc0xpc3QubGVuZ3RoLGk9MDtpIT09bDtpKyspe3ZhciBwb3M9c3RhcnQraSoodGhpc1t0aGlzLl9fZGltZW5zaW9uXSt0aGlzLnNwYWNpbmcpO2lmKHNsaWRlPXRoaXMudmlld1NsaWRlc0xpc3RbaV0sdGhpcy4kc2xpZGVDb250LmFwcGVuZChzbGlkZS4kZnJhbWUpLHNsaWRlLndha2V1cCghMSksc2xpZGUucG9zaXRpb249cG9zLHNsaWRlLnNlbGVjdGVkJiZzbGlkZS5iZ3ZpZGVvKXRyeXtzbGlkZS5iZ3ZpZGVvLnBsYXkoKX1jYXRjaChlKXt9c2xpZGUuJGZyYW1lWzBdLnN0eWxlW3RoaXMuX19jc3NQcm9iXT1wb3MrXCJweFwifW1vdmUhPT0hMSYmdGhpcy5jb250cm9sbGVyLmNoYW5nZVRvKHRoaXMuc2xpZGVMaXN0W3RoaXMuaW5kZXhdLnBvc2l0aW9uLCExLG51bGwsbnVsbCwhMSl9LE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyVmlldyhcIm1hc2tcIixNU01hc2tWaWV3KX0oalF1ZXJ5KSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3dpbmRvdy5NU1BhcmFsbGF4TWFza1ZpZXc9ZnVuY3Rpb24ob3B0aW9ucyl7TVNNYXNrVmlldy5jYWxsKHRoaXMsb3B0aW9ucyksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcIm1zLWJhc2ljLXZpZXdcIikuYWRkQ2xhc3MoXCJtcy1wYXJhbGxheC1tYXNrLXZpZXdcIil9LE1TUGFyYWxsYXhNYXNrVmlldy5leHRlbmQoTVNNYXNrVmlldyksTVNQYXJhbGxheE1hc2tWaWV3LnBhcmFsbGF4QW1vdW50PS41O3ZhciBwPU1TUGFyYWxsYXhNYXNrVmlldy5wcm90b3R5cGUsX3N1cGVyPU1TQmFzaWNWaWV3LnByb3RvdHlwZTtwLl9ob3JpelVwZGF0ZT1mdW5jdGlvbihjb250cm9sbGVyLHZhbHVlKXtfc3VwZXIuX2hvcml6VXBkYXRlLmNhbGwodGhpcyxjb250cm9sbGVyLHZhbHVlKTt2YXIgaT0wO2lmKHRoaXMuY3NzMylmb3IoaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpdGhpcy5zbGlkZUxpc3RbaV0uJGVsZW1lbnRbMF0uc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwidHJhbnNsYXRlWChcIisodmFsdWUtdGhpcy5zbGlkZUxpc3RbaV0ucG9zaXRpb24pKk1TUGFyYWxsYXhNYXNrVmlldy5wYXJhbGxheEFtb3VudCtcInB4KVwiK3RoaXMuX190cmFuc2xhdGVfZW5kO2Vsc2UgZm9yKGk9MDtpPHRoaXMuc2xpZGVzQ291bnQ7KytpKXRoaXMuc2xpZGVMaXN0W2ldLiRlbGVtZW50WzBdLnN0eWxlLmxlZnQ9KHZhbHVlLXRoaXMuc2xpZGVMaXN0W2ldLnBvc2l0aW9uKSpNU1BhcmFsbGF4TWFza1ZpZXcucGFyYWxsYXhBbW91bnQrXCJweFwifSxwLl92ZXJ0aVVwZGF0ZT1mdW5jdGlvbihjb250cm9sbGVyLHZhbHVlKXtfc3VwZXIuX3ZlcnRpVXBkYXRlLmNhbGwodGhpcyxjb250cm9sbGVyLHZhbHVlKTt2YXIgaT0wO2lmKHRoaXMuY3NzMylmb3IoaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpdGhpcy5zbGlkZUxpc3RbaV0uJGVsZW1lbnRbMF0uc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwidHJhbnNsYXRlWShcIisodmFsdWUtdGhpcy5zbGlkZUxpc3RbaV0ucG9zaXRpb24pKk1TUGFyYWxsYXhNYXNrVmlldy5wYXJhbGxheEFtb3VudCtcInB4KVwiK3RoaXMuX190cmFuc2xhdGVfZW5kO2Vsc2UgZm9yKGk9MDtpPHRoaXMuc2xpZGVzQ291bnQ7KytpKXRoaXMuc2xpZGVMaXN0W2ldLiRlbGVtZW50WzBdLnN0eWxlLnRvcD0odmFsdWUtdGhpcy5zbGlkZUxpc3RbaV0ucG9zaXRpb24pKk1TUGFyYWxsYXhNYXNrVmlldy5wYXJhbGxheEFtb3VudCtcInB4XCJ9LE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyVmlldyhcInBhcmFsbGF4TWFza1wiLE1TUGFyYWxsYXhNYXNrVmlldyl9KGpRdWVyeSksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt3aW5kb3cuTVNGYWRlVmlldz1mdW5jdGlvbihvcHRpb25zKXtNU0Jhc2ljVmlldy5jYWxsKHRoaXMsb3B0aW9ucyksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcIm1zLWJhc2ljLXZpZXdcIikuYWRkQ2xhc3MoXCJtcy1mYWRlLXZpZXdcIiksdGhpcy5jb250cm9sbGVyLnJlbmRlckNhbGxiYWNrKHRoaXMuX191cGRhdGUsdGhpcyl9LE1TRmFkZVZpZXcuZXh0ZW5kKE1TQmFzaWNWaWV3KTt2YXIgcD1NU0ZhZGVWaWV3LnByb3RvdHlwZSxfc3VwZXI9TVNCYXNpY1ZpZXcucHJvdG90eXBlO3AuX191cGRhdGU9ZnVuY3Rpb24oY29udHJvbGxlcix2YWx1ZSl7Zm9yKHZhciBzbGlkZSxkaXN0YW5jZSxjb250X3Njcm9sbD0tdmFsdWUsaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpc2xpZGU9dGhpcy5zbGlkZUxpc3RbaV0sZGlzdGFuY2U9LWNvbnRfc2Nyb2xsLXNsaWRlLnBvc2l0aW9uLHRoaXMuX191cGRhdGVTbGlkZXMoc2xpZGUsZGlzdGFuY2UpfSxwLl9fdXBkYXRlU2xpZGVzPWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt2YXIgdmFsdWU9TWF0aC5hYnMoZGlzdGFuY2UvdGhpc1t0aGlzLl9fZGltZW5zaW9uXSk7MD49MS12YWx1ZT9zbGlkZS4kZWxlbWVudC5mYWRlVG8oMCwwKS5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIik6c2xpZGUuJGVsZW1lbnQuZmFkZVRvKDAsMS12YWx1ZSkuY3NzKFwidmlzaWJpbGl0eVwiLFwiXCIpfSxwLl9fbG9jYXRlU2xpZGVzPWZ1bmN0aW9uKG1vdmUsc3RhcnQpe3RoaXMuX191cGRhdGVWaWV3TGlzdCgpLHN0YXJ0PXRoaXMubG9vcD9zdGFydHx8MDp0aGlzLnNsaWRlcy5pbmRleE9mKHRoaXMudmlld1NsaWRlc0xpc3RbMF0pKih0aGlzW3RoaXMuX19kaW1lbnNpb25dK3RoaXMuc3BhY2luZyk7Zm9yKHZhciBzbGlkZSxsPXRoaXMudmlld1NsaWRlc0xpc3QubGVuZ3RoLGk9MDtpIT09bDtpKyspe3ZhciBwb3M9c3RhcnQraSp0aGlzW3RoaXMuX19kaW1lbnNpb25dO3NsaWRlPXRoaXMudmlld1NsaWRlc0xpc3RbaV0sc2xpZGUud2FrZXVwKCksc2xpZGUucG9zaXRpb249cG9zfW1vdmUhPT0hMSYmdGhpcy5jb250cm9sbGVyLmNoYW5nZVRvKHRoaXMuc2xpZGVMaXN0W3RoaXMuaW5kZXhdLnBvc2l0aW9uLCExLG51bGwsbnVsbCwhMSl9LHAuX19wdXNoRW5kPWZ1bmN0aW9uKCl7dmFyIGZpcnN0X3NsaWRlPXRoaXMuc2xpZGVzLnNoaWZ0KCksbGFzdF9zbGlkZT10aGlzLnNsaWRlc1t0aGlzLnNsaWRlc0NvdW50LTJdO3RoaXMuc2xpZGVzLnB1c2goZmlyc3Rfc2xpZGUpLGZpcnN0X3NsaWRlLnBvc2l0aW9uPWxhc3Rfc2xpZGUucG9zaXRpb24rdGhpc1t0aGlzLl9fZGltZW5zaW9uXX0scC5fX3B1c2hTdGFydD1mdW5jdGlvbigpe3ZhciBsYXN0X3NsaWRlPXRoaXMuc2xpZGVzLnBvcCgpLGZpcnN0X3NsaWRlPXRoaXMuc2xpZGVzWzBdO3RoaXMuc2xpZGVzLnVuc2hpZnQobGFzdF9zbGlkZSksbGFzdF9zbGlkZS5wb3NpdGlvbj1maXJzdF9zbGlkZS5wb3NpdGlvbi10aGlzW3RoaXMuX19kaW1lbnNpb25dfSxwLmNyZWF0ZT1mdW5jdGlvbihpbmRleCl7X3N1cGVyLmNyZWF0ZS5jYWxsKHRoaXMsaW5kZXgpLHRoaXMuc3BhY2luZz0wLHRoaXMuY29udHJvbGxlci5vcHRpb25zLm1pblZhbGlkRGlzdD0xMH0sTVNTbGlkZUNvbnRyb2xsZXIucmVnaXN0ZXJWaWV3KFwiZmFkZVwiLE1TRmFkZVZpZXcpfShqUXVlcnkpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7d2luZG93Lk1TU2NhbGVWaWV3PWZ1bmN0aW9uKG9wdGlvbnMpe01TQmFzaWNWaWV3LmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwibXMtYmFzaWMtdmlld1wiKS5hZGRDbGFzcyhcIm1zLXNjYWxlLXZpZXdcIiksdGhpcy5jb250cm9sbGVyLnJlbmRlckNhbGxiYWNrKHRoaXMuX191cGRhdGUsdGhpcyl9LE1TU2NhbGVWaWV3LmV4dGVuZChNU0ZhZGVWaWV3KTt2YXIgcD1NU1NjYWxlVmlldy5wcm90b3R5cGUsX3N1cGVyPU1TRmFkZVZpZXcucHJvdG90eXBlO3AuX191cGRhdGVTbGlkZXM9ZnVuY3Rpb24oc2xpZGUsZGlzdGFuY2Upe3ZhciB2YWx1ZT1NYXRoLmFicyhkaXN0YW5jZS90aGlzW3RoaXMuX19kaW1lbnNpb25dKSxlbGVtZW50PXNsaWRlLiRlbGVtZW50WzBdOzA+PTEtdmFsdWU/KGVsZW1lbnQuc3R5bGUub3BhY2l0eT0wLGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLGVsZW1lbnQuc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwiXCIpOihlbGVtZW50LnN0eWxlLm9wYWNpdHk9MS12YWx1ZSxlbGVtZW50LnN0eWxlLnZpc2liaWxpdHk9XCJcIixlbGVtZW50LnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInBlcnNwZWN0aXZlKDIwMDBweCkgdHJhbnNsYXRlWihcIit2YWx1ZSooMD5kaXN0YW5jZT8tLjU6LjUpKjMwMCtcInB4KVwiKX0scC5jcmVhdGU9ZnVuY3Rpb24oaW5kZXgpe19zdXBlci5jcmVhdGUuY2FsbCh0aGlzLGluZGV4KSx0aGlzLmNvbnRyb2xsZXIub3B0aW9ucy5taW5WYWxpZERpc3Q9LjAzfSxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlclZpZXcoXCJzY2FsZVwiLE1TU2NhbGVWaWV3KX0oalF1ZXJ5KSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3dpbmRvdy5NU1N0YWNrVmlldz1mdW5jdGlvbihvcHRpb25zKXtNU0Jhc2ljVmlldy5jYWxsKHRoaXMsb3B0aW9ucyksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcIm1zLWJhc2ljLXZpZXdcIikuYWRkQ2xhc3MoXCJtcy1zdGFjay12aWV3XCIpLHRoaXMuY29udHJvbGxlci5yZW5kZXJDYWxsYmFjayh0aGlzLl9fdXBkYXRlLHRoaXMpLHRoaXMuYXV0b1VwZGF0ZVpJbmRleD0hMH0sTVNTdGFja1ZpZXcuZXh0ZW5kKE1TRmFkZVZpZXcpLE1TU3RhY2tWaWV3Ll8zZHJlcT0hMCxNU1N0YWNrVmlldy5fZmFsbGJhY2s9TVNGYWRlVmlldzt2YXIgcD1NU1N0YWNrVmlldy5wcm90b3R5cGUsX3N1cGVyPU1TRmFkZVZpZXcucHJvdG90eXBlO3AuX191cGRhdGVTbGlkZXNaaW5kZXg9ZnVuY3Rpb24oKXtmb3IodmFyIHNsaWRlLGw9dGhpcy52aWV3U2xpZGVzTGlzdC5sZW5ndGgsaT0wO2khPT1sO2krKylzbGlkZT10aGlzLnZpZXdTbGlkZXNMaXN0W2ldLHRoaXMudmlld1NsaWRlc0xpc3RbaV0uJGVsZW1lbnQuY3NzKFwiei1pbmRleFwiLGwtaSl9LHAuX191cGRhdGVTbGlkZXM9ZnVuY3Rpb24oc2xpZGUsZGlzdGFuY2Upe3ZhciB2YWx1ZT1NYXRoLmFicyhkaXN0YW5jZS90aGlzW3RoaXMuX19kaW1lbnNpb25dKSxlbGVtZW50PXNsaWRlLiRlbGVtZW50WzBdOzA+PTEtdmFsdWU/KGVsZW1lbnQuc3R5bGUub3BhY2l0eT0xLGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLGVsZW1lbnQuc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwiXCIpOihlbGVtZW50LnN0eWxlLnZpc2liaWxpdHk9XCJcIixlbGVtZW50LnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT0wPmRpc3RhbmNlP1wicGVyc3BlY3RpdmUoMjAwMHB4KSB0cmFuc2xhdGVaKFwiKy0zMDAqdmFsdWUrXCJweClcIjp0aGlzLl9fdHJhbnNsYXRlK1wiKFwiKy12YWx1ZSp0aGlzW3RoaXMuX19kaW1lbnNpb25dK1wicHgpXCIpfSxwLmNyZWF0ZT1mdW5jdGlvbihpbmRleCl7X3N1cGVyLmNyZWF0ZS5jYWxsKHRoaXMsaW5kZXgpLHRoaXMuY29udHJvbGxlci5vcHRpb25zLm1pblZhbGlkRGlzdD0uMDMsdGhpcy5fX3RyYW5zbGF0ZT1cImhcIj09PXRoaXMuZGlyP1widHJhbnNsYXRlWFwiOlwidHJhbnNsYXRlWVwifSxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlclZpZXcoXCJzdGFja1wiLE1TU3RhY2tWaWV3KX0oalF1ZXJ5KSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBwZXJzcGVjdGl2ZT0yZTM7d2luZG93Lk1TRm9jdXNWaWV3PWZ1bmN0aW9uKG9wdGlvbnMpe01TV2F2ZVZpZXcuY2FsbCh0aGlzLG9wdGlvbnMpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJtcy13YXZlLXZpZXdcIikuYWRkQ2xhc3MoXCJtcy1mb2N1cy12aWV3XCIpLHRoaXMub3B0aW9ucy5jZW50ZXJTcGFjZT10aGlzLm9wdGlvbnMuY2VudGVyU3BhY2V8fDF9LE1TRm9jdXNWaWV3LmV4dGVuZChNU1dhdmVWaWV3KSxNU0ZvY3VzVmlldy5fM2RyZXE9ITAsTVNGb2N1c1ZpZXcuX2ZhbGxiYWNrPU1TRmFkZUJhc2ljVmlldzt7dmFyIHA9TVNGb2N1c1ZpZXcucHJvdG90eXBlO01TV2F2ZVZpZXcucHJvdG90eXBlfXAuX19jYWxjdmlldz1mdW5jdGlvbih6LHcpe3ZhciBhPXcvMip6Lyh6K3BlcnNwZWN0aXZlKTtyZXR1cm4gYSooeitwZXJzcGVjdGl2ZSkvcGVyc3BlY3RpdmV9LHAuX191cGRhdGVTbGlkZXNIb3Jpej1mdW5jdGlvbihzbGlkZSxkaXN0YW5jZSl7dmFyIHZhbHVlPU1hdGguYWJzKDEwMCpkaXN0YW5jZS90aGlzLl9fd2lkdGgpO3ZhbHVlPTE1Ki1NYXRoLm1pbih2YWx1ZSwxMDApLHNsaWRlLiRlbGVtZW50LmNzcyh3aW5kb3cuX2Nzc3BmeCtcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWihcIisodmFsdWUrMSkrXCJweCkgcm90YXRlWSgwLjAxZGVnKSB0cmFuc2xhdGVYKFwiKygwPmRpc3RhbmNlPzE6LTEpKi10aGlzLl9fY2FsY3ZpZXcodmFsdWUsdGhpcy5fX3dpZHRoKSp0aGlzLm9wdGlvbnMuY2VudGVyU3BhY2UrXCJweClcIil9LHAuX191cGRhdGVTbGlkZXNWZXJ0aWM9ZnVuY3Rpb24oc2xpZGUsZGlzdGFuY2Upe3ZhciB2YWx1ZT1NYXRoLmFicygxMDAqZGlzdGFuY2UvdGhpcy5fX3dpZHRoKTt2YWx1ZT0xNSotTWF0aC5taW4odmFsdWUsMTAwKSxzbGlkZS4kZWxlbWVudC5jc3Mod2luZG93Ll9jc3NwZngrXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVooXCIrKHZhbHVlKzEpK1wicHgpIHJvdGF0ZVkoMC4wMWRlZykgdHJhbnNsYXRlWShcIisoMD5kaXN0YW5jZT8xOi0xKSotdGhpcy5fX2NhbGN2aWV3KHZhbHVlLHRoaXMuX193aWR0aCkqdGhpcy5vcHRpb25zLmNlbnRlclNwYWNlK1wicHgpXCIpfSxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlclZpZXcoXCJmb2N1c1wiLE1TRm9jdXNWaWV3KX0oKSxmdW5jdGlvbigpe3dpbmRvdy5NU1BhcnRpYWxXYXZlVmlldz1mdW5jdGlvbihvcHRpb25zKXtNU1dhdmVWaWV3LmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwibXMtd2F2ZS12aWV3XCIpLmFkZENsYXNzKFwibXMtcGFydGlhbC13YXZlLXZpZXdcIil9LE1TUGFydGlhbFdhdmVWaWV3LmV4dGVuZChNU1dhdmVWaWV3KSxNU1BhcnRpYWxXYXZlVmlldy5fM2RyZXE9ITAsTVNQYXJ0aWFsV2F2ZVZpZXcuX2ZhbGxiYWNrPU1TRmFkZUJhc2ljVmlldzt7dmFyIHA9TVNQYXJ0aWFsV2F2ZVZpZXcucHJvdG90eXBlO01TV2F2ZVZpZXcucHJvdG90eXBlfXAuX191cGRhdGVTbGlkZXNIb3Jpej1mdW5jdGlvbihzbGlkZSxkaXN0YW5jZSl7dmFyIHZhbHVlPU1hdGguYWJzKDEwMCpkaXN0YW5jZS90aGlzLl9fd2lkdGgpO3NsaWRlLmhhc0JHJiZzbGlkZS4kYmdfaW1nLmNzcyhcIm9wYWNpdHlcIiwoMTAwLU1hdGguYWJzKDEyMCpkaXN0YW5jZS90aGlzLl9fd2lkdGgvMykpLzEwMCksc2xpZGUuJGVsZW1lbnQuY3NzKHdpbmRvdy5fY3NzcGZ4K1widHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVaKFwiKzMqLXZhbHVlK1wicHgpIHJvdGF0ZVkoMC4wMWRlZykgdHJhbnNsYXRlWChcIisuNzUqZGlzdGFuY2UrXCJweClcIil9LHAuX191cGRhdGVTbGlkZXNWZXJ0aWM9ZnVuY3Rpb24oc2xpZGUsZGlzdGFuY2Upe3ZhciB2YWx1ZT1NYXRoLmFicygxMDAqZGlzdGFuY2UvdGhpcy5fX3dpZHRoKTtzbGlkZS5oYXNCRyYmc2xpZGUuJGJnX2ltZy5jc3MoXCJvcGFjaXR5XCIsKDEwMC1NYXRoLmFicygxMjAqZGlzdGFuY2UvdGhpcy5fX3dpZHRoLzMpKS8xMDApLHNsaWRlLiRlbGVtZW50LmNzcyh3aW5kb3cuX2Nzc3BmeCtcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWihcIiszKi12YWx1ZStcInB4KSByb3RhdGVZKDAuMDFkZWcpIHRyYW5zbGF0ZVkoXCIrLjc1KmRpc3RhbmNlK1wicHgpXCIpfSxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlclZpZXcoXCJwYXJ0aWFsV2F2ZVwiLE1TUGFydGlhbFdhdmVWaWV3KX0oKSxmdW5jdGlvbigkKXtcInVzZSBzdHJpY3RcIjt2YXIgQmFzZUNvbnRyb2w9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnM9e3ByZWZpeDpcIm1zLVwiLGF1dG9oaWRlOiEwLG92ZXJWaWRlbzohMCxjdXN0b21DbGFzczpudWxsfX0scD1CYXNlQ29udHJvbC5wcm90b3R5cGU7cC5zbGlkZUFjdGlvbj1mdW5jdGlvbigpe30scC5zZXR1cD1mdW5jdGlvbigpe3RoaXMuY29udD10aGlzLm9wdGlvbnMuaW5zZXJ0VG8/JCh0aGlzLm9wdGlvbnMuaW5zZXJ0VG8pOnRoaXMuc2xpZGVyLiRjb250cm9sc0NvbnQsdGhpcy5vcHRpb25zLm92ZXJWaWRlb3x8dGhpcy5faGlkZU9udmlkZW9TdGFydHMoKX0scC5jaGVja0hpZGVVbmRlcj1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5oaWRlVW5kZXImJih0aGlzLm5lZWRzUmVhbGlnbj0hdGhpcy5vcHRpb25zLmluc2V0VG8mJihcImxlZnRcIj09PXRoaXMub3B0aW9ucy5hbGlnbnx8XCJyaWdodFwiPT09dGhpcy5vcHRpb25zLmFsaWduKSYmdGhpcy5vcHRpb25zLmluc2V0PT09ITEsJCh3aW5kb3cpLmJpbmQoXCJyZXNpemVcIix7dGhhdDp0aGlzfSx0aGlzLm9uUmVzaXplKSx0aGlzLm9uUmVzaXplKCkpfSxwLm9uUmVzaXplPWZ1bmN0aW9uKGV2ZW50KXt2YXIgdGhhdD1ldmVudCYmZXZlbnQuZGF0YS50aGF0fHx0aGlzLHc9d2luZG93LmlubmVyV2lkdGg7dzw9dGhhdC5vcHRpb25zLmhpZGVVbmRlciYmIXRoYXQuZGV0YWNoZWQ/KHRoYXQuaGlkZSghMCksdGhhdC5kZXRhY2hlZD0hMCx0aGF0Lm9uRGV0YWNoKCkpOnc+PXRoYXQub3B0aW9ucy5oaWRlVW5kZXImJnRoYXQuZGV0YWNoZWQmJih0aGF0LmRldGFjaGVkPSExLHRoYXQudmlzaWJsZSgpLHRoYXQub25BcHBlbmQoKSl9LHAuY3JlYXRlPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmF1dG9oaWRlJiYodGhpcy5oaWRlKCEwKSx0aGlzLnNsaWRlci4kY29udHJvbHNDb250Lm1vdXNlZW50ZXIoJC5wcm94eSh0aGlzLl9vbk1vdXNlRW50ZXIsdGhpcykpLm1vdXNlbGVhdmUoJC5wcm94eSh0aGlzLl9vbk1vdXNlTGVhdmUsdGhpcykpLm1vdXNlZG93bigkLnByb3h5KHRoaXMuX29uTW91c2VEb3duLHRoaXMpKSx0aGlzLiRlbGVtZW50JiZ0aGlzLiRlbGVtZW50Lm1vdXNlZW50ZXIoJC5wcm94eSh0aGlzLl9vbk1vdXNlRW50ZXIsdGhpcykpLm1vdXNlbGVhdmUoJC5wcm94eSh0aGlzLl9vbk1vdXNlTGVhdmUsdGhpcykpLm1vdXNlZG93bigkLnByb3h5KHRoaXMuX29uTW91c2VEb3duLHRoaXMpKSwkKGRvY3VtZW50KS5tb3VzZXVwKCQucHJveHkodGhpcy5fb25Nb3VzZVVwLHRoaXMpKSksdGhpcy5vcHRpb25zLmFsaWduJiZ0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwibXMtYWxpZ24tXCIrdGhpcy5vcHRpb25zLmFsaWduKSx0aGlzLm9wdGlvbnMuY3VzdG9tQ2xhc3MmJnRoaXMuJGVsZW1lbnQmJnRoaXMuJGVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmN1c3RvbUNsYXNzKX0scC5fb25Nb3VzZUVudGVyPWZ1bmN0aW9uKCl7dGhpcy5fZGlzYWJsZUFIfHx0aGlzLm1kb3dufHx0aGlzLnZpc2libGUoKSx0aGlzLm1sZWF2ZT0hMX0scC5fb25Nb3VzZUxlYXZlPWZ1bmN0aW9uKCl7dGhpcy5tZG93bnx8dGhpcy5oaWRlKCksdGhpcy5tbGVhdmU9ITB9LHAuX29uTW91c2VEb3duPWZ1bmN0aW9uKCl7dGhpcy5tZG93bj0hMH0scC5fb25Nb3VzZVVwPWZ1bmN0aW9uKCl7dGhpcy5tZG93biYmdGhpcy5tbGVhdmUmJnRoaXMuaGlkZSgpLHRoaXMubWRvd249ITF9LHAub25BcHBlbmQ9ZnVuY3Rpb24oKXt0aGlzLm5lZWRzUmVhbGlnbiYmdGhpcy5zbGlkZXIuX3JlYWxpZ25Db250cm9scygpfSxwLm9uRGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5uZWVkc1JlYWxpZ24mJnRoaXMuc2xpZGVyLl9yZWFsaWduQ29udHJvbHMoKX0scC5faGlkZU9udmlkZW9TdGFydHM9ZnVuY3Rpb24oKXt2YXIgdGhhdD10aGlzO3RoaXMuc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuVklERU9fUExBWSxmdW5jdGlvbigpe3RoYXQuX2Rpc2FibGVBSD0hMCx0aGF0LmhpZGUoKX0pLHRoaXMuc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuVklERU9fQ0xPU0UsZnVuY3Rpb24oKXt0aGF0Ll9kaXNhYmxlQUg9ITEsdGhhdC52aXNpYmxlKCl9KX0scC5oaWRlPWZ1bmN0aW9uKGZhc3Qpe2lmKGZhc3QpdGhpcy4kZWxlbWVudC5jc3MoXCJvcGFjaXR5XCIsMCksdGhpcy4kZWxlbWVudC5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpO2Vsc2V7Y2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRvKTt2YXIgJGVsZW1lbnQ9dGhpcy4kZWxlbWVudDt0aGlzLmhpZGVUbz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q1R3ZWVuLmZhZGVPdXQoJGVsZW1lbnQsNDAwLCExKX0sMjApfXRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoXCJtcy1jdHJsLWhpZGVcIil9LHAudmlzaWJsZT1mdW5jdGlvbigpe3RoaXMuZGV0YWNoZWR8fChjbGVhclRpbWVvdXQodGhpcy5oaWRlVG8pLHRoaXMuJGVsZW1lbnQuY3NzKFwiZGlzcGxheVwiLFwiXCIpLENUd2Vlbi5mYWRlSW4odGhpcy4kZWxlbWVudCw0MDAsITEpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJtcy1jdHJsLWhpZGVcIikpfSxwLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5oaWRlVW5kZXImJiQod2luZG93KS51bmJpbmQoXCJyZXNpemVcIix0aGlzLm9uUmVzaXplKX0sd2luZG93LkJhc2VDb250cm9sPUJhc2VDb250cm9sfShqUXVlcnkpLGZ1bmN0aW9uKCQpe1widXNlIHN0cmljdFwiO3ZhciBNU0Fycm93cz1mdW5jdGlvbihvcHRpb25zKXtCYXNlQ29udHJvbC5jYWxsKHRoaXMpLCQuZXh0ZW5kKHRoaXMub3B0aW9ucyxvcHRpb25zKX07TVNBcnJvd3MuZXh0ZW5kKEJhc2VDb250cm9sKTt2YXIgcD1NU0Fycm93cy5wcm90b3R5cGUsX3N1cGVyPUJhc2VDb250cm9sLnByb3RvdHlwZTtwLnNldHVwPWZ1bmN0aW9uKCl7dmFyIHRoYXQ9dGhpczt0aGlzLiRuZXh0PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMucHJlZml4K1wibmF2LW5leHRcIikuYmluZChcImNsaWNrXCIsZnVuY3Rpb24oKXt0aGF0LnNsaWRlci5hcGkubmV4dCghMCl9KSx0aGlzLiRwcmV2PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMucHJlZml4K1wibmF2LXByZXZcIikuYmluZChcImNsaWNrXCIsZnVuY3Rpb24oKXt0aGF0LnNsaWRlci5hcGkucHJldmlvdXMoITApfSksX3N1cGVyLnNldHVwLmNhbGwodGhpcyksdGhpcy5jb250LmFwcGVuZCh0aGlzLiRuZXh0KSx0aGlzLmNvbnQuYXBwZW5kKHRoaXMuJHByZXYpLHRoaXMuY2hlY2tIaWRlVW5kZXIoKX0scC5oaWRlPWZ1bmN0aW9uKGZhc3Qpe3JldHVybiBmYXN0Pyh0aGlzLiRwcmV2LmNzcyhcIm9wYWNpdHlcIiwwKS5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpLHZvaWQgdGhpcy4kbmV4dC5jc3MoXCJvcGFjaXR5XCIsMCkuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKSk6KENUd2Vlbi5mYWRlT3V0KHRoaXMuJHByZXYsNDAwLCExKSxDVHdlZW4uZmFkZU91dCh0aGlzLiRuZXh0LDQwMCwhMSksdGhpcy4kcHJldi5hZGRDbGFzcyhcIm1zLWN0cmwtaGlkZVwiKSx2b2lkIHRoaXMuJG5leHQuYWRkQ2xhc3MoXCJtcy1jdHJsLWhpZGVcIikpfSxwLnZpc2libGU9ZnVuY3Rpb24oKXt0aGlzLmRldGFjaGVkfHwoQ1R3ZWVuLmZhZGVJbih0aGlzLiRwcmV2LDQwMCksQ1R3ZWVuLmZhZGVJbih0aGlzLiRuZXh0LDQwMCksdGhpcy4kcHJldi5yZW1vdmVDbGFzcyhcIm1zLWN0cmwtaGlkZVwiKS5jc3MoXCJkaXNwbGF5XCIsXCJcIiksdGhpcy4kbmV4dC5yZW1vdmVDbGFzcyhcIm1zLWN0cmwtaGlkZVwiKS5jc3MoXCJkaXNwbGF5XCIsXCJcIikpfSxwLmRlc3Ryb3k9ZnVuY3Rpb24oKXtfc3VwZXIuZGVzdHJveSgpLHRoaXMuJG5leHQucmVtb3ZlKCksdGhpcy4kcHJldi5yZW1vdmUoKX0sd2luZG93Lk1TQXJyb3dzPU1TQXJyb3dzLE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyQ29udHJvbChcImFycm93c1wiLE1TQXJyb3dzKX0oalF1ZXJ5KSxmdW5jdGlvbigkKXtcInVzZSBzdHJpY3RcIjt2YXIgTVNUaHVtYmxpc3Q9ZnVuY3Rpb24ob3B0aW9ucyl7QmFzZUNvbnRyb2wuY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnMuZGlyPVwiaFwiLHRoaXMub3B0aW9ucy53aGVlbD1cInZcIj09PW9wdGlvbnMuZGlyLHRoaXMub3B0aW9ucy5hcnJvd3M9ITEsdGhpcy5vcHRpb25zLnNwZWVkPTE3LHRoaXMub3B0aW9ucy5hbGlnbj1udWxsLHRoaXMub3B0aW9ucy5pbnNldD0hMSx0aGlzLm9wdGlvbnMubWFyZ2luPTEwLHRoaXMub3B0aW9ucy5zcGFjZT0xMCx0aGlzLm9wdGlvbnMud2lkdGg9MTAwLHRoaXMub3B0aW9ucy5oZWlnaHQ9MTAwLHRoaXMub3B0aW9ucy50eXBlPVwidGh1bWJzXCIsdGhpcy5vcHRpb25zLmhvdmVyPSExLCQuZXh0ZW5kKHRoaXMub3B0aW9ucyxvcHRpb25zKSx0aGlzLnRodW1icz1bXSx0aGlzLmluZGV4X2NvdW50PTAsdGhpcy5fX2RpbWVuPVwiaFwiPT09dGhpcy5vcHRpb25zLmRpcj9cIndpZHRoXCI6XCJoZWlnaHRcIix0aGlzLl9fYWxpZ25zaXplPVwiaFwiPT09dGhpcy5vcHRpb25zLmRpcj9cImhlaWdodFwiOlwid2lkdGhcIix0aGlzLl9famRpbWVuPVwiaFwiPT09dGhpcy5vcHRpb25zLmRpcj9cIm91dGVyV2lkdGhcIjpcIm91dGVySGVpZ2h0XCIsdGhpcy5fX3Bvcz1cImhcIj09PXRoaXMub3B0aW9ucy5kaXI/XCJsZWZ0XCI6XCJ0b3BcIix0aGlzLmNsaWNrX2VuYWJsZT0hMH07TVNUaHVtYmxpc3QuZXh0ZW5kKEJhc2VDb250cm9sKTt2YXIgcD1NU1RodW1ibGlzdC5wcm90b3R5cGUsX3N1cGVyPUJhc2VDb250cm9sLnByb3RvdHlwZTtwLnNldHVwPWZ1bmN0aW9uKCl7aWYodGhpcy4kZWxlbWVudD0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnByZWZpeCtcInRodW1iLWxpc3RcIiksXCJ0YWJzXCI9PT10aGlzLm9wdGlvbnMudHlwZSYmdGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMucHJlZml4K1widGFic1wiKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwibXMtZGlyLVwiK3RoaXMub3B0aW9ucy5kaXIpLF9zdXBlci5zZXR1cC5jYWxsKHRoaXMpLHRoaXMuJGVsZW1lbnQuYXBwZW5kVG8odGhpcy5zbGlkZXIuJGNvbnRyb2xzQ29udD09PXRoaXMuY29udD90aGlzLnNsaWRlci4kZWxlbWVudDp0aGlzLmNvbnQpLHRoaXMuJHRodW1ic2NvbnQ9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtdGh1bWJzLWNvbnRcIikuYXBwZW5kVG8odGhpcy4kZWxlbWVudCksdGhpcy5vcHRpb25zLmFycm93cyl7dmFyIHRoYXQ9dGhpczt0aGlzLiRmd2Q9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtdGh1bWJsaXN0LWZ3ZFwiKS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KS5jbGljayhmdW5jdGlvbigpe3RoYXQuY29udHJvbGxlci5wdXNoKC0xNSl9KSx0aGlzLiRid2Q9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtdGh1bWJsaXN0LWJ3ZFwiKS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KS5jbGljayhmdW5jdGlvbigpe3RoYXQuY29udHJvbGxlci5wdXNoKDE1KX0pfWlmKCF0aGlzLm9wdGlvbnMuaW5zZXRUbyYmdGhpcy5vcHRpb25zLmFsaWduKXt2YXIgYWxpZ249dGhpcy5vcHRpb25zLmFsaWduO3RoaXMub3B0aW9ucy5pbnNldD90aGlzLiRlbGVtZW50LmNzcyhhbGlnbix0aGlzLm9wdGlvbnMubWFyZ2luKTpcInRvcFwiPT09YWxpZ24/dGhpcy4kZWxlbWVudC5kZXRhY2goKS5wcmVwZW5kVG8odGhpcy5zbGlkZXIuJGVsZW1lbnQpLmNzcyh7XCJtYXJnaW4tYm90dG9tXCI6dGhpcy5vcHRpb25zLm1hcmdpbixwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KTpcImJvdHRvbVwiPT09YWxpZ24/dGhpcy4kZWxlbWVudC5jc3Moe1wibWFyZ2luLXRvcFwiOnRoaXMub3B0aW9ucy5tYXJnaW4scG9zaXRpb246XCJyZWxhdGl2ZVwifSk6KHRoaXMuc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuUkVTRVJWRURfU1BBQ0VfQ0hBTkdFLHRoaXMuYWxpZ24sdGhpcyksdGhpcy5hbGlnbigpKSxcInZcIj09PXRoaXMub3B0aW9ucy5kaXI/dGhpcy4kZWxlbWVudC53aWR0aCh0aGlzLm9wdGlvbnMud2lkdGgpOnRoaXMuJGVsZW1lbnQuaGVpZ2h0KHRoaXMub3B0aW9ucy5oZWlnaHQpfXRoaXMuY2hlY2tIaWRlVW5kZXIoKX0scC5hbGlnbj1mdW5jdGlvbigpe2lmKCF0aGlzLmRldGFjaGVkKXt2YXIgYWxpZ249dGhpcy5vcHRpb25zLmFsaWduLHBvcz10aGlzLnNsaWRlci5yZXNlcnZlU3BhY2UoYWxpZ24sdGhpcy5vcHRpb25zW3RoaXMuX19hbGlnbnNpemVdKzIqdGhpcy5vcHRpb25zLm1hcmdpbik7dGhpcy4kZWxlbWVudC5jc3MoYWxpZ24sLXBvcy10aGlzLm9wdGlvbnNbdGhpcy5fX2FsaWduc2l6ZV0tdGhpcy5vcHRpb25zLm1hcmdpbil9fSxwLnNsaWRlQWN0aW9uPWZ1bmN0aW9uKHNsaWRlKXt2YXIgdGh1bWJfZWxlPXNsaWRlLiRlbGVtZW50LmZpbmQoXCIubXMtdGh1bWJcIiksdGhhdD10aGlzLHRodW1iX2ZyYW1lPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXRodW1iLWZyYW1lXCIpLmFwcGVuZCh0aHVtYl9lbGUpLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwibXMtdGh1bWItb2xcIj48L2Rpdj4nKSkuYmluZCh0aGlzLm9wdGlvbnMuaG92ZXI/XCJob3ZlclwiOlwiY2xpY2tcIixmdW5jdGlvbigpe3RoYXQuY2hhbmdlU2xpZGUodGh1bWJfZnJhbWUpfSk7aWYodGhpcy5vcHRpb25zLmFsaWduJiZ0aHVtYl9mcmFtZS53aWR0aCh0aGlzLm9wdGlvbnMud2lkdGgtKFwidlwiPT09dGhpcy5vcHRpb25zLmRpciYmXCJ0YWJzXCI9PT10aGlzLm9wdGlvbnMudHlwZT8xMjowKSkuaGVpZ2h0KHRoaXMub3B0aW9ucy5oZWlnaHQpLmNzcyhcIm1hcmdpbi1cIisoXCJ2XCI9PT10aGlzLm9wdGlvbnMuZGlyP1wiYm90dG9tXCI6XCJyaWdodFwiKSx0aGlzLm9wdGlvbnMuc3BhY2UpLHRodW1iX2ZyYW1lWzBdLmluZGV4PXRoaXMuaW5kZXhfY291bnQrKyx0aGlzLiR0aHVtYnNjb250LmFwcGVuZCh0aHVtYl9mcmFtZSksdGhpcy5vcHRpb25zLmZpbGxNb2RlJiZ0aHVtYl9lbGUuaXMoXCJpbWdcIikpe3ZhciBhbGlnbmVyPW5ldyB3aW5kb3cuTVNBbGlnbmVyKHRoaXMub3B0aW9ucy5maWxsTW9kZSx0aHVtYl9mcmFtZSx0aHVtYl9lbGUpO3RodW1iX2VsZVswXS5hbGlnbmVyPWFsaWduZXIsdGh1bWJfZWxlLm9uZShcImxvYWRcIixmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpOyR0aGlzWzBdLmFsaWduZXIuaW5pdCgkdGhpcy53aWR0aCgpLCR0aGlzLmhlaWdodCgpKSwkdGhpc1swXS5hbGlnbmVyLmFsaWduKCl9KS5lYWNoKCQuanFMb2FkRml4KX0kLmJyb3dzZXIubXNpZSYmdGh1bWJfZWxlLm9uKFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oZXZlbnQpe2V2ZW50LnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLnRodW1icy5wdXNoKHRodW1iX2ZyYW1lKX0scC5jcmVhdGU9ZnVuY3Rpb24oKXtfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyksdGhpcy5fX3RyYW5zbGF0ZV9lbmQ9d2luZG93Ll9jc3MzZD9cIiB0cmFuc2xhdGVaKDBweClcIjpcIlwiLHRoaXMuY29udHJvbGxlcj1uZXcgQ29udHJvbGxlcigwLDAse3NuYXBwaW5nTWluU3BlZWQ6MixmcmljdGlvbjooMTAwLS41KnRoaXMub3B0aW9ucy5zcGVlZCkvMTAwfSksdGhpcy5jb250cm9sbGVyLnJlbmRlckNhbGxiYWNrKFwiaFwiPT09dGhpcy5vcHRpb25zLmRpcj90aGlzLl9oTW92ZTp0aGlzLl92TW92ZSx0aGlzKTt2YXIgdGhhdD10aGlzO3RoaXMucmVzaXplX2xpc3RlbmVyPWZ1bmN0aW9uKCl7dGhhdC5fX3Jlc2l6ZSgpfSwkKHdpbmRvdykuYmluZChcInJlc2l6ZVwiLHRoaXMucmVzaXplX2xpc3RlbmVyKSx0aGlzLnRodW1iU2l6ZT10aGlzLnRodW1ic1swXVt0aGlzLl9famRpbWVuXSghMCksdGhpcy5zZXR1cFN3aXBlKCksdGhpcy5fX3Jlc2l6ZSgpO3ZhciB0aGF0PXRoaXM7dGhpcy5vcHRpb25zLndoZWVsJiYodGhpcy53aGVlbGxpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50KXt2YXIgZT13aW5kb3cuZXZlbnR8fGV2ZW50Lm9yZ2luYWxFdmVudHx8ZXZlbnQsZGVsdGE9TWF0aC5tYXgoLTEsTWF0aC5taW4oMSxlLndoZWVsRGVsdGF8fC1lLmRldGFpbCkpO3JldHVybiB0aGF0LmNvbnRyb2xsZXIucHVzaCgxMCotZGVsdGEpLCExfSwkLmJyb3dzZXIubW96aWxsYT90aGlzLiRlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLHRoaXMud2hlZWxsaXN0ZW5lcik6dGhpcy4kZWxlbWVudC5iaW5kKFwibW91c2V3aGVlbFwiLHRoaXMud2hlZWxsaXN0ZW5lcikpLHRoaXMuc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuQ0hBTkdFX1NUQVJULHRoaXMudXBkYXRlLHRoaXMpLHRoaXMuc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuSEFSRF9VUERBVEUsdGhpcy5yZWFsaWduVGh1bWJzLHRoaXMpLHRoaXMuY2luZGV4PXRoaXMuc2xpZGVyLmFwaS5pbmRleCgpLHRoaXMuc2VsZWN0KHRoaXMudGh1bWJzW3RoaXMuY2luZGV4XSl9LHAuX2hNb3ZlPWZ1bmN0aW9uKGNvbnRyb2xsZXIsdmFsdWUpe3JldHVybiB0aGlzLl9fY29udFBvcz12YWx1ZSx3aW5kb3cuX2Nzc2FuaW0/dm9pZCh0aGlzLiR0aHVtYnNjb250WzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVgoXCIrLXZhbHVlK1wicHgpXCIrdGhpcy5fX3RyYW5zbGF0ZV9lbmQpOnZvaWQodGhpcy4kdGh1bWJzY29udFswXS5zdHlsZS5sZWZ0PS12YWx1ZStcInB4XCIpfSxwLl92TW92ZT1mdW5jdGlvbihjb250cm9sbGVyLHZhbHVlKXtyZXR1cm4gdGhpcy5fX2NvbnRQb3M9dmFsdWUsd2luZG93Ll9jc3NhbmltP3ZvaWQodGhpcy4kdGh1bWJzY29udFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVZKFwiKy12YWx1ZStcInB4KVwiK3RoaXMuX190cmFuc2xhdGVfZW5kKTp2b2lkKHRoaXMuJHRodW1ic2NvbnRbMF0uc3R5bGUudG9wPS12YWx1ZStcInB4XCIpfSxwLnNldHVwU3dpcGU9ZnVuY3Rpb24oKXt0aGlzLnN3aXBlQ29udHJvbD1uZXcgYXZlcnRhLlRvdWNoU3dpcGUodGhpcy4kZWxlbWVudCksdGhpcy5zd2lwZUNvbnRyb2wuc3dpcGVUeXBlPVwiaFwiPT09dGhpcy5vcHRpb25zLmRpcj9cImhvcml6b250YWxcIjpcInZlcnRpY2FsXCI7dmFyIHRoYXQ9dGhpczt0aGlzLnN3aXBlQ29udHJvbC5vblN3aXBlPVwiaFwiPT09dGhpcy5vcHRpb25zLmRpcj9mdW5jdGlvbihzdGF0dXMpe3RoYXQuaG9yaXpTd2lwZU1vdmUoc3RhdHVzKX06ZnVuY3Rpb24oc3RhdHVzKXt0aGF0LnZlcnRTd2lwZU1vdmUoc3RhdHVzKX19LHAudmVydFN3aXBlTW92ZT1mdW5jdGlvbihzdGF0dXMpe2lmKCF0aGlzLmRUb3VjaCl7dmFyIHBoYXNlPXN0YXR1cy5waGFzZTtpZihcInN0YXJ0XCI9PT1waGFzZSl0aGlzLmNvbnRyb2xsZXIuc3RvcCgpO2Vsc2UgaWYoXCJtb3ZlXCI9PT1waGFzZSl0aGlzLmNvbnRyb2xsZXIuZHJhZyhzdGF0dXMubW92ZVkpO2Vsc2UgaWYoXCJlbmRcIj09PXBoYXNlfHxcImNhbmNlbFwiPT09cGhhc2Upe3ZhciBzcGVlZD1NYXRoLmFicyhzdGF0dXMuZGlzdGFuY2VZL3N0YXR1cy5kdXJhdGlvbio1MC8zKTtzcGVlZD4uMT90aGlzLmNvbnRyb2xsZXIucHVzaCgtc3RhdHVzLmRpc3RhbmNlWS9zdGF0dXMuZHVyYXRpb24qNTAvMyk6KHRoaXMuY2xpY2tfZW5hYmxlPSEwLHRoaXMuY29udHJvbGxlci5jYW5jZWwoKSl9fX0scC5ob3JpelN3aXBlTW92ZT1mdW5jdGlvbihzdGF0dXMpe2lmKCF0aGlzLmRUb3VjaCl7dmFyIHBoYXNlPXN0YXR1cy5waGFzZTtpZihcInN0YXJ0XCI9PT1waGFzZSl0aGlzLmNvbnRyb2xsZXIuc3RvcCgpLHRoaXMuY2xpY2tfZW5hYmxlPSExO2Vsc2UgaWYoXCJtb3ZlXCI9PT1waGFzZSl0aGlzLmNvbnRyb2xsZXIuZHJhZyhzdGF0dXMubW92ZVgpO2Vsc2UgaWYoXCJlbmRcIj09PXBoYXNlfHxcImNhbmNlbFwiPT09cGhhc2Upe3ZhciBzcGVlZD1NYXRoLmFicyhzdGF0dXMuZGlzdGFuY2VYL3N0YXR1cy5kdXJhdGlvbio1MC8zKTtzcGVlZD4uMT90aGlzLmNvbnRyb2xsZXIucHVzaCgtc3RhdHVzLmRpc3RhbmNlWC9zdGF0dXMuZHVyYXRpb24qNTAvMyk6KHRoaXMuY2xpY2tfZW5hYmxlPSEwLHRoaXMuY29udHJvbGxlci5jYW5jZWwoKSl9fX0scC51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgbmluZGV4PXRoaXMuc2xpZGVyLmFwaS5pbmRleCgpO3RoaXMuY2luZGV4IT09bmluZGV4JiYobnVsbCE9dGhpcy5jaW5kZXgmJnRoaXMudW5zZWxlY3QodGhpcy50aHVtYnNbdGhpcy5jaW5kZXhdKSx0aGlzLmNpbmRleD1uaW5kZXgsdGhpcy5zZWxlY3QodGhpcy50aHVtYnNbdGhpcy5jaW5kZXhdKSx0aGlzLmRUb3VjaHx8dGhpcy51cGRhdGVUaHVtYnNjcm9sbCgpKX0scC5yZWFsaWduVGh1bWJzPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5maW5kKFwiLm1zLXRodW1iXCIpLmVhY2goZnVuY3Rpb24oaW5kZXgsdGh1bWIpe3RodW1iLmFsaWduZXImJnRodW1iLmFsaWduZXIuYWxpZ24oKX0pfSxwLnVwZGF0ZVRodW1ic2Nyb2xsPWZ1bmN0aW9uKCl7dmFyIHBvcz10aGlzLnRodW1iU2l6ZSp0aGlzLmNpbmRleDtpZigwLzA9PXRoaXMuY29udHJvbGxlci52YWx1ZSYmKHRoaXMuY29udHJvbGxlci52YWx1ZT0wKSxwb3MtdGhpcy5jb250cm9sbGVyLnZhbHVlPDApcmV0dXJuIHZvaWQgdGhpcy5jb250cm9sbGVyLmdvdG9TbmFwKHRoaXMuY2luZGV4LCEwKTtpZihwb3MrdGhpcy50aHVtYlNpemUtdGhpcy5jb250cm9sbGVyLnZhbHVlPnRoaXMuJGVsZW1lbnRbdGhpcy5fX2RpbWVuXSgpKXt2YXIgZmlyc3Rfc25hcD10aGlzLmNpbmRleC1NYXRoLmZsb29yKHRoaXMuJGVsZW1lbnRbdGhpcy5fX2RpbWVuXSgpL3RoaXMudGh1bWJTaXplKSsxO3JldHVybiB2b2lkIHRoaXMuY29udHJvbGxlci5nb3RvU25hcChmaXJzdF9zbmFwLCEwKX19LHAuY2hhbmdlU2xpZGU9ZnVuY3Rpb24odGh1bWIpe3RoaXMuY2xpY2tfZW5hYmxlJiZ0aGlzLmNpbmRleCE9PXRodW1iWzBdLmluZGV4JiZ0aGlzLnNsaWRlci5hcGkuZ290b1NsaWRlKHRodW1iWzBdLmluZGV4KX0scC51bnNlbGVjdD1mdW5jdGlvbihlbGUpe2VsZS5yZW1vdmVDbGFzcyhcIm1zLXRodW1iLWZyYW1lLXNlbGVjdGVkXCIpfSxwLnNlbGVjdD1mdW5jdGlvbihlbGUpe2VsZS5hZGRDbGFzcyhcIm1zLXRodW1iLWZyYW1lLXNlbGVjdGVkXCIpfSxwLl9fcmVzaXplPWZ1bmN0aW9uKCl7dmFyIHNpemU9dGhpcy4kZWxlbWVudFt0aGlzLl9fZGltZW5dKCk7aWYodGhpcy5scyE9PXNpemUpe3RoaXMubHM9c2l6ZSx0aGlzLnRodW1iU2l6ZT10aGlzLnRodW1ic1swXVt0aGlzLl9famRpbWVuXSghMCk7dmFyIGxlbj10aGlzLnNsaWRlci5hcGkuY291bnQoKSp0aGlzLnRodW1iU2l6ZTt0aGlzLiR0aHVtYnNjb250WzBdLnN0eWxlW3RoaXMuX19kaW1lbl09bGVuK1wicHhcIixzaXplPj1sZW4/KHRoaXMuZFRvdWNoPSEwLHRoaXMuY29udHJvbGxlci5zdG9wKCksdGhpcy4kdGh1bWJzY29udFswXS5zdHlsZVt0aGlzLl9fcG9zXT0uNSooc2l6ZS1sZW4pK1wicHhcIix0aGlzLiR0aHVtYnNjb250WzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cIlwiKToodGhpcy5kVG91Y2g9ITEsdGhpcy5jbGlja19lbmFibGU9ITAsdGhpcy4kdGh1bWJzY29udFswXS5zdHlsZVt0aGlzLl9fcG9zXT1cIlwiLHRoaXMuY29udHJvbGxlci5fbWF4X3ZhbHVlPWxlbi1zaXplLHRoaXMuY29udHJvbGxlci5vcHRpb25zLnNuYXBzaXplPXRoaXMudGh1bWJTaXplLHRoaXMudXBkYXRlVGh1bWJzY3JvbGwoKSl9fSxwLmRlc3Ryb3k9ZnVuY3Rpb24oKXtfc3VwZXIuZGVzdHJveSgpLHRoaXMub3B0aW9ucy53aGVlbCYmKCQuYnJvd3Nlci5tb3ppbGxhP3RoaXMuJGVsZW1lbnRbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTU1vdXNlU2Nyb2xsXCIsdGhpcy53aGVlbGxpc3RlbmVyKTp0aGlzLiRlbGVtZW50LnVuYmluZChcIm1vdXNld2hlZWxcIix0aGlzLndoZWVsbGlzdGVuZXIpLHRoaXMud2hlZWxsaXN0ZW5lcj1udWxsKSwkKHdpbmRvdykudW5iaW5kKFwicmVzaXplXCIsdGhpcy5yZXNpemVfbGlzdGVuZXIpLHRoaXMuJGVsZW1lbnQucmVtb3ZlKCksdGhpcy5zbGlkZXIuYXBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5SRVNFUlZFRF9TUEFDRV9DSEFOR0UsdGhpcy5hbGlnbix0aGlzKSx0aGlzLnNsaWRlci5hcGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LkNIQU5HRV9TVEFSVCx0aGlzLnVwZGF0ZSx0aGlzKX0sd2luZG93Lk1TVGh1bWJsaXN0PU1TVGh1bWJsaXN0LE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyQ29udHJvbChcInRodW1ibGlzdFwiLE1TVGh1bWJsaXN0KX0oalF1ZXJ5KSxmdW5jdGlvbigkKXtcInVzZSBzdHJpY3RcIjtcbnZhciBNU0J1bGx0ZXM9ZnVuY3Rpb24ob3B0aW9ucyl7QmFzZUNvbnRyb2wuY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnMuZGlyPVwiaFwiLHRoaXMub3B0aW9ucy5pbnNldD0hMCx0aGlzLm9wdGlvbnMubWFyZ2luPTEwLHRoaXMub3B0aW9ucy5zcGFjZT0xMCwkLmV4dGVuZCh0aGlzLm9wdGlvbnMsb3B0aW9ucyksdGhpcy5idWxsZXRzPVtdfTtNU0J1bGx0ZXMuZXh0ZW5kKEJhc2VDb250cm9sKTt2YXIgcD1NU0J1bGx0ZXMucHJvdG90eXBlLF9zdXBlcj1CYXNlQ29udHJvbC5wcm90b3R5cGU7cC5zZXR1cD1mdW5jdGlvbigpe2lmKF9zdXBlci5zZXR1cC5jYWxsKHRoaXMpLHRoaXMuJGVsZW1lbnQ9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5wcmVmaXgrXCJidWxsZXRzXCIpLmFkZENsYXNzKFwibXMtZGlyLVwiK3RoaXMub3B0aW9ucy5kaXIpLmFwcGVuZFRvKHRoaXMuY29udCksdGhpcy4kYnVsbGV0X2NvbnQ9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtYnVsbGV0cy1jb3VudFwiKS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KSwhdGhpcy5vcHRpb25zLmluc2V0VG8mJnRoaXMub3B0aW9ucy5hbGlnbil7dmFyIGFsaWduPXRoaXMub3B0aW9ucy5hbGlnbjt0aGlzLm9wdGlvbnMuaW5zZXQmJnRoaXMuJGVsZW1lbnQuY3NzKGFsaWduLHRoaXMub3B0aW9ucy5tYXJnaW4pfXRoaXMuY2hlY2tIaWRlVW5kZXIoKX0scC5jcmVhdGU9ZnVuY3Rpb24oKXtfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyk7dmFyIHRoYXQ9dGhpczt0aGlzLnNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LkNIQU5HRV9TVEFSVCx0aGlzLnVwZGF0ZSx0aGlzKSx0aGlzLmNpbmRleD10aGlzLnNsaWRlci5hcGkuaW5kZXgoKTtmb3IodmFyIGk9MDtpPHRoaXMuc2xpZGVyLmFwaS5jb3VudCgpOysraSl7dmFyIGJ1bGxldD0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1idWxsZXRcIik7YnVsbGV0WzBdLmluZGV4PWksYnVsbGV0Lm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe3RoYXQuY2hhbmdlU2xpZGUodGhpcy5pbmRleCl9KSx0aGlzLiRidWxsZXRfY29udC5hcHBlbmQoYnVsbGV0KSx0aGlzLmJ1bGxldHMucHVzaChidWxsZXQpLFwiaFwiPT09dGhpcy5vcHRpb25zLmRpcj9idWxsZXQuY3NzKFwibWFyZ2luXCIsdGhpcy5vcHRpb25zLnNwYWNlLzIpOmJ1bGxldC5jc3MoXCJtYXJnaW5cIix0aGlzLm9wdGlvbnMuc3BhY2UpfVwiaFwiPT09dGhpcy5vcHRpb25zLmRpcj90aGlzLiRlbGVtZW50LndpZHRoKGJ1bGxldC5vdXRlcldpZHRoKCEwKSp0aGlzLnNsaWRlci5hcGkuY291bnQoKSk6dGhpcy4kZWxlbWVudC5jc3MoXCJtYXJnaW4tdG9wXCIsLXRoaXMuJGVsZW1lbnQub3V0ZXJIZWlnaHQoITApLzIpLHRoaXMuc2VsZWN0KHRoaXMuYnVsbGV0c1t0aGlzLmNpbmRleF0pfSxwLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBuaW5kZXg9dGhpcy5zbGlkZXIuYXBpLmluZGV4KCk7dGhpcy5jaW5kZXghPT1uaW5kZXgmJihudWxsIT10aGlzLmNpbmRleCYmdGhpcy51bnNlbGVjdCh0aGlzLmJ1bGxldHNbdGhpcy5jaW5kZXhdKSx0aGlzLmNpbmRleD1uaW5kZXgsdGhpcy5zZWxlY3QodGhpcy5idWxsZXRzW3RoaXMuY2luZGV4XSkpfSxwLmNoYW5nZVNsaWRlPWZ1bmN0aW9uKGluZGV4KXt0aGlzLmNpbmRleCE9PWluZGV4JiZ0aGlzLnNsaWRlci5hcGkuZ290b1NsaWRlKGluZGV4KX0scC51bnNlbGVjdD1mdW5jdGlvbihlbGUpe2VsZS5yZW1vdmVDbGFzcyhcIm1zLWJ1bGxldC1zZWxlY3RlZFwiKX0scC5zZWxlY3Q9ZnVuY3Rpb24oZWxlKXtlbGUuYWRkQ2xhc3MoXCJtcy1idWxsZXQtc2VsZWN0ZWRcIil9LHAuZGVzdHJveT1mdW5jdGlvbigpe19zdXBlci5kZXN0cm95KCksdGhpcy5zbGlkZXIuYXBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5DSEFOR0VfU1RBUlQsdGhpcy51cGRhdGUsdGhpcyksdGhpcy4kZWxlbWVudC5yZW1vdmUoKX0sd2luZG93Lk1TQnVsbHRlcz1NU0J1bGx0ZXMsTVNTbGlkZUNvbnRyb2xsZXIucmVnaXN0ZXJDb250cm9sKFwiYnVsbGV0c1wiLE1TQnVsbHRlcyl9KGpRdWVyeSksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIE1TU2Nyb2xsYmFyPWZ1bmN0aW9uKG9wdGlvbnMpe0Jhc2VDb250cm9sLmNhbGwodGhpcyksdGhpcy5vcHRpb25zLmRpcj1cImhcIix0aGlzLm9wdGlvbnMuYXV0b2hpZGU9ITAsdGhpcy5vcHRpb25zLndpZHRoPTQsdGhpcy5vcHRpb25zLmNvbG9yPVwiIzNEM0QzRFwiLHRoaXMub3B0aW9ucy5tYXJnaW49MTAsJC5leHRlbmQodGhpcy5vcHRpb25zLG9wdGlvbnMpLHRoaXMuX19kaW1lbj1cImhcIj09PXRoaXMub3B0aW9ucy5kaXI/XCJ3aWR0aFwiOlwiaGVpZ2h0XCIsdGhpcy5fX2pkaW1lbj1cImhcIj09PXRoaXMub3B0aW9ucy5kaXI/XCJvdXRlcldpZHRoXCI6XCJvdXRlckhlaWdodFwiLHRoaXMuX19wb3M9XCJoXCI9PT10aGlzLm9wdGlvbnMuZGlyP1wibGVmdFwiOlwidG9wXCIsdGhpcy5fX3RyYW5zbGF0ZV9lbmQ9d2luZG93Ll9jc3MzZD9cIiB0cmFuc2xhdGVaKDBweClcIjpcIlwiLHRoaXMuX190cmFuc2xhdGVfc3RhcnQ9XCJoXCI9PT10aGlzLm9wdGlvbnMuZGlyP1wiIHRyYW5zbGF0ZVgoXCI6XCJ0cmFuc2xhdGVZKFwifTtNU1Njcm9sbGJhci5leHRlbmQoQmFzZUNvbnRyb2wpO3ZhciBwPU1TU2Nyb2xsYmFyLnByb3RvdHlwZSxfc3VwZXI9QmFzZUNvbnRyb2wucHJvdG90eXBlO3Auc2V0dXA9ZnVuY3Rpb24oKXtpZih0aGlzLiRlbGVtZW50PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMucHJlZml4K1wic2JhclwiKS5hZGRDbGFzcyhcIm1zLWRpci1cIit0aGlzLm9wdGlvbnMuZGlyKSxfc3VwZXIuc2V0dXAuY2FsbCh0aGlzKSx0aGlzLiRlbGVtZW50LmFwcGVuZFRvKHRoaXMuc2xpZGVyLiRjb250cm9sc0NvbnQ9PT10aGlzLmNvbnQ/dGhpcy5zbGlkZXIuJGVsZW1lbnQ6dGhpcy5jb250KSx0aGlzLiRiYXI9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5wcmVmaXgrXCJiYXJcIikuYXBwZW5kVG8odGhpcy4kZWxlbWVudCksdGhpcy5zbGlkZXIub3B0aW9ucy5sb29wJiYodGhpcy5kaXNhYmxlPSEwLHRoaXMuJGVsZW1lbnQucmVtb3ZlKCkpLFwidlwiPT09dGhpcy5vcHRpb25zLmRpcj90aGlzLiRiYXIud2lkdGgodGhpcy5vcHRpb25zLndpZHRoKTp0aGlzLiRiYXIuaGVpZ2h0KHRoaXMub3B0aW9ucy53aWR0aCksdGhpcy4kYmFyLmNzcyhcImJhY2tncm91bmQtY29sb3JcIix0aGlzLm9wdGlvbnMuY29sb3IpLCF0aGlzLm9wdGlvbnMuaW5zZXRUbyYmdGhpcy5vcHRpb25zLmFsaWduKXt0aGlzLiRlbGVtZW50LmNzcyhcInZcIj09PXRoaXMub3B0aW9ucy5kaXI/e3JpZ2h0OlwiYXV0b1wiLGxlZnQ6XCJhdXRvXCJ9Ont0b3A6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wifSk7dmFyIGFsaWduPXRoaXMub3B0aW9ucy5hbGlnbjt0aGlzLm9wdGlvbnMuaW5zZXQ/dGhpcy4kZWxlbWVudC5jc3MoYWxpZ24sdGhpcy5vcHRpb25zLm1hcmdpbik6XCJ0b3BcIj09PWFsaWduP3RoaXMuJGVsZW1lbnQucHJlcGVuZFRvKHRoaXMuc2xpZGVyLiRlbGVtZW50KS5jc3Moe1wibWFyZ2luLWJvdHRvbVwiOnRoaXMub3B0aW9ucy5tYXJnaW4scG9zaXRpb246XCJyZWxhdGl2ZVwifSk6XCJib3R0b21cIj09PWFsaWduP3RoaXMuJGVsZW1lbnQuY3NzKHtcIm1hcmdpbi10b3BcIjp0aGlzLm9wdGlvbnMubWFyZ2luLHBvc2l0aW9uOlwicmVsYXRpdmVcIn0pOih0aGlzLnNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LlJFU0VSVkVEX1NQQUNFX0NIQU5HRSx0aGlzLmFsaWduLHRoaXMpLHRoaXMuYWxpZ24oKSl9dGhpcy5jaGVja0hpZGVVbmRlcigpfSxwLmFsaWduPWZ1bmN0aW9uKCl7aWYoIXRoaXMuZGV0YWNoZWQpe3ZhciBhbGlnbj10aGlzLm9wdGlvbnMuYWxpZ24scG9zPXRoaXMuc2xpZGVyLnJlc2VydmVTcGFjZShhbGlnbiwyKnRoaXMub3B0aW9ucy5tYXJnaW4rdGhpcy5vcHRpb25zLndpZHRoKTt0aGlzLiRlbGVtZW50LmNzcyhhbGlnbiwtcG9zLXRoaXMub3B0aW9ucy5tYXJnaW4tdGhpcy5vcHRpb25zLndpZHRoKX19LHAuY3JlYXRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuZGlzYWJsZSl7dGhpcy5zY3JvbGxlcj10aGlzLnNsaWRlci5hcGkuc2Nyb2xsZXIsdGhpcy5zbGlkZXIuYXBpLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcihNU1ZpZXdFdmVudHMuU0NST0xMLHRoaXMuX3VwZGF0ZSx0aGlzKSx0aGlzLnNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LlJFU0laRSx0aGlzLl9yZXNpemUsdGhpcyksdGhpcy5fcmVzaXplKCksdGhpcy5vcHRpb25zLmF1dG9oaWRlJiZ0aGlzLiRiYXIuY3NzKFwib3BhY2l0eVwiLFwiMFwiKX19LHAuX3Jlc2l6ZT1mdW5jdGlvbigpe3RoaXMudmRpbWVuPXRoaXMuJGVsZW1lbnRbdGhpcy5fX2RpbWVuXSgpLHRoaXMuYmFyX2RpbWVuPXRoaXMuc2xpZGVyLmFwaS52aWV3W1wiX19cIit0aGlzLl9fZGltZW5dKnRoaXMudmRpbWVuL3RoaXMuc2Nyb2xsZXIuX21heF92YWx1ZSx0aGlzLiRiYXJbdGhpcy5fX2RpbWVuXSh0aGlzLmJhcl9kaW1lbil9LHAuX3VwZGF0ZT1mdW5jdGlvbigpe3ZhciB2YWx1ZT10aGlzLnNjcm9sbGVyLnZhbHVlKih0aGlzLnZkaW1lbi10aGlzLmJhcl9kaW1lbikvdGhpcy5zY3JvbGxlci5fbWF4X3ZhbHVlO2lmKHRoaXMubHZhbHVlIT09dmFsdWUpe2lmKHRoaXMubHZhbHVlPXZhbHVlLHRoaXMub3B0aW9ucy5hdXRvaGlkZSl7Y2xlYXJUaW1lb3V0KHRoaXMuaHRvKSx0aGlzLiRiYXIuY3NzKFwib3BhY2l0eVwiLFwiMVwiKTt2YXIgdGhhdD10aGlzO3RoaXMuaHRvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGF0LiRiYXIuY3NzKFwib3BhY2l0eVwiLFwiMFwiKX0sMTUwKX1yZXR1cm4gMD52YWx1ZT92b2lkKHRoaXMuJGJhclswXS5zdHlsZVt0aGlzLl9fZGltZW5dPXRoaXMuYmFyX2RpbWVuK3ZhbHVlK1wicHhcIik6KHZhbHVlPnRoaXMudmRpbWVuLXRoaXMuYmFyX2RpbWVuJiYodGhpcy4kYmFyWzBdLnN0eWxlW3RoaXMuX19kaW1lbl09dGhpcy52ZGltZW4tdmFsdWUrXCJweFwiKSx3aW5kb3cuX2Nzc2FuaW0/dm9pZCh0aGlzLiRiYXJbMF0uc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPXRoaXMuX190cmFuc2xhdGVfc3RhcnQrdmFsdWUrXCJweClcIit0aGlzLl9fdHJhbnNsYXRlX2VuZCk6dm9pZCh0aGlzLiRiYXJbMF0uc3R5bGVbdGhpcy5fX3Bvc109dmFsdWUrXCJweFwiKSl9fSxwLmRlc3Ryb3k9ZnVuY3Rpb24oKXtfc3VwZXIuZGVzdHJveSgpLHRoaXMuc2xpZGVyLmFwaS52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNWaWV3RXZlbnRzLlNDUk9MTCx0aGlzLl91cGRhdGUsdGhpcyksdGhpcy5zbGlkZXIuYXBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5SRVNJWkUsdGhpcy5fcmVzaXplLHRoaXMpLHRoaXMuc2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuUkVTRVJWRURfU1BBQ0VfQ0hBTkdFLHRoaXMuYWxpZ24sdGhpcyksdGhpcy4kZWxlbWVudC5yZW1vdmUoKX0sd2luZG93Lk1TU2Nyb2xsYmFyPU1TU2Nyb2xsYmFyLE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyQ29udHJvbChcInNjcm9sbGJhclwiLE1TU2Nyb2xsYmFyKX0oalF1ZXJ5KSxmdW5jdGlvbigkKXtcInVzZSBzdHJpY3RcIjt2YXIgTVNUaW1lcmJhcj1mdW5jdGlvbihvcHRpb25zKXtCYXNlQ29udHJvbC5jYWxsKHRoaXMpLHRoaXMub3B0aW9ucy5hdXRvaGlkZT0hMSx0aGlzLm9wdGlvbnMud2lkdGg9NCx0aGlzLm9wdGlvbnMuY29sb3I9XCIjRkZGRkZGXCIsdGhpcy5vcHRpb25zLmluc2V0PSEwLHRoaXMub3B0aW9ucy5tYXJnaW49MCwkLmV4dGVuZCh0aGlzLm9wdGlvbnMsb3B0aW9ucyl9O01TVGltZXJiYXIuZXh0ZW5kKEJhc2VDb250cm9sKTt2YXIgcD1NU1RpbWVyYmFyLnByb3RvdHlwZSxfc3VwZXI9QmFzZUNvbnRyb2wucHJvdG90eXBlO3Auc2V0dXA9ZnVuY3Rpb24oKXtpZihfc3VwZXIuc2V0dXAuY2FsbCh0aGlzKSx0aGlzLiRlbGVtZW50PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMucHJlZml4K1widGltZXJiYXJcIiksX3N1cGVyLnNldHVwLmNhbGwodGhpcyksdGhpcy4kZWxlbWVudC5hcHBlbmRUbyh0aGlzLnNsaWRlci4kY29udHJvbHNDb250PT09dGhpcy5jb250P3RoaXMuc2xpZGVyLiRlbGVtZW50OnRoaXMuY29udCksdGhpcy4kYmFyPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXRpbWUtYmFyXCIpLmFwcGVuZFRvKHRoaXMuJGVsZW1lbnQpLFwidlwiPT09dGhpcy5vcHRpb25zLmRpcj8odGhpcy4kYmFyLndpZHRoKHRoaXMub3B0aW9ucy53aWR0aCksdGhpcy4kZWxlbWVudC53aWR0aCh0aGlzLm9wdGlvbnMud2lkdGgpKToodGhpcy4kYmFyLmhlaWdodCh0aGlzLm9wdGlvbnMud2lkdGgpLHRoaXMuJGVsZW1lbnQuaGVpZ2h0KHRoaXMub3B0aW9ucy53aWR0aCkpLHRoaXMuJGJhci5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsdGhpcy5vcHRpb25zLmNvbG9yKSwhdGhpcy5vcHRpb25zLmluc2V0VG8mJnRoaXMub3B0aW9ucy5hbGlnbil7dGhpcy4kZWxlbWVudC5jc3Moe3RvcDpcImF1dG9cIixib3R0b206XCJhdXRvXCJ9KTt2YXIgYWxpZ249dGhpcy5vcHRpb25zLmFsaWduO3RoaXMub3B0aW9ucy5pbnNldD90aGlzLiRlbGVtZW50LmNzcyhhbGlnbix0aGlzLm9wdGlvbnMubWFyZ2luKTpcInRvcFwiPT09YWxpZ24/dGhpcy4kZWxlbWVudC5wcmVwZW5kVG8odGhpcy5zbGlkZXIuJGVsZW1lbnQpLmNzcyh7XCJtYXJnaW4tYm90dG9tXCI6dGhpcy5vcHRpb25zLm1hcmdpbixwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KTpcImJvdHRvbVwiPT09YWxpZ24/dGhpcy4kZWxlbWVudC5jc3Moe1wibWFyZ2luLXRvcFwiOnRoaXMub3B0aW9ucy5tYXJnaW4scG9zaXRpb246XCJyZWxhdGl2ZVwifSk6KHRoaXMuc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuUkVTRVJWRURfU1BBQ0VfQ0hBTkdFLHRoaXMuYWxpZ24sdGhpcyksdGhpcy5hbGlnbigpKX10aGlzLmNoZWNrSGlkZVVuZGVyKCl9LHAuYWxpZ249ZnVuY3Rpb24oKXtpZighdGhpcy5kZXRhY2hlZCl7dmFyIGFsaWduPXRoaXMub3B0aW9ucy5hbGlnbixwb3M9dGhpcy5zbGlkZXIucmVzZXJ2ZVNwYWNlKGFsaWduLDIqdGhpcy5vcHRpb25zLm1hcmdpbit0aGlzLm9wdGlvbnMud2lkdGgpO3RoaXMuJGVsZW1lbnQuY3NzKGFsaWduLC1wb3MtdGhpcy5vcHRpb25zLm1hcmdpbi10aGlzLm9wdGlvbnMud2lkdGgpfX0scC5jcmVhdGU9ZnVuY3Rpb24oKXtfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyksdGhpcy5zbGlkZXIuYXBpLmFkZEV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5XQUlUSU5HLHRoaXMuX3VwZGF0ZSx0aGlzKSx0aGlzLl91cGRhdGUoKX0scC5fdXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy4kYmFyWzBdLnN0eWxlLndpZHRoPXRoaXMuc2xpZGVyLmFwaS5fZGVsYXlQcm9ncmVzcytcIiVcIn0scC5kZXN0cm95PWZ1bmN0aW9uKCl7X3N1cGVyLmRlc3Ryb3koKSx0aGlzLnNsaWRlci5hcGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LlJFU0VSVkVEX1NQQUNFX0NIQU5HRSx0aGlzLmFsaWduLHRoaXMpLHRoaXMuc2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuV0FJVElORyx0aGlzLl91cGRhdGUsdGhpcyksdGhpcy4kZWxlbWVudC5yZW1vdmUoKX0sd2luZG93Lk1TVGltZXJiYXI9TVNUaW1lcmJhcixNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlckNvbnRyb2woXCJ0aW1lYmFyXCIsTVNUaW1lcmJhcil9KGpRdWVyeSksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIE1TQ2lyY2xlVGltZXI9ZnVuY3Rpb24ob3B0aW9ucyl7QmFzZUNvbnRyb2wuY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnMuY29sb3I9XCIjQTJBMkEyXCIsdGhpcy5vcHRpb25zLnN0cm9rZT0xMCx0aGlzLm9wdGlvbnMucmFkaXVzPTQsdGhpcy5vcHRpb25zLmF1dG9oaWRlPSExLCQuZXh0ZW5kKHRoaXMub3B0aW9ucyxvcHRpb25zKX07TVNDaXJjbGVUaW1lci5leHRlbmQoQmFzZUNvbnRyb2wpO3ZhciBwPU1TQ2lyY2xlVGltZXIucHJvdG90eXBlLF9zdXBlcj1CYXNlQ29udHJvbC5wcm90b3R5cGU7cC5zZXR1cD1mdW5jdGlvbigpe3JldHVybiBfc3VwZXIuc2V0dXAuY2FsbCh0aGlzKSx0aGlzLiRlbGVtZW50PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMucHJlZml4K1wiY3RpbWVyXCIpLmFwcGVuZFRvKHRoaXMuY29udCksdGhpcy4kY2FudmFzPSQoXCI8Y2FudmFzPjwvY2FudmFzPlwiKS5hZGRDbGFzcyhcIm1zLWN0aW1lci1jYW52YXNcIikuYXBwZW5kVG8odGhpcy4kZWxlbWVudCksdGhpcy4kYmFyPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLWN0aW1lci1idWxsZXRcIikuYXBwZW5kVG8odGhpcy4kZWxlbWVudCksdGhpcy4kY2FudmFzWzBdLmdldENvbnRleHQ/KHRoaXMuY3R4PXRoaXMuJGNhbnZhc1swXS5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5wcm9nPTAsdGhpcy5fX3c9MioodGhpcy5vcHRpb25zLnJhZGl1cyt0aGlzLm9wdGlvbnMuc3Ryb2tlLzIpLHRoaXMuJGNhbnZhc1swXS53aWR0aD10aGlzLl9fdyx0aGlzLiRjYW52YXNbMF0uaGVpZ2h0PXRoaXMuX193LHZvaWQgdGhpcy5jaGVja0hpZGVVbmRlcigpKToodGhpcy5kZXN0cm95KCksdm9pZCh0aGlzLmRpc2FibGU9ITApKX0scC5jcmVhdGU9ZnVuY3Rpb24oKXtpZighdGhpcy5kaXNhYmxlKXtfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyksdGhpcy5zbGlkZXIuYXBpLmFkZEV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5XQUlUSU5HLHRoaXMuX3VwZGF0ZSx0aGlzKTt2YXIgdGhhdD10aGlzO3RoaXMuJGVsZW1lbnQuY2xpY2soZnVuY3Rpb24oKXt0aGF0LnNsaWRlci5hcGkucGF1c2VkP3RoYXQuc2xpZGVyLmFwaS5yZXN1bWUoKTp0aGF0LnNsaWRlci5hcGkucGF1c2UoKX0pLHRoaXMuX3VwZGF0ZSgpfX0scC5fdXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHRoYXQ9dGhpczskKHRoaXMpLnN0b3AoITApLmFuaW1hdGUoe3Byb2c6LjAxKnRoaXMuc2xpZGVyLmFwaS5fZGVsYXlQcm9ncmVzc30se2R1cmF0aW9uOjIwMCxzdGVwOmZ1bmN0aW9uKCl7dGhhdC5fZHJhdygpfX0pfSxwLl9kcmF3PWZ1bmN0aW9uKCl7dGhpcy5jdHguY2xlYXJSZWN0KDAsMCx0aGlzLl9fdyx0aGlzLl9fdyksdGhpcy5jdHguYmVnaW5QYXRoKCksdGhpcy5jdHguYXJjKC41KnRoaXMuX193LC41KnRoaXMuX193LHRoaXMub3B0aW9ucy5yYWRpdXMsMS41Kk1hdGguUEksMS41Kk1hdGguUEkrMipNYXRoLlBJKnRoaXMucHJvZywhMSksdGhpcy5jdHguc3Ryb2tlU3R5bGU9dGhpcy5vcHRpb25zLmNvbG9yLHRoaXMuY3R4LmxpbmVXaWR0aD10aGlzLm9wdGlvbnMuc3Ryb2tlLHRoaXMuY3R4LnN0cm9rZSgpfSxwLmRlc3Ryb3k9ZnVuY3Rpb24oKXtfc3VwZXIuZGVzdHJveSgpLHRoaXMuZGlzYWJsZXx8KCQodGhpcykuc3RvcCghMCksdGhpcy5zbGlkZXIuYXBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5XQUlUSU5HLHRoaXMuX3VwZGF0ZSx0aGlzKSx0aGlzLiRlbGVtZW50LnJlbW92ZSgpKX0sd2luZG93Lk1TQ2lyY2xlVGltZXI9TVNDaXJjbGVUaW1lcixNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlckNvbnRyb2woXCJjaXJjbGV0aW1lclwiLE1TQ2lyY2xlVGltZXIpfShqUXVlcnkpLGZ1bmN0aW9uKCQpe1widXNlIHN0cmljdFwiO3dpbmRvdy5NU0xpZ2h0Ym94PWZ1bmN0aW9uKG9wdGlvbnMpe0Jhc2VDb250cm9sLmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLm9wdGlvbnMuYXV0b2hpZGU9ITEsJC5leHRlbmQodGhpcy5vcHRpb25zLG9wdGlvbnMpLHRoaXMuZGF0YV9saXN0PVtdfSxNU0xpZ2h0Ym94LmZhZGVEdXJhdGF0aW9uPTQwMCxNU0xpZ2h0Ym94LmV4dGVuZChCYXNlQ29udHJvbCk7dmFyIHA9TVNMaWdodGJveC5wcm90b3R5cGUsX3N1cGVyPUJhc2VDb250cm9sLnByb3RvdHlwZTtwLnNldHVwPWZ1bmN0aW9uKCl7X3N1cGVyLnNldHVwLmNhbGwodGhpcyksdGhpcy4kZWxlbWVudD0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnByZWZpeCtcImxpZ2h0Ym94LWJ0blwiKS5hcHBlbmRUbyh0aGlzLmNvbnQpLHRoaXMuY2hlY2tIaWRlVW5kZXIoKX0scC5zbGlkZUFjdGlvbj1mdW5jdGlvbihzbGlkZSl7JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5wcmVmaXgrXCJsaWdodGJveC1idG5cIikuYXBwZW5kVG8oc2xpZGUuJGVsZW1lbnQpLmFwcGVuZCgkKHNsaWRlLiRlbGVtZW50LmZpbmQoXCIubXMtbGlnaHRib3hcIikpKX0scC5jcmVhdGU9ZnVuY3Rpb24oKXtfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyl9LE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyQ29udHJvbChcImxpZ2h0Ym94XCIsTVNMaWdodGJveCl9KGpRdWVyeSksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7d2luZG93Lk1TU2xpZGVJbmZvPWZ1bmN0aW9uKG9wdGlvbnMpe0Jhc2VDb250cm9sLmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLm9wdGlvbnMuYXV0b2hpZGU9ITEsdGhpcy5vcHRpb25zLmFsaWduPW51bGwsdGhpcy5vcHRpb25zLmluc2V0PSExLHRoaXMub3B0aW9ucy5tYXJnaW49MTAsdGhpcy5vcHRpb25zLnNpemU9MTAwLHRoaXMub3B0aW9ucy5kaXI9XCJoXCIsJC5leHRlbmQodGhpcy5vcHRpb25zLG9wdGlvbnMpLHRoaXMuZGF0YV9saXN0PVtdfSxNU1NsaWRlSW5mby5mYWRlRHVyYXRhdGlvbj00MDAsTVNTbGlkZUluZm8uZXh0ZW5kKEJhc2VDb250cm9sKTt2YXIgcD1NU1NsaWRlSW5mby5wcm90b3R5cGUsX3N1cGVyPUJhc2VDb250cm9sLnByb3RvdHlwZTtwLnNldHVwPWZ1bmN0aW9uKCl7aWYodGhpcy4kZWxlbWVudD0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnByZWZpeCtcInNsaWRlLWluZm9cIikuYWRkQ2xhc3MoXCJtcy1kaXItXCIrdGhpcy5vcHRpb25zLmRpciksX3N1cGVyLnNldHVwLmNhbGwodGhpcyksdGhpcy4kZWxlbWVudC5hcHBlbmRUbyh0aGlzLnNsaWRlci4kY29udHJvbHNDb250PT09dGhpcy5jb250P3RoaXMuc2xpZGVyLiRlbGVtZW50OnRoaXMuY29udCksIXRoaXMub3B0aW9ucy5pbnNldFRvJiZ0aGlzLm9wdGlvbnMuYWxpZ24pe3ZhciBhbGlnbj10aGlzLm9wdGlvbnMuYWxpZ247dGhpcy5vcHRpb25zLmluc2V0P3RoaXMuJGVsZW1lbnQuY3NzKGFsaWduLHRoaXMub3B0aW9ucy5tYXJnaW4pOlwidG9wXCI9PT1hbGlnbj90aGlzLiRlbGVtZW50LnByZXBlbmRUbyh0aGlzLnNsaWRlci4kZWxlbWVudCkuY3NzKHtcIm1hcmdpbi1ib3R0b21cIjp0aGlzLm9wdGlvbnMubWFyZ2luLHBvc2l0aW9uOlwicmVsYXRpdmVcIn0pOlwiYm90dG9tXCI9PT1hbGlnbj90aGlzLiRlbGVtZW50LmNzcyh7XCJtYXJnaW4tdG9wXCI6dGhpcy5vcHRpb25zLm1hcmdpbixwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KToodGhpcy5zbGlkZXIuYXBpLmFkZEV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5SRVNFUlZFRF9TUEFDRV9DSEFOR0UsdGhpcy5hbGlnbix0aGlzKSx0aGlzLmFsaWduKCkpLFwidlwiPT09dGhpcy5vcHRpb25zLmRpcj90aGlzLiRlbGVtZW50LndpZHRoKHRoaXMub3B0aW9ucy5zaXplKTp0aGlzLiRlbGVtZW50LmNzcyhcIm1pbi1oZWlnaHRcIix0aGlzLm9wdGlvbnMuc2l6ZSl9dGhpcy5jaGVja0hpZGVVbmRlcigpfSxwLmFsaWduPWZ1bmN0aW9uKCl7aWYoIXRoaXMuZGV0YWNoZWQpe3ZhciBhbGlnbj10aGlzLm9wdGlvbnMuYWxpZ24scG9zPXRoaXMuc2xpZGVyLnJlc2VydmVTcGFjZShhbGlnbix0aGlzLm9wdGlvbnMuc2l6ZSsyKnRoaXMub3B0aW9ucy5tYXJnaW4pO3RoaXMuJGVsZW1lbnQuY3NzKGFsaWduLC1wb3MtdGhpcy5vcHRpb25zLnNpemUtdGhpcy5vcHRpb25zLm1hcmdpbil9fSxwLnNsaWRlQWN0aW9uPWZ1bmN0aW9uKHNsaWRlKXt2YXIgaW5mb19lbGU9JChzbGlkZS4kZWxlbWVudC5maW5kKFwiLm1zLWluZm9cIikpO2luZm9fZWxlLmRldGFjaCgpLHRoaXMuZGF0YV9saXN0W3NsaWRlLmluZGV4XT1pbmZvX2VsZX0scC5jcmVhdGU9ZnVuY3Rpb24oKXtfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyksdGhpcy5zbGlkZXIuYXBpLmFkZEV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5DSEFOR0VfU1RBUlQsdGhpcy51cGRhdGUsdGhpcyksdGhpcy5jaW5kZXg9dGhpcy5zbGlkZXIuYXBpLmluZGV4KCksdGhpcy5zd2l0Y2hFbGUodGhpcy5kYXRhX2xpc3RbdGhpcy5jaW5kZXhdKX0scC51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgbmluZGV4PXRoaXMuc2xpZGVyLmFwaS5pbmRleCgpO3RoaXMuc3dpdGNoRWxlKHRoaXMuZGF0YV9saXN0W25pbmRleF0pLHRoaXMuY2luZGV4PW5pbmRleH0scC5zd2l0Y2hFbGU9ZnVuY3Rpb24oZWxlKXtpZih0aGlzLmN1cnJlbnRfZWxlKXt0aGlzLmN1cnJlbnRfZWxlWzBdLnR3ZWVuJiZ0aGlzLmN1cnJlbnRfZWxlWzBdLnR3ZWVuLnN0b3AoITApLHRoaXMuY3VycmVudF9lbGVbMF0udHdlZW49Q1R3ZWVuLmFuaW1hdGUodGhpcy5jdXJyZW50X2VsZSxNU1NsaWRlSW5mby5mYWRlRHVyYXRhdGlvbix7b3BhY2l0eTowfSx7Y29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLmRldGFjaCgpLHRoaXNbMF0udHdlZW49bnVsbCxlbGUuY3NzKFwicG9zaXRpb25cIixcInJlbGF0aXZlXCIpfSx0YXJnZXQ6dGhpcy5jdXJyZW50X2VsZX0pLGVsZS5jc3MoXCJwb3NpdGlvblwiLFwiYWJzb2x1dGVcIil9dGhpcy5fX3Nob3coZWxlKX0scC5fX3Nob3c9ZnVuY3Rpb24oZWxlKXtlbGUuYXBwZW5kVG8odGhpcy4kZWxlbWVudCkuY3NzKFwib3BhY2l0eVwiLFwiMFwiKSx0aGlzLmN1cnJlbnRfZWxlJiZlbGUuaGVpZ2h0KE1hdGgubWF4KGVsZS5oZWlnaHQoKSx0aGlzLmN1cnJlbnRfZWxlLmhlaWdodCgpKSksY2xlYXJUaW1lb3V0KHRoaXMudG91KSx0aGlzLnRvdT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q1R3ZWVuLmZhZGVJbihlbGUsTVNTbGlkZUluZm8uZmFkZUR1cmF0YXRpb24pLGVsZS5jc3MoXCJoZWlnaHRcIixcIlwiKX0sTVNTbGlkZUluZm8uZmFkZUR1cmF0YXRpb24pLGVsZVswXS50d2VlbiYmZWxlWzBdLnR3ZWVuLnN0b3AoITApLHRoaXMuY3VycmVudF9lbGU9ZWxlfSxwLmRlc3Ryb3k9ZnVuY3Rpb24oKXtfc3VwZXIuZGVzdHJveSgpLGNsZWFyVGltZW91dCh0aGlzLnRvdSksdGhpcy5jdXJyZW50X2VsZSYmdGhpcy5jdXJyZW50X2VsZVswXS50d2VlbiYmdGhpcy5jdXJyZW50X2VsZVswXS50d2Vlbi5zdG9wKFwidHJ1ZVwiKSx0aGlzLiRlbGVtZW50LnJlbW92ZSgpLHRoaXMuc2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuUkVTRVJWRURfU1BBQ0VfQ0hBTkdFLHRoaXMuYWxpZ24sdGhpcyksdGhpcy5zbGlkZXIuYXBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5DSEFOR0VfU1RBUlQsdGhpcy51cGRhdGUsdGhpcyl9LE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyQ29udHJvbChcInNsaWRlaW5mb1wiLE1TU2xpZGVJbmZvKX0oalF1ZXJ5KSxmdW5jdGlvbigkKXt3aW5kb3cuTVNHYWxsZXJ5PWZ1bmN0aW9uKGlkLHNsaWRlcil7dGhpcy5pZD1pZCx0aGlzLnNsaWRlcj1zbGlkZXIsdGhpcy50ZWxlbWVudD0kKFwiI1wiK2lkKSx0aGlzLmJvdGNvbnQ9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtZ2FsbGVyeS1ib3Rjb250XCIpLmFwcGVuZFRvKHRoaXMudGVsZW1lbnQpLHRoaXMudGh1bWJjb250PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLWdhbC10aHVtYmNvbnQgaGlkZS10aHVtYnNcIikuYXBwZW5kVG8odGhpcy5ib3Rjb250KSx0aGlzLnBsYXlidG49JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtZ2FsLXBsYXlidG5cIikuYXBwZW5kVG8odGhpcy5ib3Rjb250KSx0aGlzLnRodW1idG9nZ2xlPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLWdhbC10aHVtYnRvZ2dsZVwiKS5hcHBlbmRUbyh0aGlzLmJvdGNvbnQpLHNsaWRlci5jb250cm9sKFwidGh1bWJsaXN0XCIse2luc2VydFRvOnRoaXMudGh1bWJjb250LGF1dG9oaWRlOiExLGRpcjpcImhcIn0pLHNsaWRlci5jb250cm9sKFwic2xpZGVudW1cIix7aW5zZXJ0VG86dGhpcy5ib3Rjb250LGF1dG9oaWRlOiExfSksc2xpZGVyLmNvbnRyb2woXCJzbGlkZWluZm9cIix7aW5zZXJ0VG86dGhpcy5ib3Rjb250LGF1dG9oaWRlOiExfSksc2xpZGVyLmNvbnRyb2woXCJ0aW1lYmFyXCIse2luc2VydFRvOnRoaXMuYm90Y29udCxhdXRvaGlkZTohMX0pLHNsaWRlci5jb250cm9sKFwiYnVsbGV0c1wiLHtpbnNlcnRUbzp0aGlzLmJvdGNvbnQsYXV0b2hpZGU6ITF9KX07dmFyIHA9TVNHYWxsZXJ5LnByb3RvdHlwZTtwLl9pbml0PWZ1bmN0aW9uKCl7dmFyIHRoYXQ9dGhpczt0aGlzLnNsaWRlci5hcGkucGF1c2VkfHx0aGlzLnBsYXlidG4uYWRkQ2xhc3MoXCJidG4tcGF1c2VcIiksdGhpcy5wbGF5YnRuLmNsaWNrKGZ1bmN0aW9uKCl7dGhhdC5zbGlkZXIuYXBpLnBhdXNlZD8odGhhdC5zbGlkZXIuYXBpLnJlc3VtZSgpLHRoYXQucGxheWJ0bi5hZGRDbGFzcyhcImJ0bi1wYXVzZVwiKSk6KHRoYXQuc2xpZGVyLmFwaS5wYXVzZSgpLHRoYXQucGxheWJ0bi5yZW1vdmVDbGFzcyhcImJ0bi1wYXVzZVwiKSl9KSx0aGlzLnRodW1idG9nZ2xlLmNsaWNrKGZ1bmN0aW9uKCl7dGhhdC52dGh1bWJzPyh0aGF0LnRodW1idG9nZ2xlLnJlbW92ZUNsYXNzKFwiYnRuLWhpZGVcIiksdGhhdC52dGh1bWJzPSExLHRoYXQudGh1bWJjb250LmFkZENsYXNzKFwiaGlkZS10aHVtYnNcIikpOih0aGF0LnRodW1idG9nZ2xlLmFkZENsYXNzKFwiYnRuLWhpZGVcIiksdGhhdC50aHVtYmNvbnQucmVtb3ZlQ2xhc3MoXCJoaWRlLXRodW1ic1wiKSx0aGF0LnZ0aHVtYnM9ITApfSl9LHAuc2V0dXA9ZnVuY3Rpb24oKXt2YXIgdGhhdD10aGlzOyQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dGhhdC5faW5pdCgpfSl9fShqUXVlcnkpLGZ1bmN0aW9uKCQpe3ZhciBnZXRQaG90b3NldFVSTD1mdW5jdGlvbihrZXksaWQsY291bnQpe3JldHVyblwiaHR0cHM6Ly9hcGkuZmxpY2tyLmNvbS9zZXJ2aWNlcy9yZXN0Lz9tZXRob2Q9ZmxpY2tyLnBob3Rvc2V0cy5nZXRQaG90b3MmYXBpX2tleT1cIitrZXkrXCImcGhvdG9zZXRfaWQ9XCIraWQrXCImcGVyX3BhZ2U9XCIrY291bnQrXCImZXh0cmFzPXVybF9vLGRlc2NyaXB0aW9uLGRhdGVfdGFrZW4sb3duZXJfbmFtZSx2aWV3cyZmb3JtYXQ9anNvbiZqc29uY2FsbGJhY2s9P1wifSxnZXRVc2VyUHVibGljVVJMPWZ1bmN0aW9uKGtleSxpZCxjb3VudCl7cmV0dXJuXCJodHRwczovL2FwaS5mbGlja3IuY29tL3NlcnZpY2VzL3Jlc3QvPyZtZXRob2Q9ZmxpY2tyLnBlb3BsZS5nZXRQdWJsaWNQaG90b3MmYXBpX2tleT1cIitrZXkrXCImdXNlcl9pZD1cIitpZCtcIiZwZXJfcGFnZT1cIitjb3VudCtcIiZleHRyYXM9dXJsX28sZGVzY3JpcHRpb24sZGF0ZV90YWtlbixvd25lcl9uYW1lLHZpZXdzJmZvcm1hdD1qc29uJmpzb25jYWxsYmFjaz0/XCJ9LGdldEltYWdlU291cmNlPWZ1bmN0aW9uKGZpZCxzZXJ2ZXIsaWQsc2VjcmV0LHNpemUsZGF0YSl7cmV0dXJuXCJfb1wiPT09c2l6ZSYmZGF0YT9kYXRhLnVybF9vOlwiaHR0cHM6Ly9mYXJtXCIrZmlkK1wiLnN0YXRpY2ZsaWNrci5jb20vXCIrc2VydmVyK1wiL1wiK2lkK1wiX1wiK3NlY3JldCtzaXplK1wiLmpwZ1wifTt3aW5kb3cuTVNGbGlja3JWMj1mdW5jdGlvbihzbGlkZXIsb3B0aW9ucyl7dmFyIF9vcHRpb25zPXtjb3VudDoxMCx0eXBlOlwicGhvdG9zZXRcIix0aHVtYlNpemU6XCJxXCIsaW1nU2l6ZTpcImNcIn07aWYodGhpcy5zbGlkZXI9c2xpZGVyLHRoaXMuc2xpZGVyLmhvbGRPbigpLCFvcHRpb25zLmtleSlyZXR1cm4gdm9pZCB0aGlzLmVyck1zZyhcIkZsaWNrciBBUEkgS2V5IHJlcXVpcmVkLiBQbGVhc2UgYWRkIGl0IGluIHNldHRpbmdzLlwiKTskLmV4dGVuZChfb3B0aW9ucyxvcHRpb25zKSx0aGlzLm9wdGlvbnM9X29wdGlvbnM7dmFyIHRoYXQ9dGhpcztcInBob3Rvc2V0XCI9PT10aGlzLm9wdGlvbnMudHlwZT8kLmdldEpTT04oZ2V0UGhvdG9zZXRVUkwodGhpcy5vcHRpb25zLmtleSx0aGlzLm9wdGlvbnMuaWQsdGhpcy5vcHRpb25zLmNvdW50KSxmdW5jdGlvbihkYXRhKXt0aGF0Ll9waG90b3NEYXRhKGRhdGEpfSk6JC5nZXRKU09OKGdldFVzZXJQdWJsaWNVUkwodGhpcy5vcHRpb25zLmtleSx0aGlzLm9wdGlvbnMuaWQsdGhpcy5vcHRpb25zLmNvdW50KSxmdW5jdGlvbihkYXRhKXt0aGF0Lm9wdGlvbnMudHlwZT1cInBob3Rvc1wiLHRoYXQuX3Bob3Rvc0RhdGEoZGF0YSl9KSxcIlwiIT09dGhpcy5vcHRpb25zLmltZ1NpemUmJlwiLVwiIT09dGhpcy5vcHRpb25zLmltZ1NpemUmJih0aGlzLm9wdGlvbnMuaW1nU2l6ZT1cIl9cIit0aGlzLm9wdGlvbnMuaW1nU2l6ZSksdGhpcy5vcHRpb25zLnRodW1iU2l6ZT1cIl9cIit0aGlzLm9wdGlvbnMudGh1bWJTaXplLHRoaXMuc2xpZGVUZW1wbGF0ZT10aGlzLnNsaWRlci4kZWxlbWVudC5maW5kKFwiLm1zLXNsaWRlXCIpWzBdLm91dGVySFRNTCx0aGlzLnNsaWRlci4kZWxlbWVudC5maW5kKFwiLm1zLXNsaWRlXCIpLnJlbW92ZSgpfTt2YXIgcD1NU0ZsaWNrclYyLnByb3RvdHlwZTtwLl9waG90b3NEYXRhPWZ1bmN0aW9uKGRhdGEpe2lmKFwiZmFpbFwiPT09ZGF0YS5zdGF0KXJldHVybiB2b2lkIHRoaXMuZXJyTXNnKFwiRmxpY2tyIEFQSSBFUlJPUiNcIitkYXRhLmNvZGUrXCI6IFwiK2RhdGEubWVzc2FnZSk7e3ZhciB0aGF0PXRoaXM7dGhpcy5vcHRpb25zLmF1dGhvcnx8dGhpcy5vcHRpb25zLmRlc2N9JC5lYWNoKGRhdGFbdGhpcy5vcHRpb25zLnR5cGVdLnBob3RvLGZ1bmN0aW9uKGksaXRlbSl7dmFyIHNsaWRlX2NvbnQ9dGhhdC5zbGlkZVRlbXBsYXRlLnJlcGxhY2UoL3t7W1xcdy1dK319L2csZnVuY3Rpb24obWF0Y2gpe3JldHVybiBtYXRjaD1tYXRjaC5yZXBsYWNlKC97e3x9fS9nLFwiXCIpLHNob3J0Q29kZXNbbWF0Y2hdP3Nob3J0Q29kZXNbbWF0Y2hdKGl0ZW0sdGhhdCk6XCJ7e1wiK21hdGNoK1wifX1cIn0pOyQoc2xpZGVfY29udCkuYXBwZW5kVG8odGhhdC5zbGlkZXIuJGVsZW1lbnQpfSksdGhhdC5faW5pdFNsaWRlcigpfSxwLmVyck1zZz1mdW5jdGlvbihtc2cpe3RoaXMuc2xpZGVyLiRlbGVtZW50LmNzcyhcImRpc3BsYXlcIixcImJsb2NrXCIpLHRoaXMuZXJyRWxlfHwodGhpcy5lcnJFbGU9JCgnPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OkFyaWFsOyBjb2xvcjpyZWQ7IGZvbnQtc2l6ZToxMnB4OyBwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjEwcHg7IGxlZnQ6MTBweFwiPjwvZGl2PicpLmFwcGVuZFRvKHRoaXMuc2xpZGVyLiRsb2FkaW5nKSksdGhpcy5lcnJFbGUuaHRtbChtc2cpfSxwLl9pbml0U2xpZGVyPWZ1bmN0aW9uKCl7dGhpcy5zbGlkZXIucmVsZWFzZSgpfTt2YXIgc2hvcnRDb2Rlcz17aW1hZ2U6ZnVuY3Rpb24oZGF0YSx0aGF0KXtyZXR1cm4gZ2V0SW1hZ2VTb3VyY2UoZGF0YS5mYXJtLGRhdGEuc2VydmVyLGRhdGEuaWQsZGF0YS5zZWNyZXQsdGhhdC5vcHRpb25zLmltZ1NpemUsZGF0YSl9LHRodW1iOmZ1bmN0aW9uKGRhdGEsdGhhdCl7cmV0dXJuIGdldEltYWdlU291cmNlKGRhdGEuZmFybSxkYXRhLnNlcnZlcixkYXRhLmlkLGRhdGEuc2VjcmV0LHRoYXQub3B0aW9ucy50aHVtYlNpemUpfSx0aXRsZTpmdW5jdGlvbihkYXRhKXtyZXR1cm4gZGF0YS50aXRsZX0sXCJvd25lci1uYW1lXCI6ZnVuY3Rpb24oZGF0YSl7cmV0dXJuIGRhdGEub3duZXJuYW1lfSxcImRhdGUtdGFrZW5cIjpmdW5jdGlvbihkYXRhKXtyZXR1cm4gZGF0YS5kYXRldGFrZW59LHZpZXdzOmZ1bmN0aW9uKGRhdGEpe3JldHVybiBkYXRhLnZpZXdzfSxkZXNjcmlwdGlvbjpmdW5jdGlvbihkYXRhKXtyZXR1cm4gZGF0YS5kZXNjcmlwdGlvbi5fY29udGVudH19fShqUXVlcnkpLGZ1bmN0aW9uKCQpe3dpbmRvdy5NU0ZhY2Vib29rR2FsbGVyeT1mdW5jdGlvbihzbGlkZXIsb3B0aW9ucyl7dmFyIF9vcHRpb25zPXtjb3VudDoxMCx0eXBlOlwicGhvdG9zdHJlYW1cIix0aHVtYlNpemU6XCIzMjBcIixpbWdTaXplOlwib3JnaW5hbFwiLGh0dHBzOiExfTt0aGlzLnNsaWRlcj1zbGlkZXIsdGhpcy5zbGlkZXIuaG9sZE9uKCksJC5leHRlbmQoX29wdGlvbnMsb3B0aW9ucyksdGhpcy5vcHRpb25zPV9vcHRpb25zLHRoaXMuZ3JhcGg9dGhpcy5vcHRpb25zLmh0dHBzP1wiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb21cIjpcImh0dHA6Ly9ncmFwaC5mYWNlYm9vay5jb21cIjt2YXIgdGhhdD10aGlzO1wicGhvdG9zdHJlYW1cIj09PXRoaXMub3B0aW9ucy50eXBlPyQuZ2V0SlNPTih0aGlzLmdyYXBoK1wiL1wiK3RoaXMub3B0aW9ucy51c2VybmFtZStcIi9waG90b3MvdXBsb2FkZWQvP2ZpZWxkcz1zb3VyY2UsbmFtZSxsaW5rLGltYWdlcyxmcm9tJmxpbWl0PVwiK3RoaXMub3B0aW9ucy5jb3VudCxmdW5jdGlvbihkYXRhKXt0aGF0Ll9waG90b3NEYXRhKGRhdGEpfSk6JC5nZXRKU09OKHRoaXMuZ3JhcGgrXCIvXCIrdGhpcy5vcHRpb25zLmFsYnVtSWQrXCIvcGhvdG9zP2ZpZWxkcz1zb3VyY2UsbmFtZSxsaW5rLGltYWdlcyxmcm9tJmxpbWl0PVwiK3RoaXMub3B0aW9ucy5jb3VudCxmdW5jdGlvbihkYXRhKXt0aGF0Ll9waG90b3NEYXRhKGRhdGEpfSksdGhpcy5zbGlkZVRlbXBsYXRlPXRoaXMuc2xpZGVyLiRlbGVtZW50LmZpbmQoXCIubXMtc2xpZGVcIilbMF0ub3V0ZXJIVE1MLHRoaXMuc2xpZGVyLiRlbGVtZW50LmZpbmQoXCIubXMtc2xpZGVcIikucmVtb3ZlKCl9O3ZhciBwPU1TRmFjZWJvb2tHYWxsZXJ5LnByb3RvdHlwZTtwLl9waG90b3NEYXRhPWZ1bmN0aW9uKGNvbnRlbnQpe2lmKGNvbnRlbnQuZXJyb3IpcmV0dXJuIHZvaWQgdGhpcy5lcnJNc2coXCJGYWNlYm9vayBBUEkgRVJST1IjXCIrY29udGVudC5lcnJvci5jb2RlK1wiKFwiK2NvbnRlbnQuZXJyb3IudHlwZStcIik6IFwiK2NvbnRlbnQuZXJyb3IubWVzc2FnZSk7Zm9yKHZhciB0aGF0PXRoaXMsaT0odGhpcy5vcHRpb25zLmF1dGhvcnx8dGhpcy5vcHRpb25zLmRlc2MsMCksbD1jb250ZW50LmRhdGEubGVuZ3RoO2khPT1sO2krKyl7dmFyIHNsaWRlX2NvbnQ9dGhhdC5zbGlkZVRlbXBsYXRlLnJlcGxhY2UoL3t7W1xcdy1dK319L2csZnVuY3Rpb24obWF0Y2gpe3JldHVybiBtYXRjaD1tYXRjaC5yZXBsYWNlKC97e3x9fS9nLFwiXCIpLHNob3J0Q29kZXNbbWF0Y2hdP3Nob3J0Q29kZXNbbWF0Y2hdKGNvbnRlbnQuZGF0YVtpXSx0aGF0KTpcInt7XCIrbWF0Y2grXCJ9fVwifSk7JChzbGlkZV9jb250KS5hcHBlbmRUbyh0aGF0LnNsaWRlci4kZWxlbWVudCl9dGhhdC5faW5pdFNsaWRlcigpfSxwLmVyck1zZz1mdW5jdGlvbihtc2cpe3RoaXMuc2xpZGVyLiRlbGVtZW50LmNzcyhcImRpc3BsYXlcIixcImJsb2NrXCIpLHRoaXMuZXJyRWxlfHwodGhpcy5lcnJFbGU9JCgnPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OkFyaWFsOyBjb2xvcjpyZWQ7IGZvbnQtc2l6ZToxMnB4OyBwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjEwcHg7IGxlZnQ6MTBweFwiPjwvZGl2PicpLmFwcGVuZFRvKHRoaXMuc2xpZGVyLiRsb2FkaW5nKSksdGhpcy5lcnJFbGUuaHRtbChtc2cpfSxwLl9pbml0U2xpZGVyPWZ1bmN0aW9uKCl7dGhpcy5zbGlkZXIucmVsZWFzZSgpfTt2YXIgZ2V0SW1hZ2VTb3VyY2U9ZnVuY3Rpb24oaW1hZ2VzLHNpemUpe2lmKFwib3JnaW5hbFwiPT09c2l6ZSlyZXR1cm4gaW1hZ2VzWzBdLnNvdXJjZTtmb3IodmFyIGk9MCxsPWltYWdlcy5sZW5ndGg7aSE9PWw7aSsrKWlmKC0xIT09aW1hZ2VzW2ldLnNvdXJjZS5pbmRleE9mKHNpemUrXCJ4XCIrc2l6ZSkpcmV0dXJuIGltYWdlc1tpXS5zb3VyY2U7cmV0dXJuIGltYWdlc1tsLTNdLnNvdXJjZX0sc2hvcnRDb2Rlcz17aW1hZ2U6ZnVuY3Rpb24oZGF0YSx0aGF0KXtyZXR1cm4gZ2V0SW1hZ2VTb3VyY2UoZGF0YS5pbWFnZXMsdGhhdC5vcHRpb25zLmltZ1NpemUpfSx0aHVtYjpmdW5jdGlvbihkYXRhLHRoYXQpe3JldHVybiBnZXRJbWFnZVNvdXJjZShkYXRhLmltYWdlcyx0aGF0Lm9wdGlvbnMudGh1bWJTaXplKX0sbmFtZTpmdW5jdGlvbihkYXRhKXtyZXR1cm4gZGF0YS5uYW1lfSxcIm93bmVyLW5hbWVcIjpmdW5jdGlvbihkYXRhKXtyZXR1cm4gZGF0YS5mcm9tLm5hbWV9LGxpbms6ZnVuY3Rpb24oZGF0YSl7cmV0dXJuIGRhdGEubGlua319fShqUXVlcnkpLGZ1bmN0aW9uKCQpe1widXNlIHN0cmljdFwiO3dpbmRvdy5NU1Njcm9sbFBhcmFsbGF4PWZ1bmN0aW9uKHNsaWRlcixwYXJhbGxheCxiZ3BhcmFsbGF4LGZhZGUpe3RoaXMuZmFkZT1mYWRlLHRoaXMuc2xpZGVyPXNsaWRlcix0aGlzLnBhcmFsbGF4PXBhcmFsbGF4LzEwMCx0aGlzLmJncGFyYWxsYXg9YmdwYXJhbGxheC8xMDAsc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuSU5JVCx0aGlzLmluaXQsdGhpcyksc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuREVTVFJPWSx0aGlzLmRlc3RvcnksdGhpcyksc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuQ0hBTkdFX0VORCx0aGlzLnJlc2V0TGF5ZXJzLHRoaXMpLHNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LkNIQU5HRV9TVEFSVCx0aGlzLnVwZGF0ZUN1cnJlbnRTbGlkZSx0aGlzKX0sd2luZG93Lk1TU2Nyb2xsUGFyYWxsYXguc2V0dXA9ZnVuY3Rpb24oc2xpZGVyLHBhcmFsbGF4LGJncGFyYWxsYXgsZmFkZSl7cmV0dXJuIHdpbmRvdy5fbW9iaWxlP3ZvaWQgMDoobnVsbD09cGFyYWxsYXgmJihwYXJhbGxheD01MCksbnVsbD09YmdwYXJhbGxheCYmKGJncGFyYWxsYXg9NDApLG5ldyBNU1Njcm9sbFBhcmFsbGF4KHNsaWRlcixwYXJhbGxheCxiZ3BhcmFsbGF4LGZhZGUpKX07dmFyIHA9d2luZG93Lk1TU2Nyb2xsUGFyYWxsYXgucHJvdG90eXBlO3AuaW5pdD1mdW5jdGlvbigpe3RoaXMuc2xpZGVyLiRlbGVtZW50LmFkZENsYXNzKFwibXMtc2Nyb2xsLXBhcmFsbGF4XCIpLHRoaXMuc2xpZGVyT2Zmc2V0PXRoaXMuc2xpZGVyLiRlbGVtZW50Lm9mZnNldCgpLnRvcCx0aGlzLnVwZGF0ZUN1cnJlbnRTbGlkZSgpO2Zvcih2YXIgc2xpZGUsc2xpZGVzPXRoaXMuc2xpZGVyLmFwaS52aWV3LnNsaWRlTGlzdCxpPTAsbD1zbGlkZXMubGVuZ3RoO2khPT1sO2krKylzbGlkZT1zbGlkZXNbaV0sc2xpZGUuaGFzTGF5ZXJzJiYoc2xpZGUubGF5ZXJDb250cm9sbGVyLiRsYXllcnMud3JhcCgnPGRpdiBjbGFzcz1cIm1zLXNjcm9sbC1wYXJhbGxheC1jb250XCI+PC9kaXY+Jyksc2xpZGUuJHNjcm9sbFBhcmFsbGF4Q29udD1zbGlkZS5sYXllckNvbnRyb2xsZXIuJGxheWVycy5wYXJlbnQoKSk7JCh3aW5kb3cpLm9uKFwic2Nyb2xsXCIse3RoYXQ6dGhpc30sdGhpcy5tb3ZlUGFyYWxsYXgpLnRyaWdnZXIoXCJzY3JvbGxcIil9LHAucmVzZXRMYXllcnM9ZnVuY3Rpb24oKXtpZih0aGlzLmxhc3RTbGlkZSl7dmFyIGxheWVycz10aGlzLmxhc3RTbGlkZS4kc2Nyb2xsUGFyYWxsYXhDb250O3dpbmRvdy5fY3NzMmQ/KGxheWVycyYmKGxheWVyc1swXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJcIiksdGhpcy5sYXN0U2xpZGUuaGFzQkcmJih0aGlzLmxhc3RTbGlkZS4kaW1nY29udFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJcIikpOihsYXllcnMmJihsYXllcnNbMF0uc3R5bGUudG9wPVwiXCIpLHRoaXMubGFzdFNsaWRlLmhhc0JHJiYodGhpcy5sYXN0U2xpZGUuJGltZ2NvbnRbMF0uc3R5bGUudG9wPVwiMHB4XCIpKX19LHAudXBkYXRlQ3VycmVudFNsaWRlPWZ1bmN0aW9uKCl7dGhpcy5sYXN0U2xpZGU9dGhpcy5jdXJyZW50U2xpZGUsdGhpcy5jdXJyZW50U2xpZGU9dGhpcy5zbGlkZXIuYXBpLmN1cnJlbnRTbGlkZSx0aGlzLm1vdmVQYXJhbGxheCh7ZGF0YTp7dGhhdDp0aGlzfX0pfSxwLm1vdmVQYXJhbGxheD1mdW5jdGlvbihlKXt2YXIgdGhhdD1lLmRhdGEudGhhdCxzbGlkZXI9dGhhdC5zbGlkZXIsb2Zmc2V0PXRoYXQuc2xpZGVyT2Zmc2V0LHNjcm9sbFRvcD0kKHdpbmRvdykuc2Nyb2xsVG9wKCksbGF5ZXJzPXRoYXQuY3VycmVudFNsaWRlLiRzY3JvbGxQYXJhbGxheENvbnQsb3V0PW9mZnNldC1zY3JvbGxUb3A7MD49b3V0PyhsYXllcnMmJih3aW5kb3cuX2NzczNkP2xheWVyc1swXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVZKFwiKy1vdXQqdGhhdC5wYXJhbGxheCtcInB4KSB0cmFuc2xhdGVaKDAuNHB4KVwiOndpbmRvdy5fY3NzMmQ/bGF5ZXJzWzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVkoXCIrLW91dCp0aGF0LnBhcmFsbGF4K1wicHgpXCI6bGF5ZXJzWzBdLnN0eWxlLnRvcD0tb3V0KnRoYXQucGFyYWxsYXgrXCJweFwiKSx0aGF0LnVwZGF0ZVNsaWRlc0JHKC1vdXQqdGhhdC5iZ3BhcmFsbGF4K1wicHhcIiwhMCksbGF5ZXJzJiZ0aGF0LmZhZGUmJmxheWVycy5jc3MoXCJvcGFjaXR5XCIsMS1NYXRoLm1pbigxLC1vdXQvc2xpZGVyLmFwaS5oZWlnaHQpKSk6KGxheWVycyYmKHdpbmRvdy5fY3NzMmQ/bGF5ZXJzWzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cIlwiOmxheWVyc1swXS5zdHlsZS50b3A9XCJcIiksdGhhdC51cGRhdGVTbGlkZXNCRyhcIjBweFwiLCExKSxsYXllcnMmJnRoYXQuZmFkZSYmbGF5ZXJzLmNzcyhcIm9wYWNpdHlcIiwxKSl9LHAudXBkYXRlU2xpZGVzQkc9ZnVuY3Rpb24ocG9zLGZpeGVkKXtmb3IodmFyIHNsaWRlcz10aGlzLnNsaWRlci5hcGkudmlldy5zbGlkZUxpc3QscG9zaXRpb249IWZpeGVkfHwkLmJyb3dzZXIubXNpZXx8JC5icm93c2VyLm9wZXJhP1wiXCI6XCJmaXhlZFwiLGk9MCxsPXNsaWRlcy5sZW5ndGg7aSE9PWw7aSsrKXNsaWRlc1tpXS5oYXNCRyYmKHNsaWRlc1tpXS4kaW1nY29udFswXS5zdHlsZS5wb3NpdGlvbj1wb3NpdGlvbixzbGlkZXNbaV0uJGltZ2NvbnRbMF0uc3R5bGUudG9wPXBvcyksc2xpZGVzW2ldLiRiZ3ZpZGVvY29udCYmKHNsaWRlc1tpXS4kYmd2aWRlb2NvbnRbMF0uc3R5bGUucG9zaXRpb249cG9zaXRpb24sc2xpZGVzW2ldLiRiZ3ZpZGVvY29udFswXS5zdHlsZS50b3A9cG9zKX0scC5kZXN0b3J5PWZ1bmN0aW9uKCl7c2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuSU5JVCx0aGlzLmluaXQsdGhpcyksc2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuREVTVFJPWSx0aGlzLmRlc3RvcnksdGhpcyksc2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuQ0hBTkdFX0VORCx0aGlzLnJlc2V0TGF5ZXJzLHRoaXMpLHNsaWRlci5hcGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LkNIQU5HRV9TVEFSVCx0aGlzLnVwZGF0ZUN1cnJlbnRTbGlkZSx0aGlzKSwkKHdpbmRvdykub2ZmKFwic2Nyb2xsXCIsdGhpcy5tb3ZlUGFyYWxsYXgpfX0oalF1ZXJ5KSxmdW5jdGlvbigkLGRvY3VtZW50LHdpbmRvdyl7dmFyIFBJZD0wO2lmKHdpbmRvdy5NYXN0ZXJTbGlkZXIpe3ZhciBLZXlib2FyZE5hdj1mdW5jdGlvbihzbGlkZXIpe3RoaXMuc2xpZGVyPXNsaWRlcix0aGlzLlBJZD1QSWQrKyx0aGlzLnNsaWRlci5vcHRpb25zLmtleWJvYXJkJiZzbGlkZXIuYXBpLmFkZEV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5JTklULHRoaXMuaW5pdCx0aGlzKX07S2V5Ym9hcmROYXYubmFtZT1cIk1TS2V5Ym9hcmROYXZcIjt2YXIgcD1LZXlib2FyZE5hdi5wcm90b3R5cGU7cC5pbml0PWZ1bmN0aW9uKCl7dmFyIGFwaT10aGlzLnNsaWRlci5hcGk7JChkb2N1bWVudCkub24oXCJrZXlkb3duLmtibmF2XCIrdGhpcy5QSWQsZnVuY3Rpb24oZXZlbnQpe3ZhciB3aGljaD1ldmVudC53aGljaDszNz09PXdoaWNofHw0MD09PXdoaWNoP2FwaS5wcmV2aW91cyghMCk6KDM4PT09d2hpY2h8fDM5PT09d2hpY2gpJiZhcGkubmV4dCghMCl9KX0scC5kZXN0cm95PWZ1bmN0aW9uKCl7JChkb2N1bWVudCkub2ZmKFwia2V5ZG93bi5rYm5hdlwiK3RoaXMuUElkKSx0aGlzLnNsaWRlci5hcGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LklOSVQsdGhpcy5pbml0LHRoaXMpfSxNYXN0ZXJTbGlkZXIucmVnaXN0ZXJQbHVnaW4oS2V5Ym9hcmROYXYpfX0oalF1ZXJ5LGRvY3VtZW50LHdpbmRvdyksZnVuY3Rpb24oJCxkb2N1bWVudCx3aW5kb3cpe3ZhciBQSWQ9MCwkd2luZG93PSQod2luZG93KSwkZG9jPSQoZG9jdW1lbnQpO2lmKHdpbmRvdy5NYXN0ZXJTbGlkZXIpe3ZhciBTdGFydE9uQXBwZWFyPWZ1bmN0aW9uKHNsaWRlcil7dGhpcy5QSWQ9UElkKyssdGhpcy5zbGlkZXI9c2xpZGVyLHRoaXMuJHNsaWRlcj1zbGlkZXIuJGVsZW1lbnQsdGhpcy5zbGlkZXIub3B0aW9ucy5zdGFydE9uQXBwZWFyJiYoc2xpZGVyLmhvbGRPbigpLCRkb2MucmVhZHkoJC5wcm94eSh0aGlzLmluaXQsdGhpcykpKX07U3RhcnRPbkFwcGVhci5uYW1lPVwiTVNTdGFydE9uQXBwZWFyXCI7dmFyIHA9U3RhcnRPbkFwcGVhci5wcm90b3R5cGU7cC5pbml0PWZ1bmN0aW9uKCl7dGhpcy5zbGlkZXIuYXBpOyR3aW5kb3cub24oXCJzY3JvbGwuc29hXCIrdGhpcy5QSWQsJC5wcm94eSh0aGlzLl9vblNjcm9sbCx0aGlzKSkudHJpZ2dlcihcInNjcm9sbFwiKX0scC5fb25TY3JvbGw9ZnVuY3Rpb24oKXt2YXIgdnBCb3R0b209JHdpbmRvdy5zY3JvbGxUb3AoKSskd2luZG93LmhlaWdodCgpLHRvcD10aGlzLiRzbGlkZXIub2Zmc2V0KCkudG9wO3ZwQm90dG9tPnRvcCYmKCR3aW5kb3cub2ZmKFwic2Nyb2xsLnNvYVwiK3RoaXMuUElkKSx0aGlzLnNsaWRlci5yZWxlYXNlKCkpfSxwLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LE1hc3RlclNsaWRlci5yZWdpc3RlclBsdWdpbihTdGFydE9uQXBwZWFyKX19KGpRdWVyeSxkb2N1bWVudCx3aW5kb3cpLGZ1bmN0aW9uKGRvY3VtZW50LHdpbmRvdyl7dmFyIGZpbHRlclVuaXRzPXtcImh1ZS1yb3RhdGVcIjpcImRlZ1wiLGJsdXI6XCJweFwifSxpbml0aWFsVmFsdWVzPXtvcGFjaXR5OjEsY29udHJhc3Q6MSxicmlnaHRuZXNzOjEsc2F0dXJhdGU6MSxcImh1ZS1yb3RhdGVcIjowLGludmVydDowLHNlcGlhOjAsYmx1cjowLGdyYXlzY2FsZTowfTtpZih3aW5kb3cuTWFzdGVyU2xpZGVyKXt2YXIgRmlsdGVycz1mdW5jdGlvbihzbGlkZXIpe3RoaXMuc2xpZGVyPXNsaWRlcix0aGlzLnNsaWRlci5vcHRpb25zLmZpbHRlcnMmJnNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LklOSVQsdGhpcy5pbml0LHRoaXMpfTtGaWx0ZXJzLm5hbWU9XCJNU0ZpbHRlcnNcIjt2YXIgcD1GaWx0ZXJzLnByb3RvdHlwZTtwLmluaXQ9ZnVuY3Rpb24oKXt2YXIgYXBpPXRoaXMuc2xpZGVyLmFwaSx2aWV3PWFwaS52aWV3O3RoaXMuZmlsdGVycz10aGlzLnNsaWRlci5vcHRpb25zLmZpbHRlcnMsdGhpcy5zbGlkZUxpc3Q9dmlldy5zbGlkZUxpc3QsdGhpcy5zbGlkZXNDb3VudD12aWV3LnNsaWRlc0NvdW50LHRoaXMuZGltZW5zaW9uPXZpZXdbdmlldy5fX2RpbWVuc2lvbl0sdGhpcy50YXJnZXQ9XCJzbGlkZVwiPT09dGhpcy5zbGlkZXIub3B0aW9ucy5maWx0ZXJUYXJnZXQ/XCIkZWxlbWVudFwiOlwiJGJnX2ltZ1wiLHRoaXMuZmlsdGVyTmFtZT0kLmJyb3dzZXIud2Via2l0P1wiV2Via2l0RmlsdGVyXCI6XCJmaWx0ZXJcIjt2YXIgc3VwZXJGdW49dmlldy5jb250cm9sbGVyLl9fcmVuZGVySG9vay5mdW4sc3VwZXJSZWY9dmlldy5jb250cm9sbGVyLl9fcmVuZGVySG9vay5yZWY7dmlldy5jb250cm9sbGVyLnJlbmRlckNhbGxiYWNrKGZ1bmN0aW9uKGNvbnRyb2xsZXIsdmFsdWUpe3N1cGVyRnVuLmNhbGwoc3VwZXJSZWYsY29udHJvbGxlcix2YWx1ZSksdGhpcy5hcHBseUVmZmVjdCh2YWx1ZSl9LHRoaXMpLHRoaXMuYXBwbHlFZmZlY3Qodmlldy5jb250cm9sbGVyLnZhbHVlKX0scC5hcHBseUVmZmVjdD1mdW5jdGlvbih2YWx1ZSl7Zm9yKHZhciBmYWN0b3Isc2xpZGUsaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpc2xpZGU9dGhpcy5zbGlkZUxpc3RbaV0sZmFjdG9yPU1hdGgubWluKDEsTWF0aC5hYnModmFsdWUtc2xpZGUucG9zaXRpb24pL3RoaXMuZGltZW5zaW9uKSxzbGlkZVt0aGlzLnRhcmdldF0mJigkLmJyb3dzZXIubXNpZT9udWxsIT10aGlzLmZpbHRlcnMub3BhY2l0eSYmc2xpZGVbdGhpcy50YXJnZXRdLm9wYWNpdHkoMS10aGlzLmZpbHRlcnMub3BhY2l0eSpmYWN0b3IpOnNsaWRlW3RoaXMudGFyZ2V0XVswXS5zdHlsZVt0aGlzLmZpbHRlck5hbWVdPXRoaXMuZ2VuZXJhdGVTdHlsZShmYWN0b3IpKX0scC5nZW5lcmF0ZVN0eWxlPWZ1bmN0aW9uKGZhY3Rvcil7dmFyIHVuaXQsc3R5bGU9XCJcIjtmb3IodmFyIGZpbHRlciBpbiB0aGlzLmZpbHRlcnMpdW5pdD1maWx0ZXJVbml0c1tmaWx0ZXJdfHxcIlwiLHN0eWxlKz1maWx0ZXIrXCIoXCIrKGluaXRpYWxWYWx1ZXNbZmlsdGVyXSsodGhpcy5maWx0ZXJzW2ZpbHRlcl0taW5pdGlhbFZhbHVlc1tmaWx0ZXJdKSpmYWN0b3IpK1wiKSBcIjtyZXR1cm4gc3R5bGV9LHAuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuSU5JVCx0aGlzLmluaXQsdGhpcyl9LE1hc3RlclNsaWRlci5yZWdpc3RlclBsdWdpbihGaWx0ZXJzKX19KGRvY3VtZW50LHdpbmRvdyxqUXVlcnkpLGZ1bmN0aW9uKCQsZG9jdW1lbnQsd2luZG93KXtpZih3aW5kb3cuTWFzdGVyU2xpZGVyKXt2YXIgU2Nyb2xsVG9BY3Rpb249ZnVuY3Rpb24oc2xpZGVyKXt0aGlzLnNsaWRlcj1zbGlkZXIsc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuSU5JVCx0aGlzLmluaXQsdGhpcyl9O1Njcm9sbFRvQWN0aW9uLm5hbWU9XCJNU1Njcm9sbFRvQWN0aW9uXCI7dmFyIHA9U2Nyb2xsVG9BY3Rpb24ucHJvdG90eXBlO3AuaW5pdD1mdW5jdGlvbigpe3ZhciBhcGk9dGhpcy5zbGlkZXIuYXBpO2FwaS5zY3JvbGxUb0VuZD1fc2Nyb2xsVG9FbmQsYXBpLnNjcm9sbFRvPV9zY3JvbGxUb30scC5kZXN0cm95PWZ1bmN0aW9uKCl7fTt2YXIgX3Njcm9sbFRvPWZ1bmN0aW9uKHRhcmdldCxkdXJhdGlvbil7dmFyIHRhcmdldD0odGhpcy5zbGlkZXIuJGVsZW1lbnQsJCh0YXJnZXQpLmVxKDApKTswIT09dGFyZ2V0Lmxlbmd0aCYmKG51bGw9PWR1cmF0aW9uJiYoZHVyYXRpb249MS40KSwkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHtzY3JvbGxUb3A6dGFyZ2V0Lm9mZnNldCgpLnRvcH0sMWUzKmR1cmF0aW9uLFwiZWFzZUluT3V0UXVhZFwiKSl9LF9zY3JvbGxUb0VuZD1mdW5jdGlvbihkdXJhdGlvbil7dmFyIHNsaWRlckVsZT10aGlzLnNsaWRlci4kZWxlbWVudDtudWxsPT1kdXJhdGlvbiYmKGR1cmF0aW9uPTEuNCksJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7c2Nyb2xsVG9wOnNsaWRlckVsZS5vZmZzZXQoKS50b3Arc2xpZGVyRWxlLm91dGVySGVpZ2h0KCExKX0sMWUzKmR1cmF0aW9uLFwiZWFzZUluT3V0UXVhZFwiKX07TWFzdGVyU2xpZGVyLnJlZ2lzdGVyUGx1Z2luKFNjcm9sbFRvQWN0aW9uKX19KGpRdWVyeSxkb2N1bWVudCx3aW5kb3cpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFzdGVyc2xpZGVyLm1pbi5qcy5tYXAiXSwiZmlsZSI6Im1hc3RlcnNsaWRlci5taW4uanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
